"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,n,t,o,i){"function"==typeof define&&define.amd?define(function(){return e.fullpage=o(n,t),e.fullpage}):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=o(n,t):n.fullpage=o(n,t)}(void 0,window,document,function(e,n,t){function o(e){h(qe,Je),Ye(),je.css3&&(je.css3=Me()),null!==qe?(c(qe,{height:"100%",position:"relative"}),g(qe,Ke),g(f("html"),Qe)):Xe("error","Error! Fullpage.js needs to be initialized with a selector. For example: fullpage('#fullpage');"),R(!0),Pe(),Ne(),Be();var n=u(je.sectionSelector);for(i=0;i<n.length;++i)g(n[i],on);var t=u(je.slideSelector);for(i=0;i<t.length;++i)g(t[i],vn);je.navigation&&_();for(var o=u(rn),i=0;i<o.length;i++){var r=i,a=o[i],l=u(dn,a),v=l.length;if(r||null!==f(an)||g(a,en),void 0!==je.anchors[r]&&(a.setAttribute("data-anchor",je.anchors[r]),p(a,en)&&de(je.anchors[r],r)),v>0){var d=100*v,m=100/v,S=a.innerHTML,y='<div class="'+hn+'"><div class="'+mn+'">'+S+"</div></div>";a.innerHTML=y,l=u(dn,a),s(f(Sn,a),"width",d+"%"),je.controlArrows&&v>1&&W(a),je.slidesNavigation&&Te(a,v);for(var b=0;b<l.length;b++)s(l[b],"width",m+"%");var T=f(pn,a);null!==typeof T?g(l[0],en):Re(T)}}e()}function i(){for(var t=u(Ln),o=0;o<t.length;o++)w(t[o],"click onclick touchstart",ie);P(je.autoScrolling,"internal");var i=f(an),r=f(pn,i),a=v(f(an));r&&(0!==a||0===a&&0!==v(r))&&Re(r),je.navigation&&(s(Fe,"margin-top","-"+Fe.offsetHeight/2+"px"),g(f("a",u("li",Fe)[v(f(an))]),en)),F();var l=e.location.hash.replace("#","").split("/")[0];if(l.length){var c=f('[data-anchor="'+l+'"]');if(!je.animateAnchor&&c.length){if(je.autoScrolling)Ie(c.offsetTop);else{Ie(0),xe(l);var d=ne(c.offsetTop);E(d.element,d.options,0)}de(l,null),L(je.afterLoad)&&je.afterLoad.call(c,l,v(c)+1),h(i,en),g(c,en)}}xe(),Ce(n,oe,"DOMContentLoaded","DOMContentLoaded","DOMContentLoaded")}function r(e,n){"object"!==(void 0===n?"undefined":_typeof(n))&&(n={});for(var t in n)e.hasOwnProperty(t)&&(e[t]=n[t]);return e}function a(e){return n.getElementById(e)}function l(e){return n.getElementsByTagName(e)[0]}function c(e,n){var t;for(t in n)n.hasOwnProperty(t)&&null!==t&&(e.style[t]=n[t]);return e}function s(e,n,t){e.style[n]=t}function f(e,t){return(t=t||n).querySelector(e)}function u(e,t){return(t=t||n).querySelectorAll(e)}function v(e){for(var n=0;e=e.previousSibling;)3==e.nodeType&&/^\s*$/.test(e.data)||n++;return n}function d(e,n){return void 0!==n?e.style.display=n?"block":"none":"block"==e.style.display?e.style.display="none":e.style.display="block",e}function p(e,n){return!!e.className.match(new RegExp("(\\s|^)"+n+"(\\s|$)"))}function h(e,n){if(e&&p(e,n)){var t=new RegExp("(\\s|^)"+n+"(\\s|$)");e.className=e.className.replace(t,"")}}function g(e,n){e&&!p(e,n)&&(e.className+=" "+n)}function m(e,n){return e&&(n(e)?e:m(e.parentNode,n))}function S(){return"innerWidth"in e?e.innerWidth:n.documentElement.offsetWidth}function y(){return"innerHeight"in e?e.innerHeight:n.documentElement.offsetHeight}function b(e){if(null===e||"object"!==(void 0===e?"undefined":_typeof(e)))return e;var n=e.constructor();for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function T(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function L(e){var n={};return e&&"[object Function]"===n.toString.call(e)}function w(e,t,o){for(var i=t.split(" "),r=0,a=i.length;r<a;r++)n.addEventListener?e.addEventListener(i[r],o,!1):e.attachEvent(i[r],o,!1)}function E(e,n,t,o){var i=B(e),r=n-i,a=0;Ue=!0;!function l(){if(Ue){var c=n;a+=20,c=Math.easeInOutCubic(a,i,r,t),C(e,c),a<t?setTimeout(l,20):void 0!==o&&o()}else a<t&&o()}()}function x(){var t=n.documentElement;return(e.pageYOffset||t.scrollTop)-(t.clientTop||0)}function M(e,n){for(var t=[];e;e=e.nextSibling)1==e.nodeType&&e!=n&&t.push(e);return t}function k(e){return M(e.parentNode.firstChild,e)}function A(e){for(var n=e.nextSibling;n&&1!=n.nodeType;)n=n.nextSibling;return n}function N(e){for(var n=e.previousSibling;n&&1!=n.nodeType;)n=n.previousSibling;return n}function B(n){return n.self!=e&&p(n,hn)?n.scrollLeft:!je.autoScrolling||je.scrollBar?x():n.offsetTop}function C(n,t){!je.autoScrolling||je.scrollBar||n.self!=e&&p(n,hn)?n.self!=e&&p(n,hn)?n.scrollLeft=t:n.scrollTo(0,t):n.style.top=t+"px"}function P(e,t){Oe("autoScrolling",e,t);var o=f(an);if(je.autoScrolling&&!je.scrollBar)c(n.body,{overflow:"hidden",height:"100%"}),c(l("html"),{overflow:"hidden",height:"100%"}),H(je.recordHistory,"internal"),c(qe,{"-ms-touch-action":"none","touch-action":"none"}),o&&Ie(o.offsetTop);else{c(n.body,{overflow:"visible",height:"100%"}),c(l("html"),{overflow:"visible",height:"100%"}),H(!1,"internal"),c(qe,{"-ms-touch-action":"","touch-action":""}),Ie(0);var i=ne(o.offsetTop);i.element.scrollTo(0,i.options)}}function H(e,n){Oe("recordHistory",e,n)}function z(e,n){Oe("scrollingSpeed",e,n)}function R(e){e?Ae():ke()}function I(){var e=N(f(an));e&&Z(e,null,!0)}function D(){var e=A(f(an));e&&Z(e,null,!1)}function O(e,n){var t=me(e);void 0!==n?ye(e,n):t&&Z(t)}function Y(){Q("next")}function X(){Q("prev")}function j(e){if(!p(qe,Je)){Pn=!0,Cn=y();for(var n=u(rn),t=0;t<n.length;++t){var o=n[t],i=f(gn,o),r=u(dn,o);i&&r.length>1&&le(i,f(pn,i))}var a=f(an);v(a)&&Ie(a.offsetTop),Pn=!1,L(je.afterResize)&&e&&je.afterResize.call(qe),L(je.afterReBuild)&&!e&&je.afterReBuild.call(qe)}}function W(e){var t=n.createElement("div");t.className=En;var o=n.createElement("div");o.className=Mn;var i=f(gn,e);je.controlArrowColor,i.parentNode.appendChild(t),i.parentNode.appendChild(o),je.loopHorizontal||(f(xn,e).style.display="none")}function _(){var o=n.createElement("div");o.setAttribute("id",ln);var i=n.createElement("ul");o.appendChild(i),n.body.appendChild(o),s(Fe=f(cn),"color",je.navigationColor),g(Fe,je.navigationPosition),je.showActiveTooltip&&g(Fe,fn);for(var r="",a=0;a<u(rn).length;a++){var l="";je.anchors.length&&(l=je.anchors[a]),r=r+'<li><a href="#'+l+'"><span></span></a>';var c=je.navigationTooltips[a];(void 0===c?"undefined":_typeof(c))!==t&&""!==c&&(r+='<div class="'+sn+" "+je.navigationPosition+'">'+c+"</div>"),r+="</li>"}var d=f("ul",Fe);d.innerHTML=d.innerHTML+r;for(var p=u(Tn),h=0;h<p.length;h++)w(p[h],"click onclick touchstart",function(n){T(n=e.event||n||n.originalEvent);var t=v(this.parentNode);Z(u(rn)[t],null,!1)})}function F(){var e=f(an);L(je.afterLoad)&&je.afterLoad.call(e,e.getAttribute("data-anchor"),v(e)+1),L(je.afterRender)&&je.afterRender.call(qe)}function U(){var e;if(!je.autoScrolling||je.scrollBar){for(var n=x(),t=0,o=Math.abs(n-u(rn)[0].offsetTop),i=u(rn),r=0;r<i.length;++r){var a=i[r],l=Math.abs(n-a.offsetTop);l<o&&(t=r,o=l)}e=u(rn)[t]}if(!je.autoScrolling||je.scrollBar){if(!p(e,en)){Dn=!0;var c=f(an),s=v(c)+1,d=pe(e),m=e.getAttribute("data-anchor"),S=v(e)+1,y=f(pn,e);if(y)var b=y.getAttribute("data-anchor"),T=v(y);Hn&&(h(c,en),g(e,en),L(je.onLeave)&&je.onLeave.call(c,s,S,d),L(je.afterLoad)&&je.afterLoad.call(e,m,S),de(m,0),je.anchors.length&&(We=m,Le(T,b,m,S))),clearTimeout(Rn),Rn=setTimeout(function(){Dn=!1},100)}je.fitToSection&&(clearTimeout(In),In=setTimeout(function(){(Hn&&!je.autoScrolling||je.scrollBar)&&(v(f(an))==v(e)&&(Pn=!0),Z(e),Pn=!1)},je.fitToSectionDelay))}}function $(e){"down"==e?D():I()}function q(n){var t=e.event||n||n.originalEvent;if(K(t)){je.autoScrolling&&T(n);var o=f(an),i=u(gn,o);if(Hn&&!An){var r=ze(t);Xn=r.y,jn=r.x,i&&Math.abs(Yn-jn)>Math.abs(On-Xn)?Math.abs(Yn-jn)>S()/100*je.touchSensitivity&&(Yn>jn?Y():X()):je.autoScrolling&&Math.abs(On-Xn)>y()/100*je.touchSensitivity&&(On>Xn?$("down"):Xn>On&&$("up"))}}}function K(e){return void 0===e.pointerType||"mouse"!=e.pointerType}function V(n){var t=e.event||n||n.originalEvent;if(je.fitToSection&&(Ue=!1),K(t)){var o=ze(t);On=o.y,Yn=o.x}}function G(e,n){for(var t=0,o=e.slice(Math.max(e.length-n,1)),i=0;i<o.length;i++)t+=o[i];return Math.ceil(t/n)}function J(n){var t=(new Date).getTime();if(je.autoScrolling){var o=(n=e.event||n||n.originalEvent).wheelDelta||-n.deltaY||-n.detail,i=Math.max(-1,Math.min(1,o));zn.length>149&&zn.shift(),zn.push(Math.abs(o)),je.scrollBar&&T(n);var r=t-Wn;return Wn=t,r>200&&(zn=[]),Hn&&G(zn,10)>=G(zn,70)&&$(i<0?"down":"up"),!1}je.fitToSection&&(Ue=!1)}function Q(e){var n=f(an),t=f(gn,n);if(t&&!An){var o=f(pn,t),i=null;if(!(i="prev"===e?N(o):A(o))){if(!je.loopHorizontal)return;var r=k(o);i="prev"===e?r[r.length-1]:r[0]}An=!0,le(t,i)}}function Z(e,n,t){if(null!==e){var o={element:e,callback:n,isMovementUp:t,dtop:e.offsetTop,yMovement:pe(e),anchorLink:e.getAttribute("data-anchor"),sectionIndex:v(e),activeSlide:f(pn,e),activeSection:f(an),leavingSection:v(f(an))+1,localIsResizing:Pn};if(!(v(o.activeSection)==o.sectionIndex&&!Pn||je.scrollBar&&x()===o.dtop)){if(o.activeSlide)var i=o.activeSlide.getAttribute("data-anchor"),r=v(o.activeSlide);for(var a=u(rn),l=0;l<a.length;l++)h(a[l],en);g(e,en),Hn=!1,Le(r,i,o.anchorLink,o.sectionIndex),L(je.onLeave)&&!o.localIsResizing&&je.onLeave.call(o.activeSection,o.leavingSection,o.sectionIndex+1,o.yMovement),ee(o),We=o.anchorLink,de(o.anchorLink,o.sectionIndex)}}}function ee(e){if(je.css3&&je.autoScrolling&&!je.scrollBar)ge("translate3d(0px, -"+e.dtop+"px, 0px)",!0),je.scrollingSpeed?setTimeout(function(){te(e)},je.scrollingSpeed):te(e);else{var n=ne(e.dtop);E(n.element,n.options,je.scrollingSpeed,function(){te(e)})}}function ne(n){var t={};return je.autoScrolling&&!je.scrollBar?(t.options=-n,t.element=f("."+Ke)):(t.options=n,t.element=e),t}function te(e){L(je.afterLoad)&&!e.localIsResizing&&je.afterLoad.call(e.element,e.anchorLink,e.sectionIndex+1),Hn=!0,L(e.callback)&&e.callback.call(this)}function oe(){var n=e.location.hash.replace("#","").split("/"),t=n[0],o=n[1];t&&ye(t,o)}function ie(n){var t=this;t.self==e&&(t=n.target||n.srcElement),p(t,wn)?X():Y()}function re(){if(!Dn){var n=e.location.hash.replace("#","").split("/"),t=n[0],o=n[1];if(t.length){var i=void 0===We,r=void 0===We&&void 0===o&&!An;(t&&t!==We&&!i||r||!An&&_e!=o)&&ye(t,o)}}}function ae(e,n){switch(n){case 38:case 33:I();break;case 32:if(e){I();break}case 40:case 34:D();break;case 36:O(1);break;case 35:O(u(rn).length);break;case 37:X();break;case 39:Y();break;default:return}}function le(e,n){var t=v(n),o=m(e,function(e){return p(e,on)}),i=v(o),r=o.getAttribute("data-anchor"),a=f(bn,o),l=Ee(n),c=Pn;if(je.onSlideLeave){var s=f(pn,o),S=v(s),y=he(S,t);c||"none"===y||L(je.onSlideLeave)&&je.onSlideLeave.call(s,r,i+1,S,y,t)}for(var b=u(dn,o),T=0;T<b.length;T++)h(b[T],en);g(n,en),!je.loopHorizontal&&je.controlArrows&&(d(f(xn,o),0!==t),d(f(kn,o),!n.is(":last-child"))),p(o,en)&&Le(t,l,r,i);var w=function(){c||L(je.afterSlideLoad)&&je.afterSlideLoad.call(n,r,i+1,l,t),An=!1};if(je.css3){var x="translate3d(-"+Math.round(n.offsetLeft)+"px, 0px, 0px)",M=f(Sn,e);se(M,je.scrollingSpeed>0),De(M,x),setTimeout(function(){w()},je.scrollingSpeed,je.easing)}else E(e,Math.round(n.offsetLeft),je.scrollingSpeed,function(){w()});je.slidesNavigation&&(h(f(nn,a),en),g(f("a",u("li",a)[t]),en))}function ce(){if(Nn){if("text"!==n.activeElement.getAttribute("type")){var e=y();Math.abs(e-Un)>20*Math.max(Un,e)/100&&(j(!0),Un=e)}}else clearTimeout(Fn),Fn=setTimeout(function(){j(!0)},350)}function se(e){var n="all "+je.scrollingSpeed+"ms "+je.easingcss3;return h(e,Ge),c(e,{"-webkit-transition":n,transition:n}),e}function fe(e){return g(e,Ge)}function ue(e,n){je.navigation&&(h(f(nn,Fe),en),e?g(f('a[href="#'+e+'"]',Fe),en):g(f("a",u("li",Fe)[n]),en))}function ve(e){if(je.menu){var n=f(je.menu);n&&(h(f(nn,n),en),g(f('[data-menuanchor="'+e+'"]',n),en))}}function de(e,n){ve(e),ue(e,n)}function pe(e){var n=v(f(an)),t=v(e);return n==t?"none":n>t?"up":"down"}function he(e,n){return e==n?"none":e>n?"left":"right"}function ge(e,n){n?se(qe):fe(qe),De(qe,e),setTimeout(function(){h(qe,Ge)},10)}function me(e){var n=f(rn+'[data-anchor="'+e+'"]');return n||(n=u(rn)[e-1]),n}function Se(e,n){var t=f(gn,n),o=f(dn+'[data-anchor="'+e+'"]',t);return t&&!o&&(o=u(dn,t)[e]),o}function ye(e,n){var t=me(decodeURI(e));void 0===n&&(n=0),e===We||p(t,en)?be(t,n):Z(t,function(){be(t,n)})}function be(e,n){if(void 0!==n){var t=f(gn,e),o=Se(n,e);o&&le(t,o)}}function Te(e,t){var o=n.createElement("div");o.className=yn;var i=n.createElement("ul");o.appendChild(i),e.appendChild(o);var r=f(bn,e),a=f("ul",r);g(r,je.slidesNavPosition);for(var l="",c=0;c<t;c++)l+='<li><a href="#"><span></span></a></li>';a.innerHTML=a.innerHTML+l,s(r,"margin-left","-"+r.offsetWidth/2+"px"),g(f("a",u("li",r)[0]),en)}function Le(e,n,t,o){var i="";je.anchors.length&&(e?(void 0!==t&&(i=t),void 0===n&&(n=e),_e=n,we(i+"/"+n)):void 0!==e?(_e=n,we(t)):we(t)),xe()}function we(n){if(je.recordHistory)location.hash=n;else if(Nn||Bn)history.replaceState(t,t,"#"+n);else{var o=e.location.href.split("#")[0];e.location.replace(o+"#"+n)}}function Ee(e){var n=e.getAttribute("data-anchor"),t=v(e);return n||(n=t),n}function xe(e){var t=f(an),o=f(pn,t),i=t.getAttribute("data-anchor"),r=v(t),e=String(r);je.anchors.length&&(e=i),o&&(e=e+"-"+Ee(o)),e=e.replace("/","-").replace("#","");var a=new RegExp("\\b\\s?"+Ze+"-[^\\s]+\\b","g");n.body.className=n.body.className.replace(a,""),g(n.body,Ze+"-"+e)}function Me(){var o,i=n.createElement("p"),r={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};n.body.insertBefore(i,null);for(var a in r)i.style[a]!==t&&(i.style[a]="translate3d(1px,1px,1px)",o=e.getComputedStyle(i).getPropertyValue(r[a]));return n.body.removeChild(i),o!==t&&o.length>0&&"none"!==o}function ke(){var e=f(Ve);n.addEventListener?(e.removeEventListener("mousewheel",J,!1),e.removeEventListener("wheel",J,!1)):e.detachEvent("onmousewheel",J)}function Ae(){Ce(f(Ve),J,"mousewheel","onmousewheel","wheel")}function Ne(){Ce(e,ce,"resize","onresize")}function Be(){Ce(e,U,"scroll","onscroll","onscroll")}function Ce(e,n,t,o,i){e.addEventListener?(e.addEventListener(t,n,!1),void 0!==i&&e.addEventListener(i,n,!1)):e.attachEvent(o,n)}function Pe(){if(Nn||Bn){var e=f(Ve);if(n.addEventListener){var t=He();e.removeEventListener("touchstart",V),e.removeEventListener(t.down,V),e.removeEventListener("touchmove",q),e.removeEventListener(t.move,q),w(e,"touchstart "+t.down,V),w(e,"touchmove "+t.move,q)}}}function He(){return e.PointerEvent?{down:"pointerdown",move:"pointermove"}:{down:"MSPointerDown",move:"MSPointerMove"}}function ze(e){var n=[];return n.y=void 0!==e.pageY&&(e.pageY||e.pageX)?e.pageY:e.touches[0].pageY,n.x=void 0!==e.pageX&&(e.pageY||e.pageX)?e.pageX:e.touches[0].pageX,Bn&&K(e)&&(n.y=e.touches[0].pageY,n.x=e.touches[0].pageX),n}function Re(e,n){z(0,"internal"),void 0!==n&&(Pn=!0),le(m(e,function(e){return p(e,hn)}),e),void 0!==n&&(Pn=!1),z($e.scrollingSpeed,"internal")}function Ie(e){if(je.scrollBar){var n=ne(e);C(n.element,n.options,0)}else je.css3?ge("translate3d(0px, -"+e+"px, 0px)",!1):s(qe,"top",-e+"px")}function De(e,n){c(e,{"-webkit-transform":n,"-moz-transform":n,"-ms-transform":n,transform:n})}function Oe(e,n,t){je[e]=n,"internal"!==t&&($e[e]=n)}function Ye(){for(var e=0;e<je.anchors.length;e++){var n=je.anchors[e];(a("#"+n)||u('[name="'+n+'"]').length)&&Xe("error","data-anchor tags can not have the same value as any `id` element on the site (or `name` element for IE).")}}function Xe(e,n){console&&console[e]&&console[e]("fullPage: "+n)}var je,We,_e,Fe,Ue,$e,qe,Ke="fullpage-wrapper",Ve="."+Ke,Ge="fp-notransition",Je="fp-destroyed",Qe="fp-enabled",Ze="fp-viewing",en="active",nn="."+en,tn=".section",on="fp-section",rn="."+on,an=rn+nn,ln="fp-nav",cn="#"+ln,sn="fp-tooltip",fn="fp-show-active",un=".slide",vn="fp-slide",dn="."+vn,pn=dn+nn,hn="fp-slides",gn="."+hn,mn="fp-slidesContainer",Sn="."+mn,yn="fp-slidesNav",bn="."+yn,Tn=bn+" a",Ln=".fp-controlArrow",wn="fp-prev",En="fp-controlArrow "+wn,xn=Ln+("."+wn),Mn="fp-controlArrow fp-next",kn=Ln+".fp-next",An=!1,Nn=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),Bn="ontouchstart"in e||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints,Cn=y(),Pn=!1,Hn=!0,zn=[];Math.easeInOutCubic=function(e,n,t,o){return(e/=o/2)<1?t/2*e*e*e+n:t/2*((e-=2)*e*e+2)+n};var Rn,In,Dn=!1,On=0,Yn=0,Xn=0,jn=0,Wn=(new Date).getTime();n.addEventListener?e.addEventListener("hashchange",re,!1):e.attachEvent("onhashchange",re);var _n;n.onkeydown=function(t){clearTimeout(_n);var o=n.activeElement.tagName;if("SELECT"!==o&&"INPUT"!==o&&je.keyboardScrolling&&je.autoScrolling){for(var i=(t=e.event||t||t.originalEvent).charCode||t.keyCode,r=[40,38,32,33,34],a=0;a<r.length;a++)r[a]==i&&T(t);var l=t.shiftKey;_n=setTimeout(function(){ae(l,i)},150)}},null!==f(Tn)&&w(f(Tn),"click onclick touchstart",function(e){T(e);var n=m(this,function(e){return p(e1,on)}),t=f(gn,n),o=v(m(this,function(e){return"li"===e.tagName}));le(t,u(dn,t)[o])});var Fn,Un=Cn;return{initialize:function(e,n){je=r({menu:!1,anchors:[],navigation:!1,navigationPosition:"right",navigationColor:"#000",navigationTooltips:[],showActiveTooltip:!1,slidesNavigation:!1,slidesNavPosition:"bottom",scrollBar:!1,css3:!0,scrollingSpeed:700,autoScrolling:!0,fitToSection:!0,fitToSectionDelay:1e3,easingcss3:"ease",loopHorizontal:!0,touchSensitivity:5,keyboardScrolling:!0,recordHistory:!0,controlArrows:!0,sectionSelector:tn,slideSelector:un,afterLoad:null,onLeave:null,afterRender:null,afterResize:null,afterReBuild:null,afterSlideLoad:null,onSlideLeave:null},n),$e=b(je),qe=f(e),o(i)},moveSectionUp:I,moveSectionDown:D,moveTo:O,silentMoveTo:function(e,n){z(0,"internal"),O(e,n),z($e.scrollingSpeed,"internal")},moveSlideRight:Y,moveSlideLeft:X,setAutoScrolling:P,setFitToSection:function(e,n){Oe("fitToSection",e,n)},setKeyboardScrolling:function(e){je.keyboardScrolling=e},setRecordHistory:H,setScrollingSpeed:z}});
"use strict";fullpage.initialize("#fullpage",{css3:!0,scrollingSpeed:1e3});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZ1bGxwYWdlLmpzIiwibWFpbi5qcyJdLCJuYW1lcyI6WyJyb290Iiwid2luZG93IiwiZG9jdW1lbnQiLCJmYWN0b3J5IiwidW5kZWZpbmVkIiwiZGVmaW5lIiwiYW1kIiwiZnVsbHBhZ2UiLCJleHBvcnRzIiwiX3R5cGVvZiIsIm1vZHVsZSIsImluaXQiLCJhZnRlckRvbVJlYWR5IiwicmVtb3ZlQ2xhc3MiLCJjb250YWluZXIiLCJERVNUUk9ZRUQiLCJkaXNwbGF5V2FybmluZ3MiLCJvcHRpb25zIiwiY3NzMyIsInN1cHBvcnQzZCIsImNzcyIsImhlaWdodCIsImFkZENsYXNzIiwiV1JBUFBFUiIsIiQiLCJFTkFCTEVEIiwic2hvd0Vycm9yIiwiYWRkVG91Y2hIYW5kbGVyIiwiYWRkUmVzaXplSGFuZGxlciIsInNldE1vdXNlV2hlZWxTY3JvbGxpbmciLCJhZGRTY3JvbGxIYW5kbGVyIiwiaSIsIm9yaWdpbmFsU2VjdGlvbnMiLCJsZW5ndGgiLCJTRUNUSU9OIiwic2xpZGVTZWxlY3RvciIsIm9yaWdpbmFsU2xpZGVzIiwiU0xJREUiLCJuYXZpZ2F0aW9uIiwiYWRkVmVydGljYWxOYXZpZ2F0aW9uIiwic2VjdGlvbnMiLCJpbmRleCIsIlNFQ1RJT05fU0VMIiwiJCQiLCJTTElERV9TRUwiLCJzZWN0aW9uIiwibnVtU2xpZGVzIiwiQUNUSVZFIiwic2V0QXR0cmlidXRlIiwiYW5jaG9ycyIsImFjdGl2YXRlTWVudUFuZE5hdiIsInNsaWRlcldpZHRoIiwic2xpZGVXaWR0aCIsIlNMSURFU19DT05UQUlORVIiLCJzbGlkZXNIVE1MIiwiaW5uZXJIVE1MIiwibmV3SFRNTCIsInNldENzcyIsIlNMSURFU19DT05UQUlORVJfU0VMIiwiY29udHJvbEFycm93cyIsImNyZWF0ZVNsaWRlQXJyb3dzIiwiYWRkU2xpZGVzTmF2aWdhdGlvbiIsImEiLCJzbGlkZXMiLCJzdGFydGluZ1NsaWRlIiwiU0xJREVfQUNUSVZFX1NFTCIsInNpbGVudExhbmRzY2FwZVNjcm9sbCIsImNhbGxiYWNrIiwic2xpZGVzQXJyb3dzIiwiU0xJREVTX0FSUk9XX1NFTCIsImFkZExpc3RlbmVyTXVsdGkiLCJhcnJvd3NIYW5kbGVyIiwic2V0QXV0b1Njcm9sbGluZyIsImF1dG9TY3JvbGxpbmciLCJhY3RpdmVTZWN0aW9uIiwiU0VDVElPTl9BQ1RJVkVfU0VMIiwiYWN0aXZlU2xpZGUiLCJhY3RpdmVTZWN0aW9uSW5kZXgiLCJnZXROb2RlSW5kZXgiLCJuYXYiLCJvZmZzZXRIZWlnaHQiLCJhZnRlclJlbmRlckFjdGlvbnMiLCJkZXN0aW55IiwibG9jYXRpb24iLCJoYXNoIiwicmVwbGFjZSIsInNwbGl0Iiwic2lsZW50U2Nyb2xsIiwib2Zmc2V0VG9wIiwic2V0Qm9keUNsYXNzIiwic2Nyb2xsVG8iLCJzY3JvbGxTZXR0aW5ncyIsImVsZW1lbnQiLCJpc0Z1bmN0aW9uIiwiYWZ0ZXJMb2FkIiwiY2FsbCIsImFkZEhhbmRsZXIiLCJzY3JvbGxUb0FuY2hvciIsImV4dGVuZCIsImRlZmF1bHRPcHRpb25zIiwia2V5IiwiZ2V0QnlJZCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0QnlUYWciLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImVsIiwicHJvcHMiLCJzdHlsZSIsInZhbHVlIiwiY29udGV4dCIsInF1ZXJ5U2VsZWN0b3IiLCJzZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJub2RlIiwibm9kZVR5cGUiLCJwcmV2aW91c1NpYmxpbmciLCJ0b2dnbGUiLCJkaXNwbGF5IiwiaGFzQ2xhc3MiLCJlbGUiLCJjbHMiLCJjbGFzc05hbWUiLCJtYXRjaCIsIlJlZ0V4cCIsInJlZyIsImNsb3Nlc3QiLCJmbiIsImdldFdpbmRvd1dpZHRoIiwicGFyZW50Tm9kZSIsImdldFdpbmRvd0hlaWdodCIsImlubmVySGVpZ2h0Iiwib2Zmc2V0V2lkdGgiLCJjbG9uZSIsIm9iaiIsImRvY3VtZW50RWxlbWVudCIsImNvcHkiLCJhdHRyIiwiaGFzT3duUHJvcGVydHkiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZnVuY3Rpb25Ub0NoZWNrIiwiZ2V0VHlwZSIsInJldHVyblZhbHVlIiwiZXZ0cyIsInRvU3RyaW5nIiwiYWRkRXZlbnRMaXN0ZW5lciIsInMiLCJhdHRhY2hFdmVudCIsImlMZW4iLCJpbmNyZW1lbnQiLCJ0byIsImR1cmF0aW9uIiwiYWN0aXZlQW5pbWF0aW9uIiwiY2hhbmdlIiwic3RhcnQiLCJhbmltYXRlU2Nyb2xsIiwiY3VycmVudFRpbWUiLCJ2YWwiLCJNYXRoIiwic2V0U2Nyb2xsaW5nIiwiZWFzZUluT3V0Q3ViaWMiLCJzZXRUaW1lb3V0IiwiZ2V0U2Nyb2xsVG9wIiwiZG9jIiwicGFnZVlPZmZzZXQiLCJzY3JvbGxUb3AiLCJjbGllbnRUb3AiLCJnZXRDaGlsZHJlbiIsInNraXBNZSIsInIiLCJuIiwibmV4dFNpYmxpbmciLCJwdXNoIiwiZ2V0QWxsU2libGluZ3MiLCJuZXh0IiwicHJldlNpYmxpbmciLCJwcmV2IiwiZ2V0U2Nyb2xsZWRQb3NpdGlvbiIsInNlbGYiLCJTTElERVNfV1JBUFBFUiIsInNjcm9sbExlZnQiLCJwb3NpdGlvbiIsInNjcm9sbEJhciIsInNldFZhcmlhYmxlU3RhdGUiLCJ0b3AiLCJ0eXBlIiwiYm9keSIsIm92ZXJmbG93Iiwic2V0UmVjb3JkSGlzdG9yeSIsInJlY29yZEhpc3RvcnkiLCItbXMtdG91Y2gtYWN0aW9uIiwidG91Y2gtYWN0aW9uIiwiZ2V0U2Nyb2xsU2V0dGluZ3MiLCJzZXRTY3JvbGxpbmdTcGVlZCIsInJlbW92ZU1vdXNlV2hlZWxIYW5kbGVyIiwibW92ZVNlY3Rpb25VcCIsIm1vdmVTZWN0aW9uRG93biIsIm1vdmVUbyIsInNlY3Rpb25BbmNob3IiLCJzbGlkZUFuY2hvciIsImdldFNlY3Rpb25CeUFuY2hvciIsIm1vdmVTbGlkZVJpZ2h0IiwibW92ZVNsaWRlIiwic2Nyb2xsUGFnZSIsIm1vdmVTbGlkZUxlZnQiLCJyZUJ1aWxkIiwic2xpZGVzV3JhcCIsIlNMSURFU19XUkFQUEVSX1NFTCIsImlzUmVzaXppbmciLCJ3aW5kb3dzSGVpZ2h0IiwiYWZ0ZXJSZUJ1aWxkIiwiYWZ0ZXJSZXNpemUiLCJyZXNpemluZyIsImNyZWF0ZUVsZW1lbnQiLCJTTElERVNfQVJST1dfUFJFViIsImFwcGVuZENoaWxkIiwiU0xJREVTX0FSUk9XX05FWFQiLCJsb29wSG9yaXpvbnRhbCIsImNvbnRyb2xBcnJvd0NvbG9yIiwiU0xJREVTX0FSUk9XX1BSRVZfU0VMIiwibmF2aWdhdGlvbkNvbG9yIiwibmF2aWdhdGlvblBvc2l0aW9uIiwic2hvd0FjdGl2ZVRvb2x0aXAiLCJkaXZVbCIsImRpdiIsIlNFQ1RJT05fTkFWX1NFTCIsImxpbmsiLCJTSE9XX0FDVElWRV9UT09MVElQIiwibGkiLCJ0b29sdGlwIiwibmF2aWdhdGlvblRvb2x0aXBzIiwibGlua3MiLCJTTElERVNfTkFWX0xJTktfU0VMIiwiZSIsInVsIiwibCIsIm9yaWdpbmFsRXZlbnQiLCJ0aGlzIiwic2Nyb2xsSGFuZGxlciIsImdldEF0dHJpYnV0ZSIsImN1cnJlbnRTZWN0aW9uIiwiY3VycmVudCIsInZpc2libGVTZWN0aW9uSW5kZXgiLCJpbml0aWFsIiwiYWJzIiwiY3VycmVudFNjcm9sbCIsImlzU2Nyb2xsaW5nIiwic2VjdGlvbkluZGV4Iiwic2xpZGVBbmNob3JMaW5rIiwibGVhdmluZ1NlY3Rpb24iLCJ5TW92ZW1lbnQiLCJnZXRZbW92ZW1lbnQiLCJhbmNob3JMaW5rIiwiY2FuU2Nyb2xsIiwib25MZWF2ZSIsImxlYXZpbmdTZWN0aW9uSW5kZXgiLCJjbGVhclRpbWVvdXQiLCJzY3JvbGxJZCIsImZpdFRvU2VjdGlvbiIsInNjcm9sbElkMiIsImZpdFRvU2VjdGlvbkRlbGF5Iiwic2Nyb2xsaW5nIiwidG91Y2hNb3ZlSGFuZGxlciIsInRvdWNoRXZlbnRzIiwidG91Y2hFbmRZIiwiaXNSZWFsbHlUb3VjaCIsInRvdWNoU3RhcnRYIiwiZ2V0RXZlbnRzUGFnZSIsInkiLCJ0b3VjaEVuZFgiLCJ4IiwidG91Y2hTdGFydFkiLCJ0b3VjaFNlbnNpdGl2aXR5IiwicG9pbnRlclR5cGUiLCJ0b3VjaFN0YXJ0SGFuZGxlciIsImdldEF2ZXJhZ2UiLCJzdW0iLCJsYXN0RWxlbWVudHMiLCJlbGVtZW50cyIsIm51bWJlciIsInByZXZUaW1lIiwiZ2V0VGltZSIsIm1heCIsIk1vdXNlV2hlZWxIYW5kbGVyIiwiY3VyVGltZSIsInNjcm9sbGluZ3MiLCJ3aGVlbERlbHRhIiwiZGVsdGFZIiwiZGV0YWlsIiwidGltZURpZmYiLCJzaGlmdCIsImlzQWNjZWxlcmF0aW5nIiwiZGVsdGEiLCJzbGlkZU1vdmluZyIsImN1cnJlbnRTbGlkZSIsImRpcmVjdGlvbiIsImxhbmRzY2FwZVNjcm9sbCIsInNpYmxpbmdzIiwiYWN0aXZlU2xpZGVzIiwiaXNNb3ZlbWVudFVwIiwibG9jYWxJc1Jlc2l6aW5nIiwidiIsInNsaWRlSW5kZXgiLCJkdG9wIiwic2V0U3RhdGUiLCJwZXJmb3JtTW92ZW1lbnQiLCJsYXN0U2Nyb2xsZWREZXN0aW55Iiwic2Nyb2xsaW5nU3BlZWQiLCJ0cmFuc2Zvcm1Db250YWluZXIiLCJhZnRlclNlY3Rpb25Mb2FkcyIsInNjcm9sbCIsInNjcm9sbFBhZ2VBbmRTbGlkZSIsImhhc2hDaGFuZ2VIYW5kbGVyIiwic2xpZGUiLCJzcmNFbGVtZW50IiwiU0xJREVTX1BSRVYiLCJpc0ZpcnN0U2xpZGVNb3ZlIiwiaXNGaXJzdFNjcm9sbE1vdmUiLCJhY3RpdmVFbGVtZW50IiwibGFzdFNjcm9sbGVkU2xpZGUiLCJ0YWdOYW1lIiwib25rZXlkb3duIiwic2hpZnRQcmVzc2VkIiwiY2hhckNvZGUiLCJwcmV2U2xpZGUiLCJlMSIsInByZXZTbGlkZUluZGV4IiwieE1vdmVtZW50Iiwib25TbGlkZUxlYXZlIiwiZ2V0U2xpZGVBbmNob3IiLCJhZnRlclNsaWRlTG9hZCIsIlNMSURFU19BUlJPV19ORVhUX1NFTCIsImlzIiwiYWRkQW5pbWF0aW9uIiwic2xpZGVzQ29udGFpbmVyIiwic2xpZGVzTmF2aWdhdGlvbiIsIkFDVElWRV9TRUwiLCJvZmZzZXRMZWZ0IiwiYWN0aXZlTmF2TGkiLCJhY3RpdmVMaW5rIiwic2V0VHJhbnNmb3JtcyIsInRyYW5zbGF0ZTNkIiwiYWZ0ZXJTbGlkZUxvYWRzIiwicHJldmlvdXNIZWlnaHQiLCJlYXNpbmciLCJyZXNpemVIYW5kbGVyIiwicm91bmQiLCJjdXJyZW50SGVpZ2h0Iiwic2xpZGVzTmF2IiwiaXNUb3VjaERldmljZSIsInJlc2l6ZUlkIiwidHJhbnNpdGlvbiIsInJlbW92ZUFuaW1hdGlvbiIsIk5PX1RSQU5TSVRJT04iLCJlYXNpbmdjc3MzIiwiLXdlYmtpdC10cmFuc2l0aW9uIiwiYWN0aXZhdGVOYXZEb3RzIiwiYWN0aXZhdGVNZW51RWxlbWVudCIsIm5hbWUiLCJtZW51IiwiZnJvbUluZGV4IiwidG9JbmRleCIsImFuY2hvciIsImdldFhtb3ZlbWVudCIsImFuaW1hdGVkIiwiZ2V0U2xpZGVCeUFuY2hvciIsInNjcm9sbFNsaWRlciIsImRlY29kZVVSSSIsIlNMSURFU19OQVYiLCJsaXN0IiwiZmlyc3RMaSIsInNsaWRlc05hdlBvc2l0aW9uIiwic2VjdGlvbkhhc2giLCJzZXRVcmxIYXNoIiwiYmFzZVVybCIsInVybCIsImhpc3RvcnkiLCJyZXBsYWNlU3RhdGUiLCJocmVmIiwidGV4dCIsImNsYXNzUmUiLCJWSUVXSU5HX1BSRUZJWCIsIlN0cmluZyIsInRyYW5zZm9ybXMiLCJoYXMzZCIsIndlYmtpdFRyYW5zZm9ybSIsIm1zVHJhbnNmb3JtIiwiTW96VHJhbnNmb3JtIiwidHJhbnNmb3JtIiwidCIsIndyYXBwZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVtb3ZlQ2hpbGQiLCJXUkFQUEVSX1NFTCIsImFkZE1vdXNlV2hlZWxIYW5kbGVyIiwibWV0aG9kIiwibm9ybWFsIiwib2xkSUUiLCJmaXJlZm94IiwiTVNQb2ludGVyIiwicmVtb3ZlVG91Y2hIYW5kbGVyIiwiZ2V0TVNQb2ludGVyIiwiZG93biIsIm1vdmUiLCJldmVudHMiLCJ0b3VjaGVzIiwicGFnZVkiLCJwYWdlWCIsImlzVG91Y2giLCJub0NhbGxiYWNrcyIsIm9yaWdpbmFscyIsInZhcmlhYmxlIiwiLXdlYmtpdC10cmFuc2Zvcm0iLCItbW96LXRyYW5zZm9ybSIsIi1tcy10cmFuc2Zvcm0iLCJzZXRGaXRUb1NlY3Rpb24iLCJzZXRLZXlib2FyZFNjcm9sbGluZyIsImNvbnNvbGUiLCJSRVNQT05TSVZFIiwiU0VDVElPTl9OQVZfVE9PTFRJUCIsIlNMSURFX0RFRkFVTFRfU0VMIiwiVEFCTEUiLCJTTElERVNfTkFWX1NFTCIsIlNMSURFU19BUlJPVyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIm1zTWF4VG91Y2hQb2ludHMiLCJtYXhUb3VjaFBvaW50cyIsImIiLCJjIiwiZCIsIkRhdGUiLCJrZXlkb3duSWQiLCJzaGlmdEtleSIsImtleWJvYXJkU2Nyb2xsaW5nIiwia2V5Q29kZSIsImtleUNvbnRyb2xzIiwibGlJbmRleCIsImluaXRpYWxpemUiLCJjdXN0b21PcHRpb25zIiwiZGVmYXVsdHMiLCJzZWN0aW9uU2VsZWN0b3IiLCJTRUNUSU9OX0RFRkFVTFRfU0VMIiwiYWZ0ZXJSZW5kZXIiLCJzaWxlbnRNb3ZlVG8iXSwibWFwcGluZ3MiOiJvT0FPQyxTQUFVQSxFQUFNQyxFQUFRQyxFQUFVQyxFQUFTQyxHQUNsQixtQkFBWEMsUUFBeUJBLE9BQU9DLElBRXZDRCxPQUFRLFdBRlIsT0FER0wsRUFBTUMsU0FBUUMsRUFBVUMsRUFBU0MsR0FDN0JDLEVBQVBFLFdBRW1CLFlBQVgsb0JBQUFDLFFBQUEsWUFBQUMsUUFBQUQsVUFFSkUsT0FBQUYsUUFBWUQsRUFBWk4sRUFBQUMsR0FHSkQsRUFBQU0sU0FBQUosRUFBQUYsRUFBQUMsR0FSUCxNQUFBRSxFQU9VSCxPQUdBQyxTQUFBLFNBQUFELEVBQUFDLEVBQUFFLEdBd0lITyxTQUFLQyxFQUFBQSxHQUNSQyxFQUFBQyxHQUFBQyxJQUlHQyxLQUFBQSxHQUFBQSxPQUlJQyxHQUFRQyxLQUFPQyxNQUFmLE9BQUFGLElBQ0hHLEVBQUFOLElBSU9PLE9BQVUsT0FGZlAsU0FBYyxhQUNFUSxFQUFmUixHQUFBUyxJQU9BRCxF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LFdBQVcsYUFDaEJwYSxNQUFLLEVBRFRYLGVBQW9CIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogZnVsbFBhZ2UgUHVyZSBKYXZhc2NyaXB0IHYuMC4wLjkgKEFscGhhKSAtIE5vdCBzdXBwb3J0IGdpdmVuIHVudGlsIEJldGEgdmVyc2lvbi5cclxuICogaHR0cHM6Ly9naXRodWIuY29tL2FsdmFyb3RyaWdvL2Z1bGxQYWdlLmpzXHJcbiAqIE1JVCBsaWNlbnNlZFxyXG4gKlxyXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTMgYWx2YXJvdHJpZ28uY29tIC0gQSBwcm9qZWN0IGJ5IEFsdmFybyBUcmlnb1xyXG4gKi9cclxuKGZ1bmN0aW9uKCByb290LCB3aW5kb3csIGRvY3VtZW50LCBmYWN0b3J5LCB1bmRlZmluZWQgKSB7XHJcbiAgICBpZiggdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xyXG4gICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cclxuICAgICAgICBkZWZpbmUoIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByb290LmZ1bGxwYWdlID0gZmFjdG9yeSh3aW5kb3csIGRvY3VtZW50KTtcclxuICAgICAgICAgICAgcmV0dXJuIHJvb3QuZnVsbHBhZ2U7XHJcbiAgICAgICAgfSApO1xyXG4gICAgfSBlbHNlIGlmKCB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgKSB7XHJcbiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUy5cclxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3Rvcnkod2luZG93LCBkb2N1bWVudCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscy5cclxuICAgICAgICB3aW5kb3cuZnVsbHBhZ2UgPSBmYWN0b3J5KHdpbmRvdywgZG9jdW1lbnQpO1xyXG4gICAgfVxyXG59KHRoaXMsIHdpbmRvdywgZG9jdW1lbnQsIGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCl7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIGZ1bGxwYWdlO1xyXG5cclxuICAgIC8vQ09OU1RBTlRTXHJcblxyXG4gICAgLy8ga2VlcGluZyBjZW50cmFsIHNldCBvZiBjbGFzc25hbWVzIGFuZCBzZWxlY3RvcnNcclxuICAgIHZhciBXUkFQUEVSID0gICAgICAgICAgICAgICAnZnVsbHBhZ2Utd3JhcHBlcic7XHJcbiAgICB2YXIgV1JBUFBFUl9TRUwgPSAgICAgICAgICAgJy4nICsgV1JBUFBFUjtcclxuXHJcbiAgICAvLyB1dGlsXHJcbiAgICB2YXIgUkVTUE9OU0lWRSA9ICAgICAgICAgICAgJ2ZwLXJlc3BvbnNpdmUnO1xyXG4gICAgdmFyIE5PX1RSQU5TSVRJT04gPSAgICAgICAgICdmcC1ub3RyYW5zaXRpb24nO1xyXG4gICAgdmFyIERFU1RST1lFRCA9ICAgICAgICAgICAgICdmcC1kZXN0cm95ZWQnO1xyXG4gICAgdmFyIEVOQUJMRUQgPSAgICAgICAgICAgICAgICdmcC1lbmFibGVkJztcclxuICAgIHZhciBWSUVXSU5HX1BSRUZJWCA9ICAgICAgICAnZnAtdmlld2luZyc7XHJcbiAgICB2YXIgQUNUSVZFID0gICAgICAgICAgICAgICAgJ2FjdGl2ZSc7XHJcbiAgICB2YXIgQUNUSVZFX1NFTCA9ICAgICAgICAgICAgJy4nICsgQUNUSVZFO1xyXG5cclxuICAgIC8vIHNlY3Rpb25cclxuICAgIHZhciBTRUNUSU9OX0RFRkFVTFRfU0VMID0gICAnLnNlY3Rpb24nO1xyXG4gICAgdmFyIFNFQ1RJT04gPSAgICAgICAgICAgICAgICdmcC1zZWN0aW9uJztcclxuICAgIHZhciBTRUNUSU9OX1NFTCA9ICAgICAgICAgICAnLicgKyBTRUNUSU9OO1xyXG4gICAgdmFyIFNFQ1RJT05fQUNUSVZFX1NFTCA9ICAgIFNFQ1RJT05fU0VMICsgQUNUSVZFX1NFTDtcclxuXHJcbiAgICAvLyBzZWN0aW9uIG5hdlxyXG4gICAgdmFyIFNFQ1RJT05fTkFWID0gICAgICAgICAgICdmcC1uYXYnO1xyXG4gICAgdmFyIFNFQ1RJT05fTkFWX1NFTCA9ICAgICAgICcjJyArIFNFQ1RJT05fTkFWO1xyXG4gICAgdmFyIFNFQ1RJT05fTkFWX1RPT0xUSVAgPSAgICdmcC10b29sdGlwJztcclxuICAgIHZhciBTSE9XX0FDVElWRV9UT09MVElQID0gICAnZnAtc2hvdy1hY3RpdmUnO1xyXG5cclxuICAgIC8vIHNsaWRlXHJcbiAgICB2YXIgU0xJREVfREVGQVVMVF9TRUwgPSAgICAgJy5zbGlkZSc7XHJcbiAgICB2YXIgU0xJREUgPSAgICAgICAgICAgICAgICAgJ2ZwLXNsaWRlJztcclxuICAgIHZhciBTTElERV9TRUwgPSAgICAgICAgICAgICAnLicgKyBTTElERTtcclxuICAgIHZhciBTTElERV9BQ1RJVkVfU0VMID0gICAgICBTTElERV9TRUwgKyBBQ1RJVkVfU0VMO1xyXG4gICAgdmFyIFNMSURFU19XUkFQUEVSID0gICAgICAgICdmcC1zbGlkZXMnO1xyXG4gICAgdmFyIFNMSURFU19XUkFQUEVSX1NFTCA9ICAgICcuJyArIFNMSURFU19XUkFQUEVSO1xyXG4gICAgdmFyIFNMSURFU19DT05UQUlORVIgPSAgICAgICdmcC1zbGlkZXNDb250YWluZXInO1xyXG4gICAgdmFyIFNMSURFU19DT05UQUlORVJfU0VMID0gICcuJyArIFNMSURFU19DT05UQUlORVI7XHJcbiAgICB2YXIgVEFCTEUgPSAgICAgICAgICAgICAgICAgJ2ZwLXRhYmxlJztcclxuXHJcbiAgICAvLyBzbGlkZSBuYXZcclxuICAgIHZhciBTTElERVNfTkFWID0gICAgICAgICAgICAnZnAtc2xpZGVzTmF2JztcclxuICAgIHZhciBTTElERVNfTkFWX1NFTCA9ICAgICAgICAnLicgKyBTTElERVNfTkFWO1xyXG4gICAgdmFyIFNMSURFU19OQVZfTElOS19TRUwgPSAgIFNMSURFU19OQVZfU0VMICsgJyBhJztcclxuICAgIHZhciBTTElERVNfQVJST1cgPSAgICAgICAgICAnZnAtY29udHJvbEFycm93JztcclxuICAgIHZhciBTTElERVNfQVJST1dfU0VMID0gICAgICAnLicgKyBTTElERVNfQVJST1c7XHJcbiAgICB2YXIgU0xJREVTX1BSRVYgPSAgICAgICAgICAgJ2ZwLXByZXYnO1xyXG4gICAgdmFyIFNMSURFU19QUkVWX1NFTCA9ICAgICAgICcuJyArIFNMSURFU19QUkVWO1xyXG4gICAgdmFyIFNMSURFU19BUlJPV19QUkVWID0gICAgIFNMSURFU19BUlJPVyArICcgJyArIFNMSURFU19QUkVWO1xyXG4gICAgdmFyIFNMSURFU19BUlJPV19QUkVWX1NFTCA9IFNMSURFU19BUlJPV19TRUwgKyBTTElERVNfUFJFVl9TRUw7XHJcbiAgICB2YXIgU0xJREVTX05FWFQgPSAgICAgICAgICAgJ2ZwLW5leHQnO1xyXG4gICAgdmFyIFNMSURFU19ORVhUX1NFTCA9ICAgICAgICcuJyArIFNMSURFU19ORVhUO1xyXG4gICAgdmFyIFNMSURFU19BUlJPV19ORVhUID0gICAgIFNMSURFU19BUlJPVyArICcgJyArIFNMSURFU19ORVhUO1xyXG4gICAgdmFyIFNMSURFU19BUlJPV19ORVhUX1NFTCA9IFNMSURFU19BUlJPV19TRUwgKyBTTElERVNfTkVYVF9TRUw7XHJcblxyXG4gICAgLy9nbG9iYWxzXHJcbiAgICB2YXIgb3B0aW9ucztcclxuICAgIHZhciBzbGlkZU1vdmluZyA9IGZhbHNlO1xyXG4gICAgdmFyIGlzVG91Y2hEZXZpY2UgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8oaVBob25lfGlQb2R8aVBhZHxBbmRyb2lkfHBsYXlib29rfHNpbGt8QmxhY2tCZXJyeXxCQjEwfFdpbmRvd3MgUGhvbmV8VGl6ZW58QmFkYXx3ZWJPU3xJRU1vYmlsZXxPcGVyYSBNaW5pKS8pO1xyXG4gICAgdmFyIGlzVG91Y2ggPSAoKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdykgfHwgKG5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzID4gMCkgfHwgKG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cykpO1xyXG4gICAgdmFyIHdpbmRvd3NIZWlnaHQgPSBnZXRXaW5kb3dIZWlnaHQoKTtcclxuICAgIHZhciBpc1Jlc2l6aW5nID0gZmFsc2U7XHJcbiAgICB2YXIgbGFzdFNjcm9sbGVkRGVzdGlueTtcclxuICAgIHZhciBsYXN0U2Nyb2xsZWRTbGlkZTtcclxuICAgIHZhciBjYW5TY3JvbGwgPSB0cnVlO1xyXG4gICAgdmFyIHNjcm9sbGluZ3MgPSBbXTtcclxuICAgIHZhciBuYXY7XHJcbiAgICB2YXIgYWN0aXZlQW5pbWF0aW9uO1xyXG4gICAgdmFyIG9yaWdpbmFscztcclxuICAgIHZhciBjb250YWluZXI7XHJcblxyXG4gICAgLy9lYXNlSW5PdXRDdWJpYyBhbmltYXRpb24gaW5jbHVkZWQgaW4gdGhlIHBsdWdpblxyXG4gICAgTWF0aC5lYXNlSW5PdXRDdWJpYyA9IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcbiAgICAgICAgaWYgKCh0Lz1kLzIpIDwgMSkgcmV0dXJuIGMvMip0KnQqdCArIGI7cmV0dXJuIGMvMiooKHQtPTIpKnQqdCArIDIpICsgYjtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZShlbGVtZW50LCBjdXN0b21PcHRpb25zKXtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIHNvbWUgZGVmYXVsdHMsIGV4dGVuZGluZyB0aGVtIHdpdGggYW55IG9wdGlvbnMgdGhhdCB3ZXJlIHByb3ZpZGVkXHJcbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xyXG4gICAgICAgICAgICAvL25hdmlnYXRpb25cclxuICAgICAgICAgICAgbWVudTogZmFsc2UsXHJcbiAgICAgICAgICAgIGFuY2hvcnM6W10sXHJcbiAgICAgICAgICAgIG5hdmlnYXRpb246IGZhbHNlLFxyXG4gICAgICAgICAgICBuYXZpZ2F0aW9uUG9zaXRpb246ICdyaWdodCcsXHJcbiAgICAgICAgICAgIG5hdmlnYXRpb25Db2xvcjogJyMwMDAnLFxyXG4gICAgICAgICAgICBuYXZpZ2F0aW9uVG9vbHRpcHM6IFtdLFxyXG4gICAgICAgICAgICBzaG93QWN0aXZlVG9vbHRpcDogZmFsc2UsXHJcbiAgICAgICAgICAgIHNsaWRlc05hdmlnYXRpb246IGZhbHNlLFxyXG4gICAgICAgICAgICBzbGlkZXNOYXZQb3NpdGlvbjogJ2JvdHRvbScsXHJcbiAgICAgICAgICAgIHNjcm9sbEJhcjogZmFsc2UsXHJcblxyXG4gICAgICAgICAgICAvL3Njcm9sbGluZ1xyXG4gICAgICAgICAgICBjc3MzOiB0cnVlLFxyXG4gICAgICAgICAgICBzY3JvbGxpbmdTcGVlZDogNzAwLFxyXG4gICAgICAgICAgICBhdXRvU2Nyb2xsaW5nOiB0cnVlLFxyXG4gICAgICAgICAgICBmaXRUb1NlY3Rpb246IHRydWUsXHJcbiAgICAgICAgICAgIGZpdFRvU2VjdGlvbkRlbGF5OiAxMDAwLFxyXG4gICAgICAgICAgICBlYXNpbmdjc3MzOiAnZWFzZScsXHJcbiAgICAgICAgICAgIGxvb3BIb3Jpem9udGFsOiB0cnVlLFxyXG4gICAgICAgICAgICB0b3VjaFNlbnNpdGl2aXR5OiA1LFxyXG5cclxuICAgICAgICAgICAgLy9BY2Nlc3NpYmlsaXR5XHJcbiAgICAgICAgICAgIGtleWJvYXJkU2Nyb2xsaW5nOiB0cnVlLFxyXG4gICAgICAgICAgICByZWNvcmRIaXN0b3J5OiB0cnVlLFxyXG5cclxuICAgICAgICAgICAgLy9kZXNpZ25cclxuICAgICAgICAgICAgY29udHJvbEFycm93czogdHJ1ZSxcclxuXHJcbiAgICAgICAgICAgIC8vQ3VzdG9tIHNlbGVjdG9yc1xyXG4gICAgICAgICAgICBzZWN0aW9uU2VsZWN0b3I6IFNFQ1RJT05fREVGQVVMVF9TRUwsXHJcbiAgICAgICAgICAgIHNsaWRlU2VsZWN0b3I6IFNMSURFX0RFRkFVTFRfU0VMLFxyXG5cclxuXHJcbiAgICAgICAgICAgIC8vZXZlbnRzXHJcbiAgICAgICAgICAgIGFmdGVyTG9hZDogbnVsbCxcclxuICAgICAgICAgICAgb25MZWF2ZTogbnVsbCxcclxuICAgICAgICAgICAgYWZ0ZXJSZW5kZXI6IG51bGwsXHJcbiAgICAgICAgICAgIGFmdGVyUmVzaXplOiBudWxsLFxyXG4gICAgICAgICAgICBhZnRlclJlQnVpbGQ6IG51bGwsXHJcbiAgICAgICAgICAgIGFmdGVyU2xpZGVMb2FkOiBudWxsLFxyXG4gICAgICAgICAgICBvblNsaWRlTGVhdmU6IG51bGxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBvcHRpb25zID0gZXh0ZW5kKGRlZmF1bHRzLCBjdXN0b21PcHRpb25zKTtcclxuXHJcbiAgICAgICAgb3JpZ2luYWxzID0gY2xvbmUob3B0aW9ucyk7IC8vZGVlcCBjb3B5XHJcbiAgICAgICAgY29udGFpbmVyID0gJChlbGVtZW50KTtcclxuXHJcbiAgICAgICAgaW5pdChhZnRlckRvbVJlYWR5KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbml0KGNhbGxiYWNrKXtcclxuICAgICAgICByZW1vdmVDbGFzcyhjb250YWluZXIsIERFU1RST1lFRCk7IC8vaW4gY2FzZSBpdCB3YXMgZGVzdHJveWVkIGJlZm9yZSBpbml0aWxpemluZyBpdCBhZ2FpblxyXG4gICAgICAgIGRpc3BsYXlXYXJuaW5ncygpO1xyXG5cclxuICAgICAgICAvL2lmIGNzczMgaXMgbm90IHN1cHBvcnRlZCwgaXQgd2lsbCB1c2UgalF1ZXJ5IGFuaW1hdGlvbnNcclxuICAgICAgICBpZihvcHRpb25zLmNzczMpe1xyXG4gICAgICAgICAgICBvcHRpb25zLmNzczMgPSBzdXBwb3J0M2QoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKGNvbnRhaW5lciAhPT0gbnVsbCl7XHJcbiAgICAgICAgICAgIGNzcyhjb250YWluZXIsIHtcclxuICAgICAgICAgICAgICAgICdoZWlnaHQnOiAnMTAwJScsXHJcbiAgICAgICAgICAgICAgICAncG9zaXRpb24nOiAncmVsYXRpdmUnXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy9hZGRpbmcgYSBjbGFzcyB0byByZWNvZ25pemUgdGhlIGNvbnRhaW5lciBpbnRlcm5hbGx5IGluIHRoZSBjb2RlXHJcbiAgICAgICAgICAgIGFkZENsYXNzKGNvbnRhaW5lciwgV1JBUFBFUik7XHJcbiAgICAgICAgICAgIGFkZENsYXNzKCQoJ2h0bWwnKSwgRU5BQkxFRCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vdHJ5aW5nIHRvIHVzZSBmdWxscGFnZSB3aXRob3V0IGEgc2VsZWN0b3I/XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgc2hvd0Vycm9yKCdlcnJvcicsICdFcnJvciEgRnVsbHBhZ2UuanMgbmVlZHMgdG8gYmUgaW5pdGlhbGl6ZWQgd2l0aCBhIHNlbGVjdG9yLiBGb3IgZXhhbXBsZTogZnVsbHBhZ2UoXFwnI2Z1bGxwYWdlXFwnKTsnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldE1vdXNlV2hlZWxTY3JvbGxpbmcodHJ1ZSk7XHJcbiAgICAgICAgYWRkVG91Y2hIYW5kbGVyKCk7XHJcbiAgICAgICAgYWRkUmVzaXplSGFuZGxlcigpO1xyXG4gICAgICAgIGFkZFNjcm9sbEhhbmRsZXIoKTtcclxuXHJcbiAgICAgICAgLy9hZGRpbmcgaW50ZXJuYWwgY2xhc3MgbmFtZXMgdG8gdm9pZCBwcm9ibGVtIHdpdGggY29tbW9uIG9uZXNcclxuICAgICAgICB2YXIgb3JpZ2luYWxTZWN0aW9ucyA9ICQkKG9wdGlvbnMuc2VjdGlvblNlbGVjdG9yKTtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb3JpZ2luYWxTZWN0aW9ucy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBhZGRDbGFzcyhvcmlnaW5hbFNlY3Rpb25zW2ldLCBTRUNUSU9OKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBvcmlnaW5hbFNsaWRlcyA9ICQkKG9wdGlvbnMuc2xpZGVTZWxlY3Rvcik7XHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG9yaWdpbmFsU2xpZGVzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGFkZENsYXNzKG9yaWdpbmFsU2xpZGVzW2ldLCBTTElERSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2NyZWF0aW5nIHRoZSBuYXZpZ2F0aW9uIGRvdHNcclxuICAgICAgICBpZiAob3B0aW9ucy5uYXZpZ2F0aW9uKSB7XHJcbiAgICAgICAgICAgIGFkZFZlcnRpY2FsTmF2aWdhdGlvbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHNlY3Rpb25zID0gJCQoU0VDVElPTl9TRUwpO1xyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGk8c2VjdGlvbnMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpO1xyXG4gICAgICAgICAgICB2YXIgc2VjdGlvbiA9IHNlY3Rpb25zW2ldO1xyXG4gICAgICAgICAgICB2YXIgdGhhdCA9IHNlY3Rpb247XHJcbiAgICAgICAgICAgIHZhciBzbGlkZXMgPSAkJChTTElERV9TRUwsIHNlY3Rpb24pO1xyXG4gICAgICAgICAgICB2YXIgbnVtU2xpZGVzID0gc2xpZGVzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIC8vaWYgbm8gYWN0aXZlIHNlY3Rpb24gaXMgZGVmaW5lZCwgdGhlIDFzdCBvbmUgd2lsbCBiZSB0aGUgZGVmYXVsdCBvbmVcclxuICAgICAgICAgICAgaWYoIWluZGV4ICYmICQoU0VDVElPTl9BQ1RJVkVfU0VMKSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3Moc2VjdGlvbiwgQUNUSVZFKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmFuY2hvcnNbaW5kZXhdICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgc2VjdGlvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtYW5jaG9yJywgb3B0aW9ucy5hbmNob3JzW2luZGV4XSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9hY3RpdmF0aW5nIHRoZSBtZW51IC8gbmF2IGVsZW1lbnQgb24gbG9hZFxyXG4gICAgICAgICAgICAgICAgaWYoaGFzQ2xhc3Moc2VjdGlvbiwgQUNUSVZFKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZhdGVNZW51QW5kTmF2KG9wdGlvbnMuYW5jaG9yc1tpbmRleF0sIGluZGV4KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gaWYgdGhlcmUncyBhbnkgc2xpZGVcclxuICAgICAgICAgICAgaWYgKG51bVNsaWRlcyA+IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciBzbGlkZXJXaWR0aCA9IG51bVNsaWRlcyAqIDEwMDtcclxuICAgICAgICAgICAgICAgIHZhciBzbGlkZVdpZHRoID0gMTAwIC8gbnVtU2xpZGVzO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzbGlkZXNIVE1MID0gc2VjdGlvbi5pbm5lckhUTUw7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3SFRNTCA9ICc8ZGl2IGNsYXNzPVwiJysgU0xJREVTX1dSQVBQRVIgKydcIj48ZGl2IGNsYXNzPVwiJytTTElERVNfQ09OVEFJTkVSKydcIj4nICsgc2xpZGVzSFRNTCArICc8L2Rpdj48L2Rpdj4nO1xyXG4gICAgICAgICAgICAgICAgc2VjdGlvbi5pbm5lckhUTUwgPSBuZXdIVE1MO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vZ2V0dGluZyBhZ2FpbiB0aGUgTkVXIGRvbSBlbGVtZW50cyBhZnRlciBpbm5lckhUTUxcclxuICAgICAgICAgICAgICAgIHNsaWRlcyA9ICQkKFNMSURFX1NFTCwgc2VjdGlvbik7XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0Q3NzKCQoU0xJREVTX0NPTlRBSU5FUl9TRUwsIHNlY3Rpb24pLCAnd2lkdGgnLCAgc2xpZGVyV2lkdGggKyAnJScpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMuY29udHJvbEFycm93cyAmJiBudW1TbGlkZXMgPiAxKXtcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVTbGlkZUFycm93cyhzZWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZihvcHRpb25zLnNsaWRlc05hdmlnYXRpb24pe1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZFNsaWRlc05hdmlnYXRpb24oc2VjdGlvbiwgbnVtU2xpZGVzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBhID0gMDsgYTxzbGlkZXMubGVuZ3RoOyBhKyspe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50U2xpZGUgPSBzbGlkZXNbYV07XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3NzKGN1cnJlbnRTbGlkZSwgJ3dpZHRoJywgc2xpZGVXaWR0aCArICclJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0aW5nU2xpZGUgPSAkKFNMSURFX0FDVElWRV9TRUwsIHNlY3Rpb24pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vaWYgdGhlIHNsaWRlIHdvbiN0IGJlIGFuIHN0YXJ0aW5nIHBvaW50LCB0aGUgZGVmYXVsdCB3aWxsIGJlIHRoZSBmaXJzdCBvbmVcclxuICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBzdGFydGluZ1NsaWRlICE9PSBudWxsKXtcclxuICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyhzbGlkZXNbMF0sIEFDVElWRSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vaXMgdGhlcmUgYSBzdGFydGluZyBwb2ludCBmb3IgYSBub24tc3RhcnRpbmcgc2VjdGlvbj9cclxuICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgc2lsZW50TGFuZHNjYXBlU2Nyb2xsKHN0YXJ0aW5nU2xpZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY2FsbGJhY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhZnRlckRvbVJlYWR5KCl7XHJcbiAgICAgICAgLy9hZGRpbmcgZXZlbnQgZm9yIGhvcml6b250YWwgc2xpZGVzIGFycm93cyBuYXZpZ2F0aW9uXHJcbiAgICAgICAgdmFyIHNsaWRlc0Fycm93cyA9ICQkKFNMSURFU19BUlJPV19TRUwpO1xyXG4gICAgICAgIGZvcih2YXIgaT0wOyBpPHNsaWRlc0Fycm93cy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGFkZExpc3RlbmVyTXVsdGkoIHNsaWRlc0Fycm93c1tpXSwgJ2NsaWNrIG9uY2xpY2sgdG91Y2hzdGFydCcsIGFycm93c0hhbmRsZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2V0QXV0b1Njcm9sbGluZyhvcHRpb25zLmF1dG9TY3JvbGxpbmcsICdpbnRlcm5hbCcpO1xyXG5cclxuICAgICAgICAvL3RoZSBzdGFydGluZyBwb2ludCBpcyBhIHNsaWRlP1xyXG4gICAgICAgIHZhciBhY3RpdmVTZWN0aW9uID0gJChTRUNUSU9OX0FDVElWRV9TRUwpO1xyXG5cclxuICAgICAgICB2YXIgYWN0aXZlU2xpZGUgPSAkKFNMSURFX0FDVElWRV9TRUwsIGFjdGl2ZVNlY3Rpb24pO1xyXG4gICAgICAgIHZhciBhY3RpdmVTZWN0aW9uSW5kZXggPSBnZXROb2RlSW5kZXgoJChTRUNUSU9OX0FDVElWRV9TRUwpKTtcclxuXHJcbiAgICAgICAgLy90aGUgYWN0aXZlIHNlY3Rpb24gaXNuJ3QgdGhlIGZpcnN0IG9uZT8gSXMgbm90IHRoZSBmaXJzdCBzbGlkZSBvZiB0aGUgZmlyc3Qgc2VjdGlvbj8gVGhlbiB3ZSBsb2FkIHRoYXQgc2VjdGlvbi9zbGlkZSBieSBkZWZhdWx0LlxyXG4gICAgICAgIGlmKCBhY3RpdmVTbGlkZSAmJiAgKGFjdGl2ZVNlY3Rpb25JbmRleCAhPT0wIHx8IChhY3RpdmVTZWN0aW9uSW5kZXggPT09IDAgJiYgIGdldE5vZGVJbmRleChhY3RpdmVTbGlkZSkgIT09IDApKSl7XHJcbiAgICAgICAgICAgIHNpbGVudExhbmRzY2FwZVNjcm9sbChhY3RpdmVTbGlkZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3ZlcnRpY2FsIGNlbnRlcmVkIG9mIHRoZSBuYXZpZ2F0aW9uICsgZmlyc3QgYnVsbGV0IGFjdGl2ZVxyXG4gICAgICAgIGlmKG9wdGlvbnMubmF2aWdhdGlvbil7XHJcbiAgICAgICAgICAgIHNldENzcyhuYXYsICdtYXJnaW4tdG9wJywgJy0nICsgKG5hdi5vZmZzZXRIZWlnaHQvMikgKyAncHgnKTtcclxuICAgICAgICAgICAgdmFyIGFjdGl2ZUxpID0gJCQoJ2xpJywgbmF2KVtnZXROb2RlSW5kZXgoJChTRUNUSU9OX0FDVElWRV9TRUwpKV07XHJcbiAgICAgICAgICAgIGFkZENsYXNzKCAkKCdhJywgYWN0aXZlTGkpLCBBQ1RJVkUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYWZ0ZXJSZW5kZXJBY3Rpb25zKCk7XHJcblxyXG4gICAgICAgIC8vZ2V0dGluZyB0aGUgYW5jaG9yIGxpbmsgaW4gdGhlIFVSTCBhbmQgZGVsZXRpbmcgdGhlIGAjYFxyXG4gICAgICAgIHZhciB2YWx1ZSA9ICB3aW5kb3cubG9jYXRpb24uaGFzaC5yZXBsYWNlKCcjJywgJycpLnNwbGl0KCcvJyk7XHJcbiAgICAgICAgdmFyIGRlc3RpbnkgPSB2YWx1ZVswXTtcclxuXHJcbiAgICAgICAgaWYoZGVzdGlueS5sZW5ndGgpe1xyXG4gICAgICAgICAgICB2YXIgc2VjdGlvbiA9ICQoJ1tkYXRhLWFuY2hvcj1cIicrZGVzdGlueSsnXCJdJyk7XHJcblxyXG4gICAgICAgICAgICBpZighb3B0aW9ucy5hbmltYXRlQW5jaG9yICYmIHNlY3Rpb24ubGVuZ3RoKXtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihvcHRpb25zLmF1dG9TY3JvbGxpbmcpe1xyXG4gICAgICAgICAgICAgICAgICAgIHNpbGVudFNjcm9sbChzZWN0aW9uLm9mZnNldFRvcCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHNpbGVudFNjcm9sbCgwKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRCb2R5Q2xhc3MoZGVzdGlueSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vc2Nyb2xsaW5nIHRoZSBwYWdlIHRvIHRoZSBzZWN0aW9uIHdpdGggbm8gYW5pbWF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbFNldHRpbmdzID0gZ2V0U2Nyb2xsU2V0dGluZ3Moc2VjdGlvbi5vZmZzZXRUb3ApO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvKHNjcm9sbFNldHRpbmdzLmVsZW1lbnQsIHNjcm9sbFNldHRpbmdzLm9wdGlvbnMsIDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGFjdGl2YXRlTWVudUFuZE5hdihkZXN0aW55LCBudWxsKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpc0Z1bmN0aW9uKCBvcHRpb25zLmFmdGVyTG9hZCApICYmIG9wdGlvbnMuYWZ0ZXJMb2FkLmNhbGwoIHNlY3Rpb24sIGRlc3RpbnksIChnZXROb2RlSW5kZXgoc2VjdGlvbikgKyAxKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy91cGRhdGluZyB0aGUgYWN0aXZlIGNsYXNzXHJcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhhY3RpdmVTZWN0aW9uLCBBQ1RJVkUpO1xyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3Moc2VjdGlvbiwgQUNUSVZFKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9zZXR0aW5nIHRoZSBjbGFzcyBmb3IgdGhlIGJvZHkgZWxlbWVudFxyXG4gICAgICAgIHNldEJvZHlDbGFzcygpO1xyXG5cclxuICAgICAgICAvL3N1cHBvcnQgZm9yIElFID4gOFxyXG4gICAgICAgIGFkZEhhbmRsZXIoZG9jdW1lbnQsIHNjcm9sbFRvQW5jaG9yLCAnRE9NQ29udGVudExvYWRlZCcsICdET01Db250ZW50TG9hZGVkJywgJ0RPTUNvbnRlbnRMb2FkZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiAtLS0tLS0tLS0tLS0tLS0gSmF2YXNjcmlwdCBoZWxwZXJzICAtLS0tLS0tLS0tLS0tLS0qL1xyXG5cclxuICAgIC8qKlxyXG4gICAgKiBSZXBsYWNlbWVudCBvZiBqUXVlcnkgZXh0ZW5kIG1ldGhvZC5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBleHRlbmQoZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpe1xyXG4gICAgICAgIC8vY3JlYXRpbmcgdGhlIG9iamVjdCBpZiBpdCBkb2VzbnQgZXhpc3RcclxuICAgICAgICBpZih0eXBlb2Yob3B0aW9ucykgIT09ICdvYmplY3QnKXtcclxuICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yKHZhciBrZXkgaW4gb3B0aW9ucyl7XHJcbiAgICAgICAgICAgIGlmKGRlZmF1bHRPcHRpb25zLmhhc093blByb3BlcnR5KGtleSkpe1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdE9wdGlvbnNba2V5XSA9IG9wdGlvbnNba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRPcHRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldEJ5SWQoZWxlbWVudCl7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldEJ5VGFnKGVsZW1lbnQpe1xyXG4gICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShlbGVtZW50KVswXTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjc3MoIGVsLCBwcm9wcyApIHtcclxuICAgICAgICB2YXIga2V5O1xyXG4gICAgICAgIGZvciAoIGtleSBpbiBwcm9wcyApIHtcclxuICAgICAgICAgICAgaWYgKCBwcm9wcy5oYXNPd25Qcm9wZXJ0eShrZXkpICkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCBrZXkgIT09IG51bGwgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWwuc3R5bGVba2V5XSA9IHByb3BzW2tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGVsO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldENzcyhlbGVtZW50LCBzdHlsZSwgdmFsdWUpe1xyXG4gICAgICAgIGVsZW1lbnQuc3R5bGVbc3R5bGVdID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gJChzZWxlY3RvciwgY29udGV4dCl7XHJcbiAgICAgICAgY29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gJCQoc2VsZWN0b3IsIGNvbnRleHQpe1xyXG4gICAgICAgIGNvbnRleHQgPSBjb250ZXh0IHx8IGRvY3VtZW50O1xyXG4gICAgICAgIHJldHVybiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldE5vZGVJbmRleChub2RlKSB7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcclxuICAgICAgICB3aGlsZSAoIChub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmcpICkge1xyXG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSAhPSAzIHx8ICEvXlxccyokLy50ZXN0KG5vZGUuZGF0YSkpIHtcclxuICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluZGV4O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRvZ2dsZShlbGVtZW50LCBkaXNwbGF5KSB7XHJcbiAgICAgICAgaWYodHlwZW9mIGRpc3BsYXkhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICBpZihkaXNwbGF5KXtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIGlmKCBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPT0gJ2Jsb2NrJyApIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8vaHR0cDovL2pha2V0cmVudC5jb20vcG9zdC9hZGRyZW1vdmUtY2xhc3Nlcy1yYXctamF2YXNjcmlwdC9cclxuICAgIGZ1bmN0aW9uIGhhc0NsYXNzKGVsZSxjbHMpIHtcclxuICAgICAgICByZXR1cm4gISFlbGUuY2xhc3NOYW1lLm1hdGNoKG5ldyBSZWdFeHAoJyhcXFxcc3xeKScrY2xzKycoXFxcXHN8JCknKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQgJiYgaGFzQ2xhc3MoZWxlbWVudCxjbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgIHZhciByZWcgPSBuZXcgUmVnRXhwKCcoXFxcXHN8XiknK2NsYXNzTmFtZSsnKFxcXFxzfCQpJyk7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lPWVsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UocmVnLCcnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQgJiYgIWhhc0NsYXNzKGVsZW1lbnQsY2xhc3NOYW1lKSkge1xyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSArPSAnICcrY2xhc3NOYW1lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjIxMDA4NTMvZG9tLXB1cmUtamF2YXNjcmlwdC1zb2x1dGlvbi10by1qcXVlcnktY2xvc2VzdC1pbXBsZW1lbnRhdGlvblxyXG4gICAgZnVuY3Rpb24gY2xvc2VzdChlbCwgZm4pIHtcclxuICAgICAgICByZXR1cm4gZWwgJiYgKFxyXG4gICAgICAgICAgICBmbihlbCkgPyBlbCA6IGNsb3Nlc3QoZWwucGFyZW50Tm9kZSwgZm4pXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRXaW5kb3dXaWR0aCgpe1xyXG4gICAgICAgIHJldHVybiAgJ2lubmVyV2lkdGgnIGluIHdpbmRvdyA/IHdpbmRvdy5pbm5lcldpZHRoIDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldFdpbmRvd0hlaWdodCgpe1xyXG4gICAgICAgIHJldHVybiAgJ2lubmVySGVpZ2h0JyBpbiB3aW5kb3cgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNsb25lKG9iaikge1xyXG4gICAgICAgIGlmIChudWxsID09PSBvYmogfHwgJ29iamVjdCcgIT09IHR5cGVvZiBvYmope1xyXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY29weSA9IG9iai5jb25zdHJ1Y3RvcigpO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBhdHRyIGluIG9iaikge1xyXG4gICAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGF0dHIpKXtcclxuICAgICAgICAgICAgICAgIGNvcHlbYXR0cl0gPSBvYmpbYXR0cl07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvcHk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcHJldmVudERlZmF1bHQoZXZlbnQpe1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0ID8gZXZlbnQucHJldmVudERlZmF1bHQoKSA6IGV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaXNGdW5jdGlvbihmdW5jdGlvblRvQ2hlY2spIHtcclxuICAgICAgICB2YXIgZ2V0VHlwZSA9IHt9O1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvblRvQ2hlY2sgJiYgZ2V0VHlwZS50b1N0cmluZy5jYWxsKGZ1bmN0aW9uVG9DaGVjaykgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkTGlzdGVuZXJNdWx0aShlbCwgcywgZm4pIHtcclxuICAgICAgICB2YXIgZXZ0cyA9IHMuc3BsaXQoJyAnKTtcclxuICAgICAgICBmb3IgKHZhciBpPTAsIGlMZW49ZXZ0cy5sZW5ndGg7IGk8aUxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGV2dHNbaV0sIGZuLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgZWwuYXR0YWNoRXZlbnQoZXZ0c1tpXSwgZm4sIGZhbHNlKTsgLy9JRSA2LzcvOFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTaW11bGF0ZXMgdGhlIGFuaW1hdGVkIHNjcm9sbFRvcCBvZiBqUXVlcnkuIFVzZWQgd2hlbiBjc3MzOmZhbHNlIG9yIHNjcm9sbEJhcjp0cnVlIG9yIGF1dG9TY3JvbGxpbmc6ZmFsc2VcclxuICAgICogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTYxMzY3ODkvMTA4MTM5NlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHNjcm9sbFRvKGVsZW1lbnQsIHRvLCBkdXJhdGlvbiwgY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgc3RhcnQgPSBnZXRTY3JvbGxlZFBvc2l0aW9uKGVsZW1lbnQpO1xyXG4gICAgICAgIHZhciBjaGFuZ2UgPSB0byAtIHN0YXJ0O1xyXG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IDA7XHJcbiAgICAgICAgdmFyIGluY3JlbWVudCA9IDIwO1xyXG4gICAgICAgIGFjdGl2ZUFuaW1hdGlvbiA9IHRydWU7XHJcblxyXG4gICAgICAgIHZhciBhbmltYXRlU2Nyb2xsID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgaWYoYWN0aXZlQW5pbWF0aW9uKXsgLy9pbiBvcmRlciB0byBzdG9wZSBpdCBmcm9tIG90aGVyIGZ1bmN0aW9uIHdoZW5ldmVyIHdlIHdhbnRcclxuICAgICAgICAgICAgICAgIHZhciB2YWwgPSB0bztcclxuXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50VGltZSArPSBpbmNyZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICB2YWwgPSBNYXRoLmVhc2VJbk91dEN1YmljKGN1cnJlbnRUaW1lLCBzdGFydCwgY2hhbmdlLCBkdXJhdGlvbik7XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0U2Nyb2xsaW5nKGVsZW1lbnQsIHZhbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoY3VycmVudFRpbWUgPCBkdXJhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoYW5pbWF0ZVNjcm9sbCwgaW5jcmVtZW50KTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmKHR5cGVvZiBjYWxsYmFjayAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNlIGlmIChjdXJyZW50VGltZSA8IGR1cmF0aW9uKXtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBhbmltYXRlU2Nyb2xsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9odHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM0NjQ4NzYvamF2YXNjcmlwdC1nZXQtd2luZG93LXgteS1wb3NpdGlvbi1mb3Itc2Nyb2xsXHJcbiAgICBmdW5jdGlvbiBnZXRTY3JvbGxUb3AoKXtcclxuICAgICAgICB2YXIgZG9jID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xyXG4gICAgICAgIHJldHVybiAod2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvYy5zY3JvbGxUb3ApICAtIChkb2MuY2xpZW50VG9wIHx8IDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy84NDIzMzYvaXMtdGhlcmUtYS13YXktdG8tc2VsZWN0LXNpYmxpbmctbm9kZXNcclxuICAgIGZ1bmN0aW9uIGdldENoaWxkcmVuKG4sIHNraXBNZSl7XHJcbiAgICAgICAgdmFyIHIgPSBbXTtcclxuICAgICAgICBmb3IgKCA7IG47IG4gPSBuLm5leHRTaWJsaW5nIClcclxuICAgICAgICAgICBpZiAoIG4ubm9kZVR5cGUgPT0gMSAmJiBuICE9IHNraXBNZSlcclxuICAgICAgICAgICAgICByLnB1c2goIG4gKTtcclxuICAgICAgICByZXR1cm4gcjtcclxuICAgIH07XHJcblxyXG4gICAgLy9HZXRzIHNpYmxpbmdzXHJcbiAgICBmdW5jdGlvbiBnZXRBbGxTaWJsaW5ncyhuKSB7XHJcbiAgICAgICAgcmV0dXJuIGdldENoaWxkcmVuKG4ucGFyZW50Tm9kZS5maXJzdENoaWxkLCBuKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBuZXh0KGVsZW1lbnQpe1xyXG4gICAgICAgIHZhciBuZXh0U2libGluZyA9IGVsZW1lbnQubmV4dFNpYmxpbmc7XHJcblxyXG4gICAgICAgIHdoaWxlKG5leHRTaWJsaW5nICYmIG5leHRTaWJsaW5nLm5vZGVUeXBlICE9IDEpIHtcclxuICAgICAgICAgICAgbmV4dFNpYmxpbmcgPSBuZXh0U2libGluZy5uZXh0U2libGluZztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXh0U2libGluZztcclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gcHJldihlbGVtZW50KXtcclxuICAgICAgICB2YXIgcHJldlNpYmxpbmcgPSBlbGVtZW50LnByZXZpb3VzU2libGluZztcclxuXHJcbiAgICAgICAgd2hpbGUocHJldlNpYmxpbmcgJiYgcHJldlNpYmxpbmcubm9kZVR5cGUgIT0gMSkge1xyXG4gICAgICAgICAgICBwcmV2U2libGluZyA9IHByZXZTaWJsaW5nLnByZXZpb3VzU2libGluZztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBwcmV2U2libGluZztcclxuICAgIH1cclxuXHJcbiAgICAvKiAtLS0tLS0tLS0tLS0tLS0gRU5EIEphdmFzY3JpcHQgaGVscGVycyAgLS0tLS0tLS0tLS0tLS0tKi9cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEdldHRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoZSBlbGVtZW50IHRvIHNjcm9sbCB3aGVuIHVzaW5nIGpRdWVyeSBhbmltYXRpb25zXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0U2Nyb2xsZWRQb3NpdGlvbihlbGVtZW50KXtcclxuICAgICAgICB2YXIgcG9zaXRpb247XHJcblxyXG4gICAgICAgIC8vaXMgbm90IHRoZSB3aW5kb3cgZWxlbWVudCBhbmQgaXMgYSBzbGlkZT9cclxuICAgICAgICBpZihlbGVtZW50LnNlbGYgIT0gd2luZG93ICYmIGhhc0NsYXNzKGVsZW1lbnQsIFNMSURFU19XUkFQUEVSKSl7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gZWxlbWVudC5zY3JvbGxMZWZ0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKCFvcHRpb25zLmF1dG9TY3JvbGxpbmcgIHx8IG9wdGlvbnMuc2Nyb2xsQmFyKXtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSBnZXRTY3JvbGxUb3AoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSBlbGVtZW50Lm9mZnNldFRvcDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vZ2V0cyB0aGUgdG9wIHByb3BlcnR5IG9mIHRoZSB3cmFwcGVyXHJcbiAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldFNjcm9sbGluZyhlbGVtZW50LCB2YWwpe1xyXG4gICAgICAgIGlmKCFvcHRpb25zLmF1dG9TY3JvbGxpbmcgfHwgb3B0aW9ucy5zY3JvbGxCYXIgfHwgKGVsZW1lbnQuc2VsZiAhPSB3aW5kb3cgJiYgaGFzQ2xhc3MoZWxlbWVudCwgU0xJREVTX1dSQVBQRVIpKSl7XHJcblxyXG4gICAgICAgICAgICAvL3Njcm9sbGluZyBob3Jpem9udGFsbHkgdGhyb3VnaCB0aGUgc2xpZGVzP1xyXG4gICAgICAgICAgICBpZihlbGVtZW50LnNlbGYgIT0gd2luZG93ICAmJiBoYXNDbGFzcyhlbGVtZW50LCBTTElERVNfV1JBUFBFUikpe1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zY3JvbGxMZWZ0ID0gdmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vdmVydGljYWwgc2Nyb2xsXHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNjcm9sbFRvKDAsIHZhbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUudG9wID0gdmFsICsgJ3B4JztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0QXV0b1Njcm9sbGluZyh2YWx1ZSwgdHlwZSl7XHJcbiAgICAgICAgc2V0VmFyaWFibGVTdGF0ZSgnYXV0b1Njcm9sbGluZycsIHZhbHVlLCB0eXBlKTtcclxuXHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSAkKFNFQ1RJT05fQUNUSVZFX1NFTCk7XHJcblxyXG4gICAgICAgIGlmKG9wdGlvbnMuYXV0b1Njcm9sbGluZyAmJiAhb3B0aW9ucy5zY3JvbGxCYXIpe1xyXG5cclxuICAgICAgICAgICAgY3NzKGRvY3VtZW50LmJvZHksIHtcclxuICAgICAgICAgICAgICAgICdvdmVyZmxvdyc6ICdoaWRkZW4nLFxyXG4gICAgICAgICAgICAgICAgJ2hlaWdodCc6ICcxMDAlJ1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNzcyhnZXRCeVRhZygnaHRtbCcpLHtcclxuICAgICAgICAgICAgICAgICdvdmVyZmxvdyc6ICdoaWRkZW4nLFxyXG4gICAgICAgICAgICAgICAgJ2hlaWdodCc6ICcxMDAlJ1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHNldFJlY29yZEhpc3Rvcnkob3B0aW9ucy5yZWNvcmRIaXN0b3J5LCAnaW50ZXJuYWwnKTtcclxuXHJcbiAgICAgICAgICAgIC8vZm9yIElFIHRvdWNoIGRldmljZXNcclxuICAgICAgICAgICAgY3NzKGNvbnRhaW5lciwge1xyXG4gICAgICAgICAgICAgICAgJy1tcy10b3VjaC1hY3Rpb24nOiAnbm9uZScsXHJcbiAgICAgICAgICAgICAgICAndG91Y2gtYWN0aW9uJzogJ25vbmUnXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYoZWxlbWVudCl7XHJcbiAgICAgICAgICAgICAgICAvL21vdmluZyB0aGUgY29udGFpbmVyIHVwXHJcbiAgICAgICAgICAgICAgICBzaWxlbnRTY3JvbGwoZWxlbWVudC5vZmZzZXRUb3ApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBjc3MoZG9jdW1lbnQuYm9keSwge1xyXG4gICAgICAgICAgICAgICAgJ292ZXJmbG93JzogJ3Zpc2libGUnLFxyXG4gICAgICAgICAgICAgICAgJ2hlaWdodCc6ICcxMDAlJ1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNzcyhnZXRCeVRhZygnaHRtbCcpLHtcclxuICAgICAgICAgICAgICAgICdvdmVyZmxvdyc6ICd2aXNpYmxlJyxcclxuICAgICAgICAgICAgICAgICdoZWlnaHQnOiAnMTAwJSdcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBzZXRSZWNvcmRIaXN0b3J5KGZhbHNlLCAnaW50ZXJuYWwnKTtcclxuXHJcbiAgICAgICAgICAgIC8vZm9yIElFIHRvdWNoIGRldmljZXNcclxuICAgICAgICAgICAgY3NzKGNvbnRhaW5lciwge1xyXG4gICAgICAgICAgICAgICAgJy1tcy10b3VjaC1hY3Rpb24nOiAnJyxcclxuICAgICAgICAgICAgICAgICd0b3VjaC1hY3Rpb24nOiAnJ1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHNpbGVudFNjcm9sbCgwKTtcclxuXHJcbiAgICAgICAgICAgIC8vc2Nyb2xsaW5nIHRoZSBwYWdlIHRvIHRoZSBzZWN0aW9uIHdpdGggbm8gYW5pbWF0aW9uXHJcbiAgICAgICAgICAgIHZhciBzY3JvbGxTZXR0aW5ncyA9IGdldFNjcm9sbFNldHRpbmdzKGVsZW1lbnQub2Zmc2V0VG9wKTtcclxuICAgICAgICAgICAgc2Nyb2xsU2V0dGluZ3MuZWxlbWVudC5zY3JvbGxUbygwLCBzY3JvbGxTZXR0aW5ncy5vcHRpb25zKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEZWZpbmVzIHdoZXRlciB0byByZWNvcmQgdGhlIGhpc3RvcnkgZm9yIGVhY2ggaGFzaCBjaGFuZ2UgaW4gdGhlIFVSTC5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBzZXRSZWNvcmRIaXN0b3J5KHZhbHVlLCB0eXBlKXtcclxuICAgICAgICBzZXRWYXJpYWJsZVN0YXRlKCdyZWNvcmRIaXN0b3J5JywgdmFsdWUsIHR5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEZWZpbmVzIHRoZSBzY3JvbGxpbmcgc3BlZWRcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBzZXRTY3JvbGxpbmdTcGVlZCh2YWx1ZSwgdHlwZSl7XHJcbiAgICAgICAgc2V0VmFyaWFibGVTdGF0ZSgnc2Nyb2xsaW5nU3BlZWQnLCB2YWx1ZSwgdHlwZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNldHMgZml0VG9TZWN0aW9uXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gc2V0Rml0VG9TZWN0aW9uKHZhbHVlLCB0eXBlKXtcclxuICAgICAgICBzZXRWYXJpYWJsZVN0YXRlKCdmaXRUb1NlY3Rpb24nLCB2YWx1ZSwgdHlwZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEFkZHMgb3IgcmVtb3ZlcyB0aGUgcG9zc2libGl0eSBvZiBzY3JvbGxpbmcgdGhyb3VnaCBzZWN0aW9ucyBieSB1c2luZyB0aGUgbW91c2Ugd2hlZWwgb3IgdGhlIHRyYWNrcGFkLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHNldE1vdXNlV2hlZWxTY3JvbGxpbmcodmFsdWUpe1xyXG4gICAgICAgIGlmKHZhbHVlKXtcclxuICAgICAgICAgICAgYWRkTW91c2VXaGVlbEhhbmRsZXIoKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmVtb3ZlTW91c2VXaGVlbEhhbmRsZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEFkZHMgb3IgcmVtb3ZlcyB0aGUgcG9zc2libGl0eSBvZiBzY3JvbGxpbmcgdGhyb3VnaCBzZWN0aW9ucyBieSB1c2luZyB0aGUga2V5Ym9hcmQgYXJyb3cga2V5c1xyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHNldEtleWJvYXJkU2Nyb2xsaW5nKHZhbHVlKXtcclxuICAgICAgICBvcHRpb25zLmtleWJvYXJkU2Nyb2xsaW5nID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIE1vdmVzIHRoZSBwYWdlIHVwIG9uZSBzZWN0aW9uLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIG1vdmVTZWN0aW9uVXAoKXtcclxuICAgICAgICB2YXIgc2VjdGlvbiA9IHByZXYoJChTRUNUSU9OX0FDVElWRV9TRUwpKTtcclxuXHJcbiAgICAgICAgaWYgKHNlY3Rpb24pIHtcclxuICAgICAgICAgICAgc2Nyb2xsUGFnZShzZWN0aW9uLCBudWxsLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIE1vdmVzIHRoZSBwYWdlIGRvd24gb25lIHNlY3Rpb24uXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gbW92ZVNlY3Rpb25Eb3duKCl7XHJcbiAgICAgICAgdmFyIHNlY3Rpb24gPSBuZXh0KCQoU0VDVElPTl9BQ1RJVkVfU0VMKSk7XHJcblxyXG4gICAgICAgIGlmKHNlY3Rpb24pe1xyXG4gICAgICAgICAgICBzY3JvbGxQYWdlKHNlY3Rpb24sIG51bGwsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIE1vdmVzIHRoZSBwYWdlIHRvIHRoZSBnaXZlbiBzZWN0aW9uIGFuZCBzbGlkZSB3aXRoIG5vIGFuaW1hdGlvbi5cclxuICAgICogQW5jaG9ycyBvciBpbmRleCBwb3NpdGlvbnMgY2FuIGJlIHVzZWQgYXMgcGFyYW1zLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHNpbGVudE1vdmVUbyhzZWN0aW9uQW5jaG9yLCBzbGlkZUFuY2hvcil7XHJcbiAgICAgICAgc2V0U2Nyb2xsaW5nU3BlZWQgKDAsICdpbnRlcm5hbCcpO1xyXG4gICAgICAgIG1vdmVUbyhzZWN0aW9uQW5jaG9yLCBzbGlkZUFuY2hvcilcclxuICAgICAgICBzZXRTY3JvbGxpbmdTcGVlZCAob3JpZ2luYWxzLnNjcm9sbGluZ1NwZWVkLCAnaW50ZXJuYWwnKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIE1vdmVzIHRoZSBwYWdlIHRvIHRoZSBnaXZlbiBzZWN0aW9uIGFuZCBzbGlkZS5cclxuICAgICogQW5jaG9ycyBvciBpbmRleCBwb3NpdGlvbnMgY2FuIGJlIHVzZWQgYXMgcGFyYW1zLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIG1vdmVUbyhzZWN0aW9uQW5jaG9yLCBzbGlkZUFuY2hvcil7XHJcbiAgICAgICAgdmFyIGRlc3RpbnkgPSBnZXRTZWN0aW9uQnlBbmNob3Ioc2VjdGlvbkFuY2hvcik7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2Ygc2xpZGVBbmNob3IgIT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgc2Nyb2xsUGFnZUFuZFNsaWRlKHNlY3Rpb25BbmNob3IsIHNsaWRlQW5jaG9yKTtcclxuICAgICAgICB9ZWxzZSBpZihkZXN0aW55KXtcclxuICAgICAgICAgICAgc2Nyb2xsUGFnZShkZXN0aW55KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNsaWRlcyByaWdodCB0aGUgc2xpZGVyIG9mIHRoZSBhY3RpdmUgc2VjdGlvbi5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBtb3ZlU2xpZGVSaWdodCgpe1xyXG4gICAgICAgIG1vdmVTbGlkZSgnbmV4dCcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTbGlkZXMgbGVmdCB0aGUgc2xpZGVyIG9mIHRoZSBhY3RpdmUgc2VjdGlvbi5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBtb3ZlU2xpZGVMZWZ0KCl7XHJcbiAgICAgICAgbW92ZVNsaWRlKCdwcmV2Jyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogV2hlbiByZXNpemluZyBpcyBmaW5pc2hlZCwgd2UgYWRqdXN0IHRoZSBzbGlkZXMgc2l6ZXMgYW5kIHBvc2l0aW9uc1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiByZUJ1aWxkKHJlc2l6aW5nKXtcclxuICAgICAgICBpZihoYXNDbGFzcyhjb250YWluZXIsIERFU1RST1lFRCkpeyByZXR1cm47IH1cclxuXHJcbiAgICAgICAgaXNSZXNpemluZyA9IHRydWU7XHJcblxyXG4gICAgICAgIHdpbmRvd3NIZWlnaHQgPSBnZXRXaW5kb3dIZWlnaHQoKTtcclxuXHJcbiAgICAgICAgdmFyIHNlY3Rpb25zID0gJCQoU0VDVElPTl9TRUwpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VjdGlvbnMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgdmFyIHNlY3Rpb24gPSBzZWN0aW9uc1tpXTtcclxuICAgICAgICAgICAgdmFyIHNsaWRlc1dyYXAgPSAkKFNMSURFU19XUkFQUEVSX1NFTCwgc2VjdGlvbik7XHJcbiAgICAgICAgICAgIHZhciBzbGlkZXMgPSAkJChTTElERV9TRUwsIHNlY3Rpb24pO1xyXG5cclxuICAgICAgICAgICAgLy9hZGp1c3RpbmcgdGhlIHBvc2l0aW9uIGZvIHRoZSBGVUxMIFdJRFRIIHNsaWRlcy4uLlxyXG4gICAgICAgICAgICBpZiAoc2xpZGVzV3JhcCAmJiBzbGlkZXMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgbGFuZHNjYXBlU2Nyb2xsKHNsaWRlc1dyYXAsICQoU0xJREVfQUNUSVZFX1NFTCwgc2xpZGVzV3JhcCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgdmFyIGFjdGl2ZVNlY3Rpb24gPSAkKFNFQ1RJT05fQUNUSVZFX1NFTCk7XHJcblxyXG4gICAgICAgIC8vaXNuJ3QgaXQgdGhlIGZpcnN0IHNlY3Rpb24/XHJcbiAgICAgICAgaWYoZ2V0Tm9kZUluZGV4KGFjdGl2ZVNlY3Rpb24pKXtcclxuICAgICAgICAgICAgLy9hZGp1c3RpbmcgdGhlIHBvc2l0aW9uIGZvciB0aGUgY3VycmVudCBzZWN0aW9uXHJcbiAgICAgICAgICAgIHNpbGVudFNjcm9sbChhY3RpdmVTZWN0aW9uLm9mZnNldFRvcCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpc1Jlc2l6aW5nID0gZmFsc2U7XHJcbiAgICAgICAgaXNGdW5jdGlvbiggb3B0aW9ucy5hZnRlclJlc2l6ZSApICYmIHJlc2l6aW5nICYmIG9wdGlvbnMuYWZ0ZXJSZXNpemUuY2FsbChjb250YWluZXIpO1xyXG4gICAgICAgIGlzRnVuY3Rpb24oIG9wdGlvbnMuYWZ0ZXJSZUJ1aWxkICkgJiYgIXJlc2l6aW5nICYmIG9wdGlvbnMuYWZ0ZXJSZUJ1aWxkLmNhbGwoY29udGFpbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQ3JlYXRlcyB0aGUgY29udHJvbCBhcnJvd3MgZm9yIHRoZSBnaXZlbiBzZWN0aW9uXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gY3JlYXRlU2xpZGVBcnJvd3Moc2VjdGlvbil7XHJcbiAgICAgICAgdmFyIHByZXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBwcmV2LmNsYXNzTmFtZSA9IFNMSURFU19BUlJPV19QUkVWO1xyXG5cclxuICAgICAgICB2YXIgbmV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIG5leHQuY2xhc3NOYW1lID0gU0xJREVTX0FSUk9XX05FWFQ7XHJcblxyXG4gICAgICAgIHZhciBzbGlkZXMgPSAkKFNMSURFU19XUkFQUEVSX1NFTCwgc2VjdGlvbik7XHJcblxyXG4gICAgICAgIGlmKG9wdGlvbnMuY29udHJvbEFycm93Q29sb3IgIT0gJyNmZmYnKXtcclxuICAgICAgICAgICAgLy9zZXRDc3MobmV4dCwgJ2JvcmRlci1jb2xvcicsICd0cmFuc3BhcmVudCB0cmFuc3BhcmVudCB0cmFuc3BhcmVudCAnK29wdGlvbnMuY29udHJvbEFycm93Q29sb3IpO1xyXG4gICAgICAgICAgICAvL3NldENzcyhwcmV2LCAnYm9yZGVyLWNvbG9yJywgJ3RyYW5zcGFyZW50ICcrIG9wdGlvbnMuY29udHJvbEFycm93Q29sb3IgKyAnIHRyYW5zcGFyZW50IHRyYW5zcGFyZW50Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzbGlkZXMucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChwcmV2KTtcclxuICAgICAgICBzbGlkZXMucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChuZXh0KTtcclxuXHJcbiAgICAgICAgaWYoIW9wdGlvbnMubG9vcEhvcml6b250YWwpe1xyXG4gICAgICAgICAgICAkKFNMSURFU19BUlJPV19QUkVWX1NFTCwgc2VjdGlvbikuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIENyZWF0ZXMgYSB2ZXJ0aWNhbCBuYXZpZ2F0aW9uIGJhci5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBhZGRWZXJ0aWNhbE5hdmlnYXRpb24oKXtcclxuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnaWQnLCBTRUNUSU9OX05BVik7XHJcblxyXG4gICAgICAgIHZhciBkaXZVbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XHJcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKGRpdlVsKTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpO1xyXG5cclxuICAgICAgICBuYXYgPSAkKFNFQ1RJT05fTkFWX1NFTCk7XHJcblxyXG4gICAgICAgIHNldENzcyhuYXYsICdjb2xvcicsIG9wdGlvbnMubmF2aWdhdGlvbkNvbG9yKTtcclxuICAgICAgICBhZGRDbGFzcyhuYXYsIG9wdGlvbnMubmF2aWdhdGlvblBvc2l0aW9uKTtcclxuXHJcbiAgICAgICAgaWYob3B0aW9ucy5zaG93QWN0aXZlVG9vbHRpcCl7XHJcbiAgICAgICAgICAgIGFkZENsYXNzKG5hdiwgU0hPV19BQ1RJVkVfVE9PTFRJUCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbGkgPSAnJztcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkJChTRUNUSU9OX1NFTCkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGxpbmsgPSAnJztcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuYW5jaG9ycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGxpbmsgPSBvcHRpb25zLmFuY2hvcnNbaV07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxpID0gbGkgKyAnPGxpPjxhIGhyZWY9XCIjJyArIGxpbmsgKyAnXCI+PHNwYW4+PC9zcGFuPjwvYT4nO1xyXG5cclxuICAgICAgICAgICAgLy8gT25seSBhZGQgdG9vbHRpcCBpZiBuZWVkZWQgKGRlZmluZWQgYnkgdXNlcilcclxuICAgICAgICAgICAgdmFyIHRvb2x0aXAgPSBvcHRpb25zLm5hdmlnYXRpb25Ub29sdGlwc1tpXTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0b29sdGlwICE9PSB1bmRlZmluZWQgJiYgdG9vbHRpcCAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgIGxpICs9ICc8ZGl2IGNsYXNzPVwiJysgU0VDVElPTl9OQVZfVE9PTFRJUCArJyAnICsgb3B0aW9ucy5uYXZpZ2F0aW9uUG9zaXRpb24gKyAnXCI+JyArIHRvb2x0aXAgKyAnPC9kaXY+JztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGkgKz0gJzwvbGk+JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB1bCA9ICQoJ3VsJywgbmF2KTtcclxuICAgICAgICB1bC5pbm5lckhUTUwgPSB1bC5pbm5lckhUTUwgKyBsaTtcclxuXHJcbiAgICAgICAgLy9jcmVhdGluZyB0aGUgZXZlbnQgbGlzdGVuZXJcclxuICAgICAgICB2YXIgbGlua3MgPSAkJChTTElERVNfTkFWX0xJTktfU0VMKTtcclxuICAgICAgICBmb3IodmFyIGwgPSAwOyBsPGxpbmtzLmxlbmd0aDsgbCsrKXtcclxuICAgICAgICAgICAgYWRkTGlzdGVuZXJNdWx0aShsaW5rc1tsXSwgJ2NsaWNrIG9uY2xpY2sgdG91Y2hzdGFydCcsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICAgICAgZSA9IHdpbmRvdy5ldmVudCB8fCBlIHx8IGUub3JpZ2luYWxFdmVudDtcclxuICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0KGUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gZ2V0Tm9kZUluZGV4KHRoaXMucGFyZW50Tm9kZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgc2Nyb2xsUGFnZSgkJChTRUNUSU9OX1NFTClbaW5kZXhdLCBudWxsLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEFjdGlvbnMgYW5kIGNhbGxiYWNrcyB0byBmaXJlIGFmdGVyUmVuZGVyXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gYWZ0ZXJSZW5kZXJBY3Rpb25zKCl7XHJcbiAgICAgICAgdmFyIHNlY3Rpb24gPSAkKFNFQ1RJT05fQUNUSVZFX1NFTCk7XHJcblxyXG4gICAgICAgIGlzRnVuY3Rpb24oIG9wdGlvbnMuYWZ0ZXJMb2FkICkgJiYgb3B0aW9ucy5hZnRlckxvYWQuY2FsbChzZWN0aW9uLCBzZWN0aW9uLmdldEF0dHJpYnV0ZSgnZGF0YS1hbmNob3InKSwgKGdldE5vZGVJbmRleChzZWN0aW9uKSArIDEpKTtcclxuICAgICAgICBpc0Z1bmN0aW9uKCBvcHRpb25zLmFmdGVyUmVuZGVyICkgJiYgb3B0aW9ucy5hZnRlclJlbmRlci5jYWxsKGNvbnRhaW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHNjcm9sbElkO1xyXG4gICAgdmFyIHNjcm9sbElkMjtcclxuICAgIHZhciBpc1Njcm9sbGluZyA9IGZhbHNlO1xyXG5cclxuXHJcbiAgICAvL3doZW4gc2Nyb2xsaW5nXHJcbiAgICBmdW5jdGlvbiBzY3JvbGxIYW5kbGVyKCl7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRTZWN0aW9uO1xyXG5cclxuICAgICAgICBpZighb3B0aW9ucy5hdXRvU2Nyb2xsaW5nIHx8IG9wdGlvbnMuc2Nyb2xsQmFyKXtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRTY3JvbGwgPSBnZXRTY3JvbGxUb3AoKTtcclxuICAgICAgICAgICAgdmFyIHZpc2libGVTZWN0aW9uSW5kZXggPSAwO1xyXG4gICAgICAgICAgICB2YXIgaW5pdGlhbCA9IE1hdGguYWJzKGN1cnJlbnRTY3JvbGwgLSAkJChTRUNUSU9OX1NFTClbMF0ub2Zmc2V0VG9wKTtcclxuXHJcbiAgICAgICAgICAgIC8vdGFraW5nIHRoZSBzZWN0aW9uIHdoaWNoIGlzIHNob3dpbmcgbW9yZSBjb250ZW50IGluIHRoZSB2aWV3cG9ydFxyXG4gICAgICAgICAgICB2YXIgc2VjdGlvbnMgPSAkJChTRUNUSU9OX1NFTCk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VjdGlvbnMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZWN0aW9uID0gc2VjdGlvbnNbaV07XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSBNYXRoLmFicyhjdXJyZW50U2Nyb2xsIC0gc2VjdGlvbi5vZmZzZXRUb3ApO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKGN1cnJlbnQgPCBpbml0aWFsKXtcclxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlU2VjdGlvbkluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsID0gY3VycmVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9nZXRpbmcgdGhlIGxhc3Qgb25lLCB0aGUgY3VycmVudCBvbmUgb24gdGhlIHNjcmVlblxyXG4gICAgICAgICAgICBjdXJyZW50U2VjdGlvbiA9ICQkKFNFQ1RJT05fU0VMKVt2aXNpYmxlU2VjdGlvbkluZGV4XTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZighb3B0aW9ucy5hdXRvU2Nyb2xsaW5nIHx8IG9wdGlvbnMuc2Nyb2xsQmFyKXtcclxuICAgICAgICAgICAgLy9leGVjdXRpbmcgaXQgb25seSBvbmNlIHRoZSBmaXJzdCB0aW1lIHdlIHJlYWNoIHRoZSBzZWN0aW9uXHJcbiAgICAgICAgICAgIGlmKCFoYXNDbGFzcyhjdXJyZW50U2VjdGlvbiwgQUNUSVZFKSl7XHJcblxyXG4gICAgICAgICAgICAgICAgaXNTY3JvbGxpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxlYXZpbmdTZWN0aW9uID0gJChTRUNUSU9OX0FDVElWRV9TRUwpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxlYXZpbmdTZWN0aW9uSW5kZXggPSBnZXROb2RlSW5kZXgobGVhdmluZ1NlY3Rpb24pICsgMTtcclxuICAgICAgICAgICAgICAgIHZhciB5TW92ZW1lbnQgPSBnZXRZbW92ZW1lbnQoY3VycmVudFNlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgdmFyIGFuY2hvckxpbmsgID0gY3VycmVudFNlY3Rpb24uZ2V0QXR0cmlidXRlKCdkYXRhLWFuY2hvcicpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlY3Rpb25JbmRleCA9IGdldE5vZGVJbmRleChjdXJyZW50U2VjdGlvbikgKyAxO1xyXG4gICAgICAgICAgICAgICAgdmFyIGFjdGl2ZVNsaWRlID0gJChTTElERV9BQ1RJVkVfU0VMLCBjdXJyZW50U2VjdGlvbik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoYWN0aXZlU2xpZGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzbGlkZUFuY2hvckxpbmsgPSBhY3RpdmVTbGlkZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYW5jaG9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNsaWRlSW5kZXggPSBnZXROb2RlSW5kZXgoYWN0aXZlU2xpZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmKGNhblNjcm9sbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9yZW1vdmluZyBzaWJsaW5ncyBhY3RpdmUgY2xhc3NcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhsZWF2aW5nU2VjdGlvbiwgQUNUSVZFKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9hZGRpbmcgdGhlIGFjdGl2ZSBjbGFzcyB0byB0aGUgY3VycmVudCBhY3RpdmUgc2VjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKGN1cnJlbnRTZWN0aW9uLCBBQ1RJVkUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpc0Z1bmN0aW9uKCBvcHRpb25zLm9uTGVhdmUgKSAmJiBvcHRpb25zLm9uTGVhdmUuY2FsbCggbGVhdmluZ1NlY3Rpb24sIGxlYXZpbmdTZWN0aW9uSW5kZXgsIHNlY3Rpb25JbmRleCwgeU1vdmVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBpc0Z1bmN0aW9uKCBvcHRpb25zLmFmdGVyTG9hZCApICYmIG9wdGlvbnMuYWZ0ZXJMb2FkLmNhbGwoIGN1cnJlbnRTZWN0aW9uLCBhbmNob3JMaW5rLCBzZWN0aW9uSW5kZXgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBhY3RpdmF0ZU1lbnVBbmROYXYoYW5jaG9yTGluaywgMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMuYW5jaG9ycy5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL25lZWRlZCB0byBlbnRlciBpbiBoYXNoQ2hhbmdlIGV2ZW50IHdoZW4gdXNpbmcgdGhlIG1lbnUgd2l0aCBhbmNob3IgbGlua3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFNjcm9sbGVkRGVzdGlueSA9IGFuY2hvckxpbms7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTdGF0ZShzbGlkZUluZGV4LCBzbGlkZUFuY2hvckxpbmssIGFuY2hvckxpbmssIHNlY3Rpb25JbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vc21hbGwgdGltZW91dCBpbiBvcmRlciB0byBhdm9pZCBlbnRlcmluZyBpbiBoYXNoQ2hhbmdlIGV2ZW50IHdoZW4gc2Nyb2xsaW5nIGlzIG5vdCBmaW5pc2hlZCB5ZXRcclxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChzY3JvbGxJZCk7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICBpc1Njcm9sbGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYob3B0aW9ucy5maXRUb1NlY3Rpb24pe1xyXG4gICAgICAgICAgICAgICAgLy9mb3IgdGhlIGF1dG8gYWRqdXN0IG9mIHRoZSB2aWV3cG9ydCB0byBmaXQgYSB3aG9sZSBzZWN0aW9uXHJcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoc2Nyb2xsSWQyKTtcclxuXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxJZDIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY2FuU2Nyb2xsICYmICFvcHRpb25zLmF1dG9TY3JvbGxpbmcgfHwgb3B0aW9ucy5zY3JvbGxCYXIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2FsbG93cyB0byBzY3JvbGwgdG8gYW4gYWN0aXZlIHNlY3Rpb24gYW5kXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgdGhlIHNlY3Rpb24gaXMgYWxyZWFkeSBhY3RpdmUsIHdlIHByZXZlbnQgZmlyaW5nIGNhbGxiYWNrc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihnZXROb2RlSW5kZXgoJChTRUNUSU9OX0FDVElWRV9TRUwpKSA9PSBnZXROb2RlSW5kZXgoY3VycmVudFNlY3Rpb24pICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1Jlc2l6aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsUGFnZShjdXJyZW50U2VjdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUmVzaXppbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zLmZpdFRvU2VjdGlvbkRlbGF5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRGV0ZXJtaW5lcyB0aGUgd2F5IG9mIHNjcm9sbGluZyB1cCBvciBkb3duOlxyXG4gICAgKiBieSAnYXV0b21hdGljYWxseScgc2Nyb2xsaW5nIGEgc2VjdGlvbiBvciBieSB1c2luZyB0aGUgZGVmYXVsdCBhbmQgbm9ybWFsIHNjcm9sbGluZy5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBzY3JvbGxpbmcodHlwZSl7XHJcbiAgICAgICAgaWYodHlwZSA9PSAnZG93bicpe1xyXG4gICAgICAgICAgICBtb3ZlU2VjdGlvbkRvd24oKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgbW92ZVNlY3Rpb25VcCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgdmFyIHRvdWNoU3RhcnRZID0gMDtcclxuICAgIHZhciB0b3VjaFN0YXJ0WCA9IDA7XHJcbiAgICB2YXIgdG91Y2hFbmRZID0gMDtcclxuICAgIHZhciB0b3VjaEVuZFggPSAwO1xyXG5cclxuICAgIC8qIERldGVjdGluZyB0b3VjaCBldmVudHNcclxuXHJcbiAgICAqIEFzIHdlIGFyZSBjaGFuZ2luZyB0aGUgdG9wIHByb3BlcnR5IG9mIHRoZSBwYWdlIG9uIHNjcm9sbGluZywgd2UgY2FuIG5vdCB1c2UgdGhlIHRyYWRpdGlvbmFsIHdheSB0byBkZXRlY3QgaXQuXHJcbiAgICAqIFRoaXMgd2F5LCB0aGUgdG91Y2hzdGFydCBhbmQgdGhlIHRvdWNoIG1vdmVzIHNob3dzIGFuIHNtYWxsIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGVtIHdoaWNoIGlzIHRoZVxyXG4gICAgKiB1c2VkIG9uZSB0byBkZXRlcm1pbmUgdGhlIGRpcmVjdGlvbi5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiB0b3VjaE1vdmVIYW5kbGVyKGV2ZW50KXtcclxuXHJcbiAgICAgICAgdmFyIGUgPSB3aW5kb3cuZXZlbnQgfHwgZXZlbnQgfHwgZXZlbnQub3JpZ2luYWxFdmVudDtcclxuXHJcbiAgICAgICAgaWYoaXNSZWFsbHlUb3VjaChlKSl7XHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuYXV0b1Njcm9sbGluZyl7XHJcbiAgICAgICAgICAgICAgICAvL3ByZXZlbnRpbmcgdGhlIGVhc2luZyBvbiBpT1MgZGV2aWNlc1xyXG4gICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQoZXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgYWN0aXZlU2VjdGlvbiA9ICQoU0VDVElPTl9BQ1RJVkVfU0VMKTtcclxuICAgICAgICAgICAgdmFyIHNsaWRlcyA9ICQkKFNMSURFU19XUkFQUEVSX1NFTCwgYWN0aXZlU2VjdGlvbik7XHJcblxyXG4gICAgICAgICAgICBpZiAoY2FuU2Nyb2xsICYmICFzbGlkZU1vdmluZykgeyAvL2lmIHRoZXJlcyBhbnkgI1xyXG4gICAgICAgICAgICAgICAgdmFyIHRvdWNoRXZlbnRzID0gZ2V0RXZlbnRzUGFnZShlKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0b3VjaEVuZFkgPSB0b3VjaEV2ZW50cy55O1xyXG4gICAgICAgICAgICAgICAgdG91Y2hFbmRYID0gdG91Y2hFdmVudHMueDtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2lmIG1vdmVtZW50IGluIHRoZSBYIGF4eXMgaXMgZ3JlYXRlciB0aGFuIGluIHRoZSBZIGFuZCB0aGUgY3VycmVjdCBzZWN0aW9uIGhhcyBzbGlkZXMuLi5cclxuICAgICAgICAgICAgICAgIGlmICggc2xpZGVzICYmIE1hdGguYWJzKHRvdWNoU3RhcnRYIC0gdG91Y2hFbmRYKSA+IChNYXRoLmFicyh0b3VjaFN0YXJ0WSAtIHRvdWNoRW5kWSkpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vaXMgdGhlIG1vdmVtZW50IGdyZWF0ZXIgdGhhbiB0aGUgbWluaW11bSByZXNpc3RhbmNlIHRvIHNjcm9sbD9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnModG91Y2hTdGFydFggLSB0b3VjaEVuZFgpID4gKGdldFdpbmRvd1dpZHRoKCkgLyAxMDAgKiBvcHRpb25zLnRvdWNoU2Vuc2l0aXZpdHkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b3VjaFN0YXJ0WCA+IHRvdWNoRW5kWCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92ZVNsaWRlUmlnaHQoKTsgLy9uZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZlU2xpZGVMZWZ0KCk7IC8vcHJldlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vdmVydGljYWwgc2Nyb2xsaW5nIChvbmx5IHdoZW4gYXV0b1Njcm9sbGluZyBpcyBlbmFibGVkKVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZihvcHRpb25zLmF1dG9TY3JvbGxpbmcpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2lzIHRoZSBtb3ZlbWVudCBncmVhdGVyIHRoYW4gdGhlIG1pbmltdW0gcmVzaXN0YW5jZSB0byBzY3JvbGw/XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHRvdWNoU3RhcnRZIC0gdG91Y2hFbmRZKSA+IChnZXRXaW5kb3dIZWlnaHQoKS8gMTAwICogb3B0aW9ucy50b3VjaFNlbnNpdGl2aXR5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG91Y2hTdGFydFkgPiB0b3VjaEVuZFkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGluZygnZG93bicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRvdWNoRW5kWSA+IHRvdWNoU3RhcnRZKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxpbmcoJ3VwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEFzIElFID49IDEwIGZpcmVzIGJvdGggdG91Y2ggYW5kIG1vdXNlIGV2ZW50cyB3aGVuIHVzaW5nIGEgbW91c2UgaW4gYSB0b3VjaHNjcmVlblxyXG4gICAgKiB0aGlzIHdheSB3ZSBtYWtlIHN1cmUgdGhhdCBpcyByZWFsbHkgYSB0b3VjaCBldmVudCB3aGF0IElFIGlzIGRldGVjdGluZy5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBpc1JlYWxseVRvdWNoKGUpe1xyXG4gICAgICAgIC8vaWYgaXMgbm90IElFICAgfHwgIElFIGlzIGRldGVjdGluZyBgdG91Y2hgIG9yIGBwZW5gXHJcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBlLnBvaW50ZXJUeXBlID09PSAndW5kZWZpbmVkJyB8fCBlLnBvaW50ZXJUeXBlICE9ICdtb3VzZSc7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEhhbmRsZXIgZm9yIHRoZSB0b3VjaCBzdGFydCBldmVudC5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiB0b3VjaFN0YXJ0SGFuZGxlcihldmVudCl7XHJcbiAgICAgICAgdmFyIGUgPSB3aW5kb3cuZXZlbnQgfHwgZXZlbnQgfHwgZXZlbnQub3JpZ2luYWxFdmVudDtcclxuXHJcbiAgICAgICAgLy9zdG9wcGluZyB0aGUgYXV0byBzY3JvbGwgdG8gYWRqdXN0IHRvIGEgc2VjdGlvblxyXG4gICAgICAgIGlmKG9wdGlvbnMuZml0VG9TZWN0aW9uKXtcclxuICAgICAgICAgICAgYWN0aXZlQW5pbWF0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihpc1JlYWxseVRvdWNoKGUpKXtcclxuICAgICAgICAgICAgdmFyIHRvdWNoRXZlbnRzID0gZ2V0RXZlbnRzUGFnZShlKTtcclxuICAgICAgICAgICAgdG91Y2hTdGFydFkgPSB0b3VjaEV2ZW50cy55O1xyXG4gICAgICAgICAgICB0b3VjaFN0YXJ0WCA9IHRvdWNoRXZlbnRzLng7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBHZXRzIHRoZSBhdmVyYWdlIG9mIHRoZSBsYXN0IGBudW1iZXJgIGVsZW1lbnRzIG9mIHRoZSBnaXZlbiBhcnJheS5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRBdmVyYWdlKGVsZW1lbnRzLCBudW1iZXIpe1xyXG4gICAgICAgIHZhciBzdW0gPSAwO1xyXG5cclxuICAgICAgICAvL3Rha2luZyBgbnVtYmVyYCBlbGVtZW50cyBmcm9tIHRoZSBlbmQgdG8gbWFrZSB0aGUgYXZlcmFnZSwgaWYgdGhlcmUgYXJlIG5vdCBlbm91Z2h0LCAxXHJcbiAgICAgICAgdmFyIGxhc3RFbGVtZW50cyA9IGVsZW1lbnRzLnNsaWNlKE1hdGgubWF4KGVsZW1lbnRzLmxlbmd0aCAtIG51bWJlciwgMSkpO1xyXG5cclxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgbGFzdEVsZW1lbnRzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgc3VtID0gc3VtICsgbGFzdEVsZW1lbnRzW2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gTWF0aC5jZWlsKHN1bS9udW1iZXIpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIERldGVjdGluZyBtb3VzZXdoZWVsIHNjcm9sbGluZ1xyXG4gICAgICpcclxuICAgICAqIGh0dHA6Ly9ibG9ncy5zaXRlcG9pbnRzdGF0aWMuY29tL2V4YW1wbGVzL3RlY2gvbW91c2Utd2hlZWwvaW5kZXguaHRtbFxyXG4gICAgICogaHR0cDovL3d3dy5zaXRlcG9pbnQuY29tL2h0bWw1LWphdmFzY3JpcHQtbW91c2Utd2hlZWwvXHJcbiAgICAgKi9cclxuICAgIHZhciBwcmV2VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIE1vdXNlV2hlZWxIYW5kbGVyKGUpIHtcclxuICAgICAgICB2YXIgY3VyVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG5cclxuICAgICAgICBpZihvcHRpb25zLmF1dG9TY3JvbGxpbmcpe1xyXG4gICAgICAgICAgICAvLyBjcm9zcy1icm93c2VyIHdoZWVsIGRlbHRhXHJcbiAgICAgICAgICAgIGUgPSB3aW5kb3cuZXZlbnQgfHwgZSB8fCBlLm9yaWdpbmFsRXZlbnQ7XHJcblxyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBlLndoZWVsRGVsdGEgfHwgLWUuZGVsdGFZIHx8IC1lLmRldGFpbDtcclxuICAgICAgICAgICAgdmFyIGRlbHRhID0gTWF0aC5tYXgoLTEsIE1hdGgubWluKDEsIHZhbHVlKSk7XHJcblxyXG4gICAgICAgICAgICAvL0xpbWl0aW5nIHRoZSBhcnJheSB0byAxNTAgKGxldHMgbm90IHdhaXN0IG1lbW9yeSEpXHJcbiAgICAgICAgICAgIGlmKHNjcm9sbGluZ3MubGVuZ3RoID4gMTQ5KXtcclxuICAgICAgICAgICAgICAgIHNjcm9sbGluZ3Muc2hpZnQoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9rZWVwaW5nIHJlY29yZCBvZiB0aGUgcHJldmlvdXMgc2Nyb2xsaW5nc1xyXG4gICAgICAgICAgICBzY3JvbGxpbmdzLnB1c2goTWF0aC5hYnModmFsdWUpKTtcclxuXHJcbiAgICAgICAgICAgIC8vcHJldmVudGluZyB0byBzY3JvbGwgdGhlIHNpdGUgb24gbW91c2Ugd2hlZWwgd2hlbiBzY3JvbGxiYXIgaXMgcHJlc2VudFxyXG4gICAgICAgICAgICBpZihvcHRpb25zLnNjcm9sbEJhcil7XHJcbiAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdChlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHRpbWVEaWZmID0gY3VyVGltZS1wcmV2VGltZTtcclxuICAgICAgICAgICAgcHJldlRpbWUgPSBjdXJUaW1lO1xyXG5cclxuICAgICAgICAgICAgLy9oYXZlbid0IHRoZXkgc2Nyb2xsZWQgaW4gYSB3aGlsZT9cclxuICAgICAgICAgICAgLy8oZW5vdWdoIHRvIGJlIGNvbnNpZGVyIGEgZGlmZmVyZW50IHNjcm9sbGluZyBhY3Rpb24gdG8gc2Nyb2xsIGFub3RoZXIgc2VjdGlvbilcclxuICAgICAgICAgICAgaWYodGltZURpZmYgPiAyMDApe1xyXG4gICAgICAgICAgICAgICAgLy9lbXB0eWluZyB0aGUgYXJyYXksIHdlIGRvbnQgY2FyZSBhYm91dCBvbGQgc2Nyb2xsaW5ncyBmb3Igb3VyIGF2ZXJhZ2VzXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxpbmdzID0gW107XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKGNhblNjcm9sbCl7Ly9pZiB0aGVyZXMgYW55ICNcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgYXZlcmFnZUVuZCA9IGdldEF2ZXJhZ2Uoc2Nyb2xsaW5ncywgMTApO1xyXG4gICAgICAgICAgICAgICAgdmFyIGF2ZXJhZ2VNaWRkbGUgPSBnZXRBdmVyYWdlKHNjcm9sbGluZ3MsIDcwKTtcclxuICAgICAgICAgICAgICAgIHZhciBpc0FjY2VsZXJhdGluZyA9IGF2ZXJhZ2VFbmQgPj0gYXZlcmFnZU1pZGRsZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihpc0FjY2VsZXJhdGluZyl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9zY3JvbGxpbmcgZG93bj9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVsdGEgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGluZygnZG93bicpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL3Njcm9sbGluZyB1cD9cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGluZygndXAnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKG9wdGlvbnMuZml0VG9TZWN0aW9uKXtcclxuICAgICAgICAgICAgLy9zdG9wcGluZyB0aGUgYXV0byBzY3JvbGwgdG8gYWRqdXN0IHRvIGEgc2VjdGlvblxyXG4gICAgICAgICAgICBhY3RpdmVBbmltYXRpb24gPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNsaWRlcyBhIHNsaWRlciB0byB0aGUgZ2l2ZW4gZGlyZWN0aW9uLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIG1vdmVTbGlkZShkaXJlY3Rpb24pe1xyXG4gICAgICAgIHZhciBhY3RpdmVTZWN0aW9uID0gJChTRUNUSU9OX0FDVElWRV9TRUwpO1xyXG4gICAgICAgIHZhciBzbGlkZXMgPSAkKFNMSURFU19XUkFQUEVSX1NFTCwgYWN0aXZlU2VjdGlvbik7XHJcblxyXG4gICAgICAgIC8vIG1vcmUgdGhhbiBvbmUgc2xpZGUgbmVlZGVkIGFuZCBub3RoaW5nIHNob3VsZCBiZSBzbGlkaW5nXHJcbiAgICAgICAgaWYgKCFzbGlkZXN8fCBzbGlkZU1vdmluZykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgY3VycmVudFNsaWRlID0gJChTTElERV9BQ1RJVkVfU0VMLCBzbGlkZXMpO1xyXG4gICAgICAgIHZhciBkZXN0aW55ID0gbnVsbDtcclxuICAgICAgICBpZihkaXJlY3Rpb24gPT09ICdwcmV2Jyl7XHJcbiAgICAgICAgICAgIGRlc3RpbnkgPSBwcmV2KGN1cnJlbnRTbGlkZSk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGRlc3RpbnkgPSBuZXh0KGN1cnJlbnRTbGlkZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2lzbid0IHRoZXJlIGEgbmV4dCBzbGlkZSBpbiB0aGUgc2VjdWVuY2U/XHJcbiAgICAgICAgaWYoIWRlc3Rpbnkpe1xyXG4gICAgICAgICAgICAvL3Jlc3BlY3QgbG9vcEhvcml6b250YWwgc2V0dGluXHJcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5sb29wSG9yaXpvbnRhbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgdmFyIHNpYmxpbmdzID0gZ2V0QWxsU2libGluZ3MoY3VycmVudFNsaWRlKTtcclxuICAgICAgICAgICAgaWYoZGlyZWN0aW9uID09PSAncHJldicpe1xyXG4gICAgICAgICAgICAgICAgZGVzdGlueSA9IHNpYmxpbmdzW3NpYmxpbmdzLmxlbmd0aCAtIDFdOyAvL2xhc3RcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBkZXN0aW55ID0gc2libGluZ3NbMF07IC8vZmlyc3RcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2xpZGVNb3ZpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICBsYW5kc2NhcGVTY3JvbGwoc2xpZGVzLCBkZXN0aW55KTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBNYWludGFpbnMgdGhlIGFjdGl2ZSBzbGlkZXMgaW4gdGhlIHZpZXdwb3J0XHJcbiAgICAqIChCZWNhdXNlIGhlIGBzY3JvbGxgIGFuaW1hdGlvbiBtaWdodCBnZXQgbG9zdCB3aXRoIHNvbWUgYWN0aW9ucylcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBrZWVwU2xpZGVzUG9zaXRpb24oKXtcclxuICAgICAgICB2YXIgYWN0aXZlU2xpZGVzID0gJCQoU0xJREVfQUNUSVZFX1NFTCk7XHJcbiAgICAgICAgZm9yKCB2YXIgaSA9MDsgaTxhY3RpdmVTbGlkZXMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBzaWxlbnRMYW5kc2NhcGVTY3JvbGwoYWN0aXZlU2xpZGVzW2ldLCAnaW50ZXJuYWwnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNjcm9sbHMgdGhlIHNpdGUgdG8gdGhlIGdpdmVuIGVsZW1lbnQgYW5kIHNjcm9sbHMgdG8gdGhlIHNsaWRlIGlmIGEgY2FsbGJhY2sgaXMgZ2l2ZW4uXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gc2Nyb2xsUGFnZShlbGVtZW50LCBjYWxsYmFjaywgaXNNb3ZlbWVudFVwKXtcclxuICAgICAgICBpZihlbGVtZW50ID09PSBudWxsKXsgcmV0dXJuOyB9IC8vdGhlcmUncyBubyBlbGVtZW50IHRvIHNjcm9sbCwgbGVhdmluZyB0aGUgZnVuY3Rpb25cclxuICAgICAgICAvL2xvY2FsIHZhcmlhYmxlc1xyXG4gICAgICAgIHZhciB2ID0ge1xyXG4gICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxyXG4gICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXHJcbiAgICAgICAgICAgIGlzTW92ZW1lbnRVcDogaXNNb3ZlbWVudFVwLFxyXG4gICAgICAgICAgICBkdG9wOiBlbGVtZW50Lm9mZnNldFRvcCxcclxuICAgICAgICAgICAgeU1vdmVtZW50OiBnZXRZbW92ZW1lbnQoZWxlbWVudCksXHJcbiAgICAgICAgICAgIGFuY2hvckxpbms6IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWFuY2hvcicpLFxyXG4gICAgICAgICAgICBzZWN0aW9uSW5kZXg6IGdldE5vZGVJbmRleChlbGVtZW50KSxcclxuICAgICAgICAgICAgYWN0aXZlU2xpZGU6ICQoU0xJREVfQUNUSVZFX1NFTCwgZWxlbWVudCksXHJcbiAgICAgICAgICAgIGFjdGl2ZVNlY3Rpb246ICQoU0VDVElPTl9BQ1RJVkVfU0VMKSxcclxuICAgICAgICAgICAgbGVhdmluZ1NlY3Rpb246IGdldE5vZGVJbmRleCgkKFNFQ1RJT05fQUNUSVZFX1NFTCkpICsgMSxcclxuXHJcbiAgICAgICAgICAgIC8vY2FjaGluZyB0aGUgdmFsdWUgb2YgaXNSZXNpemluZyBhdCB0aGUgbW9tbWVudCB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkXHJcbiAgICAgICAgICAgIC8vYmVjYXVzZSBpdCB3aWxsIGJlIGNoZWNrZWQgbGF0ZXIgaW5zaWRlIGEgc2V0VGltZW91dCBhbmQgdGhlIHZhbHVlIG1pZ2h0IGNoYW5nZVxyXG4gICAgICAgICAgICBsb2NhbElzUmVzaXppbmc6IGlzUmVzaXppbmdcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL3F1aXRpbmcgd2hlbiBkZXN0aW5hdGlvbiBzY3JvbGwgaXMgdGhlIHNhbWUgYXMgdGhlIGN1cnJlbnQgb25lXHJcbiAgICAgICAgaWYoKCBnZXROb2RlSW5kZXgodi5hY3RpdmVTZWN0aW9uKSA9PSB2LnNlY3Rpb25JbmRleCAmJiAhaXNSZXNpemluZykgfHwgKG9wdGlvbnMuc2Nyb2xsQmFyICYmIGdldFNjcm9sbFRvcCgpID09PSB2LmR0b3ApKXsgcmV0dXJuOyB9XHJcblxyXG4gICAgICAgIGlmKHYuYWN0aXZlU2xpZGUpe1xyXG4gICAgICAgICAgICB2YXIgc2xpZGVBbmNob3JMaW5rID0gdi5hY3RpdmVTbGlkZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYW5jaG9yJyk7XHJcbiAgICAgICAgICAgIHZhciBzbGlkZUluZGV4ID0gZ2V0Tm9kZUluZGV4KHYuYWN0aXZlU2xpZGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHNpYmxpbmdzID0gJCQoU0VDVElPTl9TRUwpO1xyXG4gICAgICAgIGZvcih2YXIgcz0wOyBzPHNpYmxpbmdzLmxlbmd0aDsgcysrKXtcclxuICAgICAgICAgICAgcmVtb3ZlQ2xhc3Moc2libGluZ3Nbc10sIEFDVElWRSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhZGRDbGFzcyhlbGVtZW50LCBBQ1RJVkUpO1xyXG5cclxuICAgICAgICAvL3ByZXZlbnRpbmcgZnJvbSBhY3RpdmF0aW5nIHRoZSBNb3VzZVdoZWVsSGFuZGxlciBldmVudFxyXG4gICAgICAgIC8vbW9yZSB0aGFuIG9uY2UgaWYgdGhlIHBhZ2UgaXMgc2Nyb2xsaW5nXHJcbiAgICAgICAgY2FuU2Nyb2xsID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHNldFN0YXRlKHNsaWRlSW5kZXgsIHNsaWRlQW5jaG9yTGluaywgdi5hbmNob3JMaW5rLCB2LnNlY3Rpb25JbmRleCk7XHJcblxyXG4gICAgICAgIC8vY2FsbGJhY2sgKG9uTGVhdmUpIGlmIHRoZSBzaXRlIGlzIG5vdCBqdXN0IHJlc2l6aW5nIGFuZCByZWFkanVzdGluZyB0aGUgc2xpZGVzXHJcbiAgICAgICAgaXNGdW5jdGlvbihvcHRpb25zLm9uTGVhdmUpICYmICF2LmxvY2FsSXNSZXNpemluZyAmJiBvcHRpb25zLm9uTGVhdmUuY2FsbCh2LmFjdGl2ZVNlY3Rpb24sIHYubGVhdmluZ1NlY3Rpb24sICh2LnNlY3Rpb25JbmRleCArIDEpLCB2LnlNb3ZlbWVudCk7XHJcblxyXG5cclxuICAgICAgICBwZXJmb3JtTW92ZW1lbnQodik7XHJcblxyXG4gICAgICAgIC8vZmxhZyB0byBhdm9pZCBjYWxsaW5nbiBgc2Nyb2xsUGFnZSgpYCB0d2ljZSBpbiBjYXNlIG9mIHVzaW5nIGFuY2hvciBsaW5rc1xyXG4gICAgICAgIGxhc3RTY3JvbGxlZERlc3RpbnkgPSB2LmFuY2hvckxpbms7XHJcblxyXG5cclxuICAgICAgICBhY3RpdmF0ZU1lbnVBbmROYXYodi5hbmNob3JMaW5rLCB2LnNlY3Rpb25JbmRleCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFBlcmZvcm1zIHRoZSBtb3ZlbWVudCAoYnkgQ1NTMyBvciBieSBqUXVlcnkpXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gcGVyZm9ybU1vdmVtZW50KHYpe1xyXG4gICAgICAgIC8vIHVzaW5nIENTUzMgdHJhbnNsYXRlIGZ1bmN0aW9uYWxpdHlcclxuICAgICAgICBpZiAob3B0aW9ucy5jc3MzICYmIG9wdGlvbnMuYXV0b1Njcm9sbGluZyAmJiAhb3B0aW9ucy5zY3JvbGxCYXIpIHtcclxuICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZTNkID0gJ3RyYW5zbGF0ZTNkKDBweCwgLScgKyB2LmR0b3AgKyAncHgsIDBweCknO1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm1Db250YWluZXIodHJhbnNsYXRlM2QsIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgLy9ldmVuIHdoZW4gdGhlIHNjcm9sbGluZ1NwZWVkIGlzIDAgdGhlcmUncyBhIGxpdHRsZSBkZWxheSwgd2hpY2ggbWlnaHQgY2F1c2UgdGhlXHJcbiAgICAgICAgICAgIC8vc2Nyb2xsaW5nU3BlZWQgdG8gY2hhbmdlIGluIGNhc2Ugb2YgdXNpbmcgc2lsZW50TW92ZVRvKCk7XHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuc2Nyb2xsaW5nU3BlZWQpe1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXJTZWN0aW9uTG9hZHModik7XHJcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zLnNjcm9sbGluZ1NwZWVkKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBhZnRlclNlY3Rpb25Mb2Fkcyh2KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gdXNpbmcgalF1ZXJ5IGFuaW1hdGVcclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICB2YXIgc2Nyb2xsU2V0dGluZ3MgPSBnZXRTY3JvbGxTZXR0aW5ncyh2LmR0b3ApO1xyXG4gICAgICAgICAgICBzY3JvbGxUbyhzY3JvbGxTZXR0aW5ncy5lbGVtZW50LCBzY3JvbGxTZXR0aW5ncy5vcHRpb25zLCBvcHRpb25zLnNjcm9sbGluZ1NwZWVkLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgYWZ0ZXJTZWN0aW9uTG9hZHModik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogR2V0cyB0aGUgc2Nyb2xsaW5nIHNldHRpbmdzIGRlcGVuZGluZyBvbiB0aGUgcGx1Z2luIGF1dG9TY3JvbGxpbmcgb3B0aW9uXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0U2Nyb2xsU2V0dGluZ3ModG9wKXtcclxuICAgICAgICB2YXIgc2Nyb2xsID0ge307XHJcblxyXG4gICAgICAgIC8vdG9wIHByb3BlcnR5IGFuaW1hdGlvblxyXG4gICAgICAgIGlmKG9wdGlvbnMuYXV0b1Njcm9sbGluZyAmJiAhb3B0aW9ucy5zY3JvbGxCYXIpe1xyXG4gICAgICAgICAgICBzY3JvbGwub3B0aW9ucyA9IC10b3A7XHJcbiAgICAgICAgICAgIHNjcm9sbC5lbGVtZW50ID0gJCgnLicrV1JBUFBFUik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3dpbmRvdyByZWFsIHNjcm9sbGluZ1xyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHNjcm9sbC5vcHRpb25zID0gdG9wO1xyXG4gICAgICAgICAgICBzY3JvbGwuZWxlbWVudCA9IHdpbmRvdztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzY3JvbGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEFjdGlvbnMgdG8gZG8gb25jZSB0aGUgc2VjdGlvbiBpcyBsb2FkZWRcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBhZnRlclNlY3Rpb25Mb2FkcyAodil7XHJcbiAgICAgICAgLy9jYWxsYmFjayAoYWZ0ZXJMb2FkKSBpZiB0aGUgc2l0ZSBpcyBub3QganVzdCByZXNpemluZyBhbmQgcmVhZGp1c3RpbmcgdGhlIHNsaWRlc1xyXG4gICAgICAgIGlzRnVuY3Rpb24ob3B0aW9ucy5hZnRlckxvYWQpICYmICF2LmxvY2FsSXNSZXNpemluZyAmJiBvcHRpb25zLmFmdGVyTG9hZC5jYWxsKHYuZWxlbWVudCwgdi5hbmNob3JMaW5rLCAodi5zZWN0aW9uSW5kZXggKyAxKSk7XHJcbiAgICAgICAgY2FuU2Nyb2xsID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgaXNGdW5jdGlvbih2LmNhbGxiYWNrKSAmJiB2LmNhbGxiYWNrLmNhbGwodGhpcyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTY3JvbGxzIHRvIHRoZSBhbmNob3IgaW4gdGhlIFVSTCB3aGVuIGxvYWRpbmcgdGhlIHNpdGVcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBzY3JvbGxUb0FuY2hvcigpe1xyXG4gICAgICAgIC8vZ2V0dGluZyB0aGUgYW5jaG9yIGxpbmsgaW4gdGhlIFVSTCBhbmQgZGVsZXRpbmcgdGhlIGAjYFxyXG4gICAgICAgIHZhciB2YWx1ZSA9ICB3aW5kb3cubG9jYXRpb24uaGFzaC5yZXBsYWNlKCcjJywgJycpLnNwbGl0KCcvJyk7XHJcbiAgICAgICAgdmFyIHNlY3Rpb24gPSB2YWx1ZVswXTtcclxuICAgICAgICB2YXIgc2xpZGUgPSB2YWx1ZVsxXTtcclxuXHJcbiAgICAgICAgaWYoc2VjdGlvbil7ICAvL2lmIHRoZXJlcyBhbnkgI1xyXG4gICAgICAgICAgICBzY3JvbGxQYWdlQW5kU2xpZGUoc2VjdGlvbiwgc2xpZGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL2RldGVjdGluZyBhbnkgY2hhbmdlIG9uIHRoZSBVUkwgdG8gc2Nyb2xsIHRvIHRoZSBnaXZlbiBhbmNob3IgbGlua1xyXG4gICAgLy8oYSB3YXkgdG8gZGV0ZWN0IGJhY2sgaGlzdG9yeSBidXR0b24gYXMgd2UgcGxheSB3aXRoIHRoZSBoYXNoZXMgb24gdGhlIFVSTClcclxuICAgIGlmIChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKSB7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCBoYXNoQ2hhbmdlSGFuZGxlciwgZmFsc2UpOyAvL0lFOSwgQ2hyb21lLCBTYWZhcmksIE9wZXJcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgd2luZG93LmF0dGFjaEV2ZW50KCdvbmhhc2hjaGFuZ2UnLCBoYXNoQ2hhbmdlSGFuZGxlcik7IC8vSUUgNi83LzhcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhcnJvd3NIYW5kbGVyKGV2ZW50KXtcclxuICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXM7XHJcblxyXG4gICAgICAgIC8vSUUgOCAodXNpbmcgYXR0YWNoIGV2ZW50Li4uKVxyXG4gICAgICAgIC8vaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDU5MDIzMS8xMDgxMzk2XHJcbiAgICAgICAgaWYoZWxlbWVudC5zZWxmID09IHdpbmRvdyApe1xyXG4gICAgICAgICAgICBlbGVtZW50ID0gZXZlbnQudGFyZ2V0IHx8IGV2ZW50LnNyY0VsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaGFzQ2xhc3MoZWxlbWVudCwgU0xJREVTX1BSRVYpKSB7XHJcbiAgICAgICAgICAgIG1vdmVTbGlkZUxlZnQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBtb3ZlU2xpZGVSaWdodCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBoYXNoQ2hhbmdlSGFuZGxlcigpe1xyXG4gICAgICAgIGlmKCFpc1Njcm9sbGluZyl7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9ICB3aW5kb3cubG9jYXRpb24uaGFzaC5yZXBsYWNlKCcjJywgJycpLnNwbGl0KCcvJyk7XHJcbiAgICAgICAgICAgIHZhciBzZWN0aW9uID0gdmFsdWVbMF07XHJcbiAgICAgICAgICAgIHZhciBzbGlkZSA9IHZhbHVlWzFdO1xyXG5cclxuICAgICAgICAgICAgaWYoc2VjdGlvbi5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgLy93aGVuIG1vdmluZyB0byBhIHNsaWRlIGluIHRoZSBmaXJzdCBzZWN0aW9uIGZvciB0aGUgZmlyc3QgdGltZSAoZmlyc3QgdGltZSB0byBhZGQgYW4gYW5jaG9yIHRvIHRoZSBVUkwpXHJcbiAgICAgICAgICAgICAgICB2YXIgaXNGaXJzdFNsaWRlTW92ZSA9ICAodHlwZW9mIGxhc3RTY3JvbGxlZERlc3RpbnkgPT09ICd1bmRlZmluZWQnKTtcclxuICAgICAgICAgICAgICAgIHZhciBpc0ZpcnN0U2Nyb2xsTW92ZSA9ICh0eXBlb2YgbGFzdFNjcm9sbGVkRGVzdGlueSA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHNsaWRlID09PSAndW5kZWZpbmVkJyAmJiAhc2xpZGVNb3ZpbmcpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8qaW4gb3JkZXIgdG8gY2FsbCBzY3JvbGxwYWdlKCkgb25seSBvbmNlIGZvciBlYWNoIGRlc3RpbmF0aW9uIGF0IGEgdGltZVxyXG4gICAgICAgICAgICAgICAgSXQgaXMgY2FsbGVkIHR3aWNlIGZvciBlYWNoIHNjcm9sbCBvdGhlcndpc2UsIGFzIGluIGNhc2Ugb2YgdXNpbmcgYW5jaG9ybGlua3MgYGhhc2hDaGFuZ2VgXHJcbiAgICAgICAgICAgICAgICBldmVudCBpcyBmaXJlZCBvbiBldmVyeSBzY3JvbGwgdG9vLiovXHJcbiAgICAgICAgICAgICAgICBpZiAoKHNlY3Rpb24gJiYgc2VjdGlvbiAhPT0gbGFzdFNjcm9sbGVkRGVzdGlueSkgJiYgIWlzRmlyc3RTbGlkZU1vdmUgfHwgaXNGaXJzdFNjcm9sbE1vdmUgfHwgKCFzbGlkZU1vdmluZyAmJiBsYXN0U2Nyb2xsZWRTbGlkZSAhPSBzbGlkZSApKSAge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFBhZ2VBbmRTbGlkZShzZWN0aW9uLCBzbGlkZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2xpZGluZyB3aXRoIGFycm93IGtleXMsIGJvdGgsIHZlcnRpY2FsIGFuZCBob3Jpem9udGFsXHJcbiAgICAgKi9cclxuICAgIHZhciBrZXlkb3duSWQ7XHJcbiAgICBkb2N1bWVudC5vbmtleWRvd24gPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KGtleWRvd25JZCk7XHJcblxyXG4gICAgICAgIHZhciBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcclxuICAgICAgICB2YXIgdGFnTmFtZSA9IGFjdGl2ZUVsZW1lbnQudGFnTmFtZTtcclxuXHJcbiAgICAgICAgaWYodGFnTmFtZSAhPT0gJ1NFTEVDVCcgJiYgdGFnTmFtZSAhPT0gJ0lOUFVUJyAmJiBvcHRpb25zLmtleWJvYXJkU2Nyb2xsaW5nICYmIG9wdGlvbnMuYXV0b1Njcm9sbGluZyl7XHJcblxyXG4gICAgICAgICAgICBlID0gd2luZG93LmV2ZW50IHx8IGUgfHwgZS5vcmlnaW5hbEV2ZW50O1xyXG4gICAgICAgICAgICB2YXIgY2hhckNvZGUgPSBlLmNoYXJDb2RlIHx8IGUua2V5Q29kZTtcclxuXHJcbiAgICAgICAgICAgIC8vcHJldmVudGluZyB0aGUgc2Nyb2xsIHdpdGggYXJyb3cga2V5cyAmIHNwYWNlYmFyICYgUGFnZSBVcCAmIERvd24ga2V5c1xyXG4gICAgICAgICAgICB2YXIga2V5Q29udHJvbHMgPSBbNDAsIDM4LCAzMiwgMzMsIDM0XTtcclxuICAgICAgICAgICAgZm9yKHZhciBpPTA7IGk8a2V5Q29udHJvbHMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgaWYoa2V5Q29udHJvbHNbaV0gPT0gY2hhckNvZGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0KGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgc2hpZnRQcmVzc2VkID0gZS5zaGlmdEtleTtcclxuICAgICAgICAgICAga2V5ZG93bklkID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgb25rZXlkb3duKHNoaWZ0UHJlc3NlZCwgY2hhckNvZGUpO1xyXG4gICAgICAgICAgICB9LDE1MCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBvbmtleWRvd24oc2hpZnRQcmVzc2VkLCBjaGFyQ29kZSl7XHJcbiAgICAgICAgc3dpdGNoIChjaGFyQ29kZSkge1xyXG4gICAgICAgICAgICAvL3VwXHJcbiAgICAgICAgICAgIGNhc2UgMzg6XHJcbiAgICAgICAgICAgIGNhc2UgMzM6XHJcbiAgICAgICAgICAgICAgICBtb3ZlU2VjdGlvblVwKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIC8vZG93blxyXG4gICAgICAgICAgICBjYXNlIDMyOiAvL3NwYWNlYmFyXHJcbiAgICAgICAgICAgICAgICBpZihzaGlmdFByZXNzZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdmVTZWN0aW9uVXAoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSA0MDpcclxuICAgICAgICAgICAgY2FzZSAzNDpcclxuICAgICAgICAgICAgICAgIG1vdmVTZWN0aW9uRG93bigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAvL0hvbWVcclxuICAgICAgICAgICAgY2FzZSAzNjpcclxuICAgICAgICAgICAgICAgIG1vdmVUbygxKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgLy9FbmRcclxuICAgICAgICAgICAgY2FzZSAzNTpcclxuICAgICAgICAgICAgICAgIG1vdmVUbyggJCQoU0VDVElPTl9TRUwpLmxlbmd0aCApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAvL2xlZnRcclxuICAgICAgICAgICAgY2FzZSAzNzpcclxuICAgICAgICAgICAgICAgIG1vdmVTbGlkZUxlZnQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgLy9yaWdodFxyXG4gICAgICAgICAgICBjYXNlIDM5OlxyXG4gICAgICAgICAgICAgICAgbW92ZVNsaWRlUmlnaHQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gZXhpdCB0aGlzIGhhbmRsZXIgZm9yIG90aGVyIGtleXNcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNjcm9sbHMgdGhlIHNsaWRlciB0byB0aGUgZ2l2ZW4gc2xpZGUgZGVzdGluYXRpb24gZm9yIHRoZSBnaXZlbiBzZWN0aW9uXHJcbiAgICAqL1xyXG4gICAgdmFyIHNsaWRlc05hdiA9ICQoU0xJREVTX05BVl9MSU5LX1NFTCk7XHJcbiAgICBpZihzbGlkZXNOYXYgIT09IG51bGwpe1xyXG4gICAgICAgIGFkZExpc3RlbmVyTXVsdGkoJChTTElERVNfTkFWX0xJTktfU0VMKSwgJ2NsaWNrIG9uY2xpY2sgdG91Y2hzdGFydCcsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICBwcmV2ZW50RGVmYXVsdChlKTtcclxuXHJcbiAgICAgICAgICAgIC8vZXF1aXZhbGVudCB0bzogICB2YXIgc2xpZGVzID0gJCh0aGlzKS5jbG9zZXN0KFNFQ1RJT05fU0VMKS5maW5kKFNMSURFU19XUkFQUEVSX1NFTCk7XHJcbiAgICAgICAgICAgIHZhciBzZWN0aW9uID0gY2xvc2VzdCh0aGlzLCBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBoYXNDbGFzcyhlMSwgU0VDVElPTik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgc2xpZGVzID0gJChTTElERVNfV1JBUFBFUl9TRUwsIHNlY3Rpb24pO1xyXG5cclxuICAgICAgICAgICAgdmFyIGxpID0gY2xvc2VzdCh0aGlzLCBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbC50YWdOYW1lID09PSAnbGknO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIGxpSW5kZXggPSBnZXROb2RlSW5kZXgobGkpO1xyXG4gICAgICAgICAgICB2YXIgZGVzdGlueSA9ICQkKFNMSURFX1NFTCwgc2xpZGVzKVtsaUluZGV4XTtcclxuXHJcbiAgICAgICAgICAgIGxhbmRzY2FwZVNjcm9sbChzbGlkZXMsIGRlc3RpbnkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2Nyb2xsaW5nIGhvcml6b250YWxseSB3aGVuIGNsaWNraW5nIG9uIHRoZSBzbGlkZXIgY29udHJvbHMuXHJcbiAgICAgKi9cclxuICAgIC8vICQoU0VDVElPTl9TRUwpLm9uKCdjbGljayB0b3VjaHN0YXJ0JywgU0xJREVTX0FSUk9XX1NFTCwgZnVuY3Rpb24oKSB7XHJcbiAgICAvLyAgaWYgKCQodGhpcykuaGFzQ2xhc3MoU0xJREVTX1BSRVYpKSB7XHJcbiAgICAvLyAgICAgIG1vdmVTbGlkZUxlZnQoKTtcclxuICAgIC8vICB9IGVsc2Uge1xyXG4gICAgLy8gICAgICBtb3ZlU2xpZGVSaWdodCgpO1xyXG4gICAgLy8gIH1cclxuICAgIC8vIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTY3JvbGxzIGhvcml6b250YWwgc2xpZGVycy5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBsYW5kc2NhcGVTY3JvbGwoc2xpZGVzLCBkZXN0aW55KXtcclxuICAgICAgICB2YXIgc2xpZGVJbmRleCA9IGdldE5vZGVJbmRleChkZXN0aW55KTtcclxuXHJcbiAgICAgICAgLy9lcXVpdmFsZW50IHRvIHNsaWRlcy5jbG9zZXN0KFNFQ1RJT05fU0VMKVxyXG4gICAgICAgIHZhciBzZWN0aW9uID0gY2xvc2VzdChzbGlkZXMsIGZ1bmN0aW9uKGUxKXtcclxuICAgICAgICAgICAgcmV0dXJuIGhhc0NsYXNzKGUxLCBTRUNUSU9OKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIHNlY3Rpb25JbmRleCA9IGdldE5vZGVJbmRleChzZWN0aW9uKTtcclxuICAgICAgICB2YXIgYW5jaG9yTGluayA9IHNlY3Rpb24uZ2V0QXR0cmlidXRlKCdkYXRhLWFuY2hvcicpO1xyXG4gICAgICAgIHZhciBzbGlkZXNOYXYgPSAkKFNMSURFU19OQVZfU0VMLCBzZWN0aW9uKTtcclxuICAgICAgICB2YXIgc2xpZGVBbmNob3IgPSBnZXRTbGlkZUFuY2hvcihkZXN0aW55KTtcclxuXHJcbiAgICAgICAgLy9jYWNoaW5nIHRoZSB2YWx1ZSBvZiBpc1Jlc2l6aW5nIGF0IHRoZSBtb21tZW50IHRoZSBmdW5jdGlvbiBpcyBjYWxsZWRcclxuICAgICAgICAvL2JlY2F1c2UgaXQgd2lsbCBiZSBjaGVja2VkIGxhdGVyIGluc2lkZSBhIHNldFRpbWVvdXQgYW5kIHRoZSB2YWx1ZSBtaWdodCBjaGFuZ2VcclxuICAgICAgICB2YXIgbG9jYWxJc1Jlc2l6aW5nID0gaXNSZXNpemluZztcclxuXHJcbiAgICAgICAgaWYob3B0aW9ucy5vblNsaWRlTGVhdmUpe1xyXG4gICAgICAgICAgICB2YXIgcHJldlNsaWRlID0gJChTTElERV9BQ1RJVkVfU0VMLCBzZWN0aW9uKTtcclxuICAgICAgICAgICAgdmFyIHByZXZTbGlkZUluZGV4ID0gZ2V0Tm9kZUluZGV4KHByZXZTbGlkZSk7XHJcbiAgICAgICAgICAgIHZhciB4TW92ZW1lbnQgPSBnZXRYbW92ZW1lbnQocHJldlNsaWRlSW5kZXgsIHNsaWRlSW5kZXgpO1xyXG5cclxuICAgICAgICAgICAgLy9pZiB0aGUgc2l0ZSBpcyBub3QganVzdCByZXNpemluZyBhbmQgcmVhZGp1c3RpbmcgdGhlIHNsaWRlc1xyXG4gICAgICAgICAgICBpZighbG9jYWxJc1Jlc2l6aW5nICYmIHhNb3ZlbWVudCE9PSdub25lJyl7XHJcbiAgICAgICAgICAgICAgICBpc0Z1bmN0aW9uKCBvcHRpb25zLm9uU2xpZGVMZWF2ZSApICYmIG9wdGlvbnMub25TbGlkZUxlYXZlLmNhbGwoIHByZXZTbGlkZSwgYW5jaG9yTGluaywgKHNlY3Rpb25JbmRleCArIDEpLCBwcmV2U2xpZGVJbmRleCwgeE1vdmVtZW50LCBzbGlkZUluZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHNpYmxpbmdzID0gJCQoU0xJREVfU0VMLCBzZWN0aW9uKTtcclxuXHJcbiAgICAgICAgZm9yKHZhciBzPTA7IHM8c2libGluZ3MubGVuZ3RoOyBzKyspe1xyXG4gICAgICAgICAgICByZW1vdmVDbGFzcyhzaWJsaW5nc1tzXSwgQUNUSVZFKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGFkZENsYXNzKGRlc3RpbnksIEFDVElWRSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgaWYoIW9wdGlvbnMubG9vcEhvcml6b250YWwgJiYgb3B0aW9ucy5jb250cm9sQXJyb3dzKXtcclxuICAgICAgICAgICAgLy9oaWRkaW5nIGl0IGZvciB0aGUgZmlzdCBzbGlkZSwgc2hvd2luZyBmb3IgdGhlIHJlc3RcclxuICAgICAgICAgICAgdG9nZ2xlKCQoU0xJREVTX0FSUk9XX1BSRVZfU0VMLCBzZWN0aW9uKSwgc2xpZGVJbmRleCE9PTApO1xyXG5cclxuICAgICAgICAgICAgLy9oaWRkaW5nIGl0IGZvciB0aGUgbGFzdCBzbGlkZSwgc2hvd2luZyBmb3IgdGhlIHJlc3RcclxuICAgICAgICAgICAgdG9nZ2xlKCQoU0xJREVTX0FSUk9XX05FWFRfU0VMLCBzZWN0aW9uKSwgIWRlc3RpbnkuaXMoJzpsYXN0LWNoaWxkJykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9vbmx5IGNoYW5naW5nIHRoZSBVUkwgaWYgdGhlIHNsaWRlcyBhcmUgaW4gdGhlIGN1cnJlbnQgc2VjdGlvbiAobm90IGZvciByZXNpemUgcmUtYWRqdXN0aW5nKVxyXG4gICAgICAgIGlmKGhhc0NsYXNzKHNlY3Rpb24sIEFDVElWRSkpe1xyXG4gICAgICAgICAgICBzZXRTdGF0ZShzbGlkZUluZGV4LCBzbGlkZUFuY2hvciwgYW5jaG9yTGluaywgc2VjdGlvbkluZGV4KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBhZnRlclNsaWRlTG9hZHMgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAvL2lmIHRoZSBzaXRlIGlzIG5vdCBqdXN0IHJlc2l6aW5nIGFuZCByZWFkanVzdGluZyB0aGUgc2xpZGVzXHJcbiAgICAgICAgICAgIGlmKCFsb2NhbElzUmVzaXppbmcpe1xyXG4gICAgICAgICAgICAgICAgaXNGdW5jdGlvbiggb3B0aW9ucy5hZnRlclNsaWRlTG9hZCApICYmIG9wdGlvbnMuYWZ0ZXJTbGlkZUxvYWQuY2FsbCggZGVzdGlueSwgYW5jaG9yTGluaywgKHNlY3Rpb25JbmRleCArIDEpLCBzbGlkZUFuY2hvciwgc2xpZGVJbmRleCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9sZXR0aW5nIHRoZW0gc2xpZGUgYWdhaW5cclxuICAgICAgICAgICAgc2xpZGVNb3ZpbmcgPSBmYWxzZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZihvcHRpb25zLmNzczMpe1xyXG4gICAgICAgICAgICB2YXIgdHJhbnNsYXRlM2QgPSAndHJhbnNsYXRlM2QoLScgKyBNYXRoLnJvdW5kKGRlc3Rpbnkub2Zmc2V0TGVmdCkgKyAncHgsIDBweCwgMHB4KSc7XHJcbiAgICAgICAgICAgIHZhciBzbGlkZXNDb250YWluZXIgPSAkKFNMSURFU19DT05UQUlORVJfU0VMLCBzbGlkZXMpO1xyXG5cclxuICAgICAgICAgICAgYWRkQW5pbWF0aW9uKHNsaWRlc0NvbnRhaW5lciwgb3B0aW9ucy5zY3JvbGxpbmdTcGVlZD4wKTtcclxuICAgICAgICAgICAgc2V0VHJhbnNmb3JtcyhzbGlkZXNDb250YWluZXIsIHRyYW5zbGF0ZTNkKTtcclxuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGFmdGVyU2xpZGVMb2FkcygpO1xyXG4gICAgICAgICAgICB9LCBvcHRpb25zLnNjcm9sbGluZ1NwZWVkLCBvcHRpb25zLmVhc2luZyk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHNjcm9sbFRvKHNsaWRlcywgTWF0aC5yb3VuZChkZXN0aW55Lm9mZnNldExlZnQpLCBvcHRpb25zLnNjcm9sbGluZ1NwZWVkLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgYWZ0ZXJTbGlkZUxvYWRzKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYob3B0aW9ucy5zbGlkZXNOYXZpZ2F0aW9uKXtcclxuICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoJChBQ1RJVkVfU0VMLCBzbGlkZXNOYXYpLCBBQ1RJVkUpO1xyXG4gICAgICAgICAgICB2YXIgYWN0aXZlTmF2TGkgPSAkJCgnbGknLCBzbGlkZXNOYXYpW3NsaWRlSW5kZXhdO1xyXG4gICAgICAgICAgICB2YXIgYWN0aXZlTGluayA9ICQoJ2EnLCBhY3RpdmVOYXZMaSk7XHJcbiAgICAgICAgICAgIGFkZENsYXNzKGFjdGl2ZUxpbmssIEFDVElWRSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vd2hlbiByZXNpemluZyB0aGUgc2l0ZSwgd2UgYWRqdXN0IHRoZSBoZWlnaHRzIG9mIHRoZSBzZWN0aW9uc1xyXG4gICAgdmFyIHByZXZpb3VzSGVpZ2h0ID0gd2luZG93c0hlaWdodDtcclxuICAgIHZhciByZXNpemVJZDtcclxuICAgIGZ1bmN0aW9uIHJlc2l6ZUhhbmRsZXIoKXtcclxuICAgICAgICAvLyByZWJ1aWxkIGltbWVkaWF0ZWx5IG9uIHRvdWNoIGRldmljZXNcclxuICAgICAgICBpZiAoaXNUb3VjaERldmljZSkge1xyXG5cclxuICAgICAgICAgICAgLy9pZiB0aGUga2V5Ym9hcmQgaXMgdmlzaWJsZVxyXG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSAhPT0gJ3RleHQnKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudEhlaWdodCA9IGdldFdpbmRvd0hlaWdodCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vbWFraW5nIHN1cmUgdGhlIGNoYW5nZSBpbiB0aGUgdmlld3BvcnQgc2l6ZSBpcyBlbm91Z2ggdG8gZm9yY2UgYSByZWJ1aWxkLiAoMjAgJSBvZiB0aGUgd2luZG93IHRvIGF2b2lkIHByb2JsZW1zIHdoZW4gaGlkZGluZyBzY3JvbGwgYmFycylcclxuICAgICAgICAgICAgICAgIGlmKCBNYXRoLmFicyhjdXJyZW50SGVpZ2h0IC0gcHJldmlvdXNIZWlnaHQpID4gKDIwICogTWF0aC5tYXgocHJldmlvdXNIZWlnaHQsIGN1cnJlbnRIZWlnaHQpIC8gMTAwKSApe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlQnVpbGQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNIZWlnaHQgPSBjdXJyZW50SGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIC8vaW4gb3JkZXIgdG8gY2FsbCB0aGUgZnVuY3Rpb25zIG9ubHkgd2hlbiB0aGUgcmVzaXplIGlzIGZpbmlzaGVkXHJcbiAgICAgICAgICAgIC8vaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy80Mjk4NjEyL2pxdWVyeS1ob3ctdG8tY2FsbC1yZXNpemUtZXZlbnQtb25seS1vbmNlLWl0cy1maW5pc2hlZC1yZXNpemluZ1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQocmVzaXplSWQpO1xyXG5cclxuICAgICAgICAgICAgcmVzaXplSWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICByZUJ1aWxkKHRydWUpO1xyXG4gICAgICAgICAgICB9LCAzNTApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQWRkcyB0cmFuc2l0aW9uIGFuaW1hdGlvbnMgZm9yIHRoZSBnaXZlbiBlbGVtZW50XHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gYWRkQW5pbWF0aW9uKGVsZW1lbnQpe1xyXG4gICAgICAgIHZhciB0cmFuc2l0aW9uID0gJ2FsbCAnICsgb3B0aW9ucy5zY3JvbGxpbmdTcGVlZCArICdtcyAnICsgb3B0aW9ucy5lYXNpbmdjc3MzO1xyXG5cclxuICAgICAgICByZW1vdmVDbGFzcyhlbGVtZW50LCBOT19UUkFOU0lUSU9OKTtcclxuXHJcbiAgICAgICAgY3NzKGVsZW1lbnQse1xyXG4gICAgICAgICAgICAnLXdlYmtpdC10cmFuc2l0aW9uJzogdHJhbnNpdGlvbixcclxuICAgICAgICAgICAgJ3RyYW5zaXRpb24nOiB0cmFuc2l0aW9uXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBSZW1vdmUgdHJhbnNpdGlvbiBhbmltYXRpb25zIGZvciB0aGUgZ2l2ZW4gZWxlbWVudFxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUFuaW1hdGlvbihlbGVtZW50KXtcclxuICAgICAgICByZXR1cm4gYWRkQ2xhc3MoZWxlbWVudCwgTk9fVFJBTlNJVElPTik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBY3RpdmF0aW5nIHRoZSB3ZWJzaXRlIG5hdmlnYXRpb24gZG90cyBhY2NvcmRpbmcgdG8gdGhlIGdpdmVuIHNsaWRlIG5hbWUuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlTmF2RG90cyhuYW1lLCBzZWN0aW9uSW5kZXgpe1xyXG4gICAgICAgIGlmKG9wdGlvbnMubmF2aWdhdGlvbil7XHJcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKCAkKEFDVElWRV9TRUwsIG5hdiksIEFDVElWRSk7XHJcblxyXG4gICAgICAgICAgICBpZihuYW1lKXtcclxuICAgICAgICAgICAgICAgIGFkZENsYXNzKCAkKCdhW2hyZWY9XCIjJyArIG5hbWUgKyAnXCJdJywgbmF2KSAsIEFDVElWRSk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRMaSA9ICQkKCdsaScsIG5hdilbc2VjdGlvbkluZGV4XTtcclxuICAgICAgICAgICAgICAgIGFkZENsYXNzKCAkKCdhJywgY3VycmVudExpKSwgQUNUSVZFKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFjdGl2YXRpbmcgdGhlIHdlYnNpdGUgbWFpbiBtZW51IGVsZW1lbnRzIGFjY29yZGluZyB0byB0aGUgZ2l2ZW4gc2xpZGUgbmFtZS5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGVNZW51RWxlbWVudChuYW1lKXtcclxuICAgICAgICBpZihvcHRpb25zLm1lbnUpe1xyXG4gICAgICAgICAgICB2YXIgbWVudSA9ICQob3B0aW9ucy5tZW51KTtcclxuICAgICAgICAgICAgaWYobWVudSl7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcygkKEFDVElWRV9TRUwsIG1lbnUpLCBBQ1RJVkUpO1xyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoJCgnW2RhdGEtbWVudWFuY2hvcj1cIicrbmFtZSsnXCJdJywgbWVudSksIEFDVElWRSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWN0aXZhdGVNZW51QW5kTmF2KGFuY2hvciwgaW5kZXgpe1xyXG4gICAgICAgIGFjdGl2YXRlTWVudUVsZW1lbnQoYW5jaG9yKTtcclxuICAgICAgICBhY3RpdmF0ZU5hdkRvdHMoYW5jaG9yLCBpbmRleCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFJldHVucyBgdXBgIG9yIGBkb3duYCBkZXBlbmRpbmcgb24gdGhlIHNjcm9sbGluZyBtb3ZlbWVudCB0byByZWFjaCBpdHMgZGVzdGluYXRpb25cclxuICAgICogZnJvbSB0aGUgY3VycmVudCBzZWN0aW9uLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldFltb3ZlbWVudChkZXN0aW55KXtcclxuICAgICAgICB2YXIgZnJvbUluZGV4ID0gZ2V0Tm9kZUluZGV4KCQoU0VDVElPTl9BQ1RJVkVfU0VMKSk7XHJcbiAgICAgICAgdmFyIHRvSW5kZXggPSBnZXROb2RlSW5kZXgoZGVzdGlueSk7XHJcbiAgICAgICAgaWYoIGZyb21JbmRleCA9PSB0b0luZGV4KXtcclxuICAgICAgICAgICAgcmV0dXJuICdub25lJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoZnJvbUluZGV4ID4gdG9JbmRleCl7XHJcbiAgICAgICAgICAgIHJldHVybiAndXAnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJ2Rvd24nO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBSZXR1bnMgYHJpZ2h0YCBvciBgbGVmdGAgZGVwZW5kaW5nIG9uIHRoZSBzY3JvbGxpbmcgbW92ZW1lbnQgdG8gcmVhY2ggaXRzIGRlc3RpbmF0aW9uXHJcbiAgICAqIGZyb20gdGhlIGN1cnJlbnQgc2xpZGUuXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0WG1vdmVtZW50KGZyb21JbmRleCwgdG9JbmRleCl7XHJcbiAgICAgICAgaWYoIGZyb21JbmRleCA9PSB0b0luZGV4KXtcclxuICAgICAgICAgICAgcmV0dXJuICdub25lJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoZnJvbUluZGV4ID4gdG9JbmRleCl7XHJcbiAgICAgICAgICAgIHJldHVybiAnbGVmdCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAncmlnaHQnO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBBZGRzIGEgY3NzMyB0cmFuc2Zvcm0gcHJvcGVydHkgdG8gdGhlIGNvbnRhaW5lciBjbGFzcyB3aXRoIG9yIHdpdGhvdXQgYW5pbWF0aW9uIGRlcGVuZGluZyBvbiB0aGUgYW5pbWF0ZWQgcGFyYW0uXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gdHJhbnNmb3JtQ29udGFpbmVyKHRyYW5zbGF0ZTNkLCBhbmltYXRlZCl7XHJcbiAgICAgICAgaWYoYW5pbWF0ZWQpe1xyXG4gICAgICAgICAgICBhZGRBbmltYXRpb24oY29udGFpbmVyKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmVtb3ZlQW5pbWF0aW9uKGNvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZXRUcmFuc2Zvcm1zKGNvbnRhaW5lciwgdHJhbnNsYXRlM2QpO1xyXG5cclxuICAgICAgICAvL3N5bmNyb25vdXNseSByZW1vdmluZyB0aGUgY2xhc3MgYWZ0ZXIgdGhlIGFuaW1hdGlvbiBoYXMgYmVlbiBhcHBsaWVkLlxyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoY29udGFpbmVyLCBOT19UUkFOU0lUSU9OKTtcclxuICAgICAgICB9LDEwKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogR2V0cyBhIHNlY3Rpb24gYnkgaXRzIGFuY2hvciAvIGluZGV4XHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0U2VjdGlvbkJ5QW5jaG9yKHNlY3Rpb25BbmNob3Ipe1xyXG4gICAgICAgIC8vc2VjdGlvblxyXG4gICAgICAgIHZhciBzZWN0aW9uID0gJChTRUNUSU9OX1NFTCArICdbZGF0YS1hbmNob3I9XCInK3NlY3Rpb25BbmNob3IrJ1wiXScpO1xyXG4gICAgICAgIGlmKCFzZWN0aW9uKXtcclxuICAgICAgICAgICAgc2VjdGlvbiA9ICQkKFNFQ1RJT05fU0VMKVsoc2VjdGlvbkFuY2hvciAtMSldO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHNlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEdldHMgYSBzbGlkZSBpbnNpZGUgYSBnaXZlbiBzZWN0aW9uIGJ5IGl0cyBhbmNob3IgLyBpbmRleFxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldFNsaWRlQnlBbmNob3Ioc2xpZGVBbmNob3IsIHNlY3Rpb24pe1xyXG4gICAgICAgIHZhciBzbGlkZXMgPSAkKFNMSURFU19XUkFQUEVSX1NFTCwgc2VjdGlvbik7XHJcbiAgICAgICAgdmFyIHNsaWRlID0gICQoU0xJREVfU0VMICsgJ1tkYXRhLWFuY2hvcj1cIicrc2xpZGVBbmNob3IrJ1wiXScsIHNsaWRlcyk7XHJcblxyXG4gICAgICAgIGlmKHNsaWRlcyAmJiAhc2xpZGUpe1xyXG4gICAgICAgICAgICBzbGlkZSA9ICQkKFNMSURFX1NFTCwgc2xpZGVzKVtzbGlkZUFuY2hvcl07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc2xpZGU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNjcm9sbHMgdG8gdGhlIGdpdmVuIHNlY3Rpb24gYW5kIHNsaWRlXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gc2Nyb2xsUGFnZUFuZFNsaWRlKGRlc3RpbnksIHNsaWRlKXtcclxuICAgICAgICB2YXIgc2VjdGlvbiA9IGdldFNlY3Rpb25CeUFuY2hvcihkZWNvZGVVUkkoZGVzdGlueSkpO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHNsaWRlID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBzbGlkZSA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3dlIG5lZWQgdG8gc2Nyb2xsIHRvIHRoZSBzZWN0aW9uIGFuZCB0aGVuIHRvIHRoZSBzbGlkZVxyXG4gICAgICAgIGlmIChkZXN0aW55ICE9PSBsYXN0U2Nyb2xsZWREZXN0aW55ICYmICFoYXNDbGFzcyhzZWN0aW9uLCBBQ1RJVkUpKXtcclxuICAgICAgICAgICAgc2Nyb2xsUGFnZShzZWN0aW9uLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsU2xpZGVyKHNlY3Rpb24sIHNsaWRlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vaWYgd2Ugd2VyZSBhbHJlYWR5IGluIHRoZSBzZWN0aW9uXHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgc2Nyb2xsU2xpZGVyKHNlY3Rpb24sIHNsaWRlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNjcm9sbHMgdGhlIHNsaWRlciB0byB0aGUgZ2l2ZW4gc2xpZGUgZGVzdGluYXRpb24gZm9yIHRoZSBnaXZlbiBzZWN0aW9uXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gc2Nyb2xsU2xpZGVyKHNlY3Rpb24sIHNsaWRlQW5jaG9yKXtcclxuICAgICAgICBpZih0eXBlb2Ygc2xpZGVBbmNob3IgIT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgdmFyIHNsaWRlcyA9ICQoU0xJREVTX1dSQVBQRVJfU0VMLCBzZWN0aW9uKTtcclxuICAgICAgICAgICAgdmFyIGRlc3RpbnkgPSAgZ2V0U2xpZGVCeUFuY2hvcihzbGlkZUFuY2hvciwgc2VjdGlvbik7XHJcblxyXG4gICAgICAgICAgICBpZihkZXN0aW55KXtcclxuICAgICAgICAgICAgICAgIGxhbmRzY2FwZVNjcm9sbChzbGlkZXMsIGRlc3RpbnkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDcmVhdGVzIGEgbGFuZHNjYXBlIG5hdmlnYXRpb24gYmFyIHdpdGggZG90cyBmb3IgaG9yaXpvbnRhbCBzbGlkZXJzLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGFkZFNsaWRlc05hdmlnYXRpb24oc2VjdGlvbiwgbnVtU2xpZGVzKXtcclxuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZGl2LmNsYXNzTmFtZSA9IFNMSURFU19OQVY7XHJcblxyXG4gICAgICAgIHZhciBkaXZVbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XHJcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKGRpdlVsKTtcclxuXHJcbiAgICAgICAgc2VjdGlvbi5hcHBlbmRDaGlsZChkaXYpO1xyXG5cclxuICAgICAgICB2YXIgbmF2ID0gJChTTElERVNfTkFWX1NFTCwgc2VjdGlvbik7XHJcbiAgICAgICAgdmFyIHVsID0gICQoJ3VsJywgbmF2KTtcclxuXHJcbiAgICAgICAgLy90b3Agb3IgYm90dG9tXHJcbiAgICAgICAgYWRkQ2xhc3MobmF2LCBvcHRpb25zLnNsaWRlc05hdlBvc2l0aW9uKTtcclxuXHJcbiAgICAgICAgdmFyIGxpc3QgPSAnJztcclxuICAgICAgICBmb3IodmFyIGk9MDsgaTwgbnVtU2xpZGVzOyBpKyspe1xyXG4gICAgICAgICAgICBsaXN0ID0gbGlzdCArICc8bGk+PGEgaHJlZj1cIiNcIj48c3Bhbj48L3NwYW4+PC9hPjwvbGk+JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHVsLmlubmVySFRNTCA9IHVsLmlubmVySFRNTCArIGxpc3Q7XHJcblxyXG4gICAgICAgIC8vY2VudGVyaW5nIGl0XHJcbiAgICAgICAgc2V0Q3NzKG5hdiwgJ21hcmdpbi1sZWZ0JywgJy0nICsgKG5hdi5vZmZzZXRXaWR0aC8yKSArICdweCcpO1xyXG5cclxuICAgICAgICB2YXIgZmlyc3RMaSA9ICQkKCdsaScsIG5hdilbMF07XHJcbiAgICAgICAgYWRkQ2xhc3MoICQoJ2EnLCBmaXJzdExpKSwgQUNUSVZFKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNldHMgdGhlIHN0YXRlIG9mIHRoZSB3ZWJzaXRlIGRlcGVuZGluZyBvbiB0aGUgYWN0aXZlIHNlY3Rpb24vc2xpZGUuXHJcbiAgICAqIEl0IGNoYW5nZXMgdGhlIFVSTCBoYXNoIHdoZW4gbmVlZGVkIGFuZCB1cGRhdGVzIHRoZSBib2R5IGNsYXNzLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHNldFN0YXRlKHNsaWRlSW5kZXgsIHNsaWRlQW5jaG9yLCBhbmNob3JMaW5rLCBzZWN0aW9uSW5kZXgpe1xyXG4gICAgICAgIHZhciBzZWN0aW9uSGFzaCA9ICcnO1xyXG5cclxuICAgICAgICBpZihvcHRpb25zLmFuY2hvcnMubGVuZ3RoKXtcclxuXHJcbiAgICAgICAgICAgIC8vaXNuJ3QgaXQgdGhlIGZpcnN0IHNsaWRlP1xyXG4gICAgICAgICAgICBpZihzbGlkZUluZGV4KXtcclxuICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBhbmNob3JMaW5rICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbkhhc2ggPSBhbmNob3JMaW5rO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vc2xpZGUgd2l0aG91dCBhbmNob3IgbGluaz8gV2UgdGFrZSB0aGUgaW5kZXggaW5zdGVhZC5cclxuICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBzbGlkZUFuY2hvciA9PT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlQW5jaG9yID0gc2xpZGVJbmRleDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBsYXN0U2Nyb2xsZWRTbGlkZSA9IHNsaWRlQW5jaG9yO1xyXG4gICAgICAgICAgICAgICAgc2V0VXJsSGFzaChzZWN0aW9uSGFzaCArICcvJyArIHNsaWRlQW5jaG9yKTtcclxuXHJcbiAgICAgICAgICAgIC8vZmlyc3Qgc2xpZGUgd29uJ3QgaGF2ZSBzbGlkZSBhbmNob3IsIGp1c3QgdGhlIHNlY3Rpb24gb25lXHJcbiAgICAgICAgICAgIH1lbHNlIGlmKHR5cGVvZiBzbGlkZUluZGV4ICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgICAgICBsYXN0U2Nyb2xsZWRTbGlkZSA9IHNsaWRlQW5jaG9yO1xyXG4gICAgICAgICAgICAgICAgc2V0VXJsSGFzaChhbmNob3JMaW5rKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9zZWN0aW9uIHdpdGhvdXQgc2xpZGVzXHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICBzZXRVcmxIYXNoKGFuY2hvckxpbmspO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRCb2R5Q2xhc3MoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU2V0cyB0aGUgVVJMIGhhc2guXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gc2V0VXJsSGFzaCh1cmwpe1xyXG4gICAgICAgIGlmKG9wdGlvbnMucmVjb3JkSGlzdG9yeSl7XHJcbiAgICAgICAgICAgIGxvY2F0aW9uLmhhc2ggPSB1cmw7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIC8vTW9iaWxlIENocm9tZSBkb2Vzbid0IHdvcmsgdGhlIG5vcm1hbCB3YXksIHNvLi4uIGxldHMgdXNlIEhUTUw1IGZvciBwaG9uZXMgOilcclxuICAgICAgICAgICAgaWYoaXNUb3VjaERldmljZSB8fCBpc1RvdWNoKXtcclxuICAgICAgICAgICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCAnIycgKyB1cmwpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHZhciBiYXNlVXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoJyMnKVswXTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKCBiYXNlVXJsICsgJyMnICsgdXJsICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEdldHMgdGhlIGFuY2hvciBmb3IgdGhlIGdpdmVuIHNsaWRlLiBJdHMgaW5kZXggd2lsbCBiZSB1c2VkIGlmIHRoZXJlJ3Mgbm9uZS5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRTbGlkZUFuY2hvcihzbGlkZSl7XHJcbiAgICAgICAgdmFyIHNsaWRlQW5jaG9yID0gc2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWFuY2hvcicpO1xyXG4gICAgICAgIHZhciBzbGlkZUluZGV4ID0gZ2V0Tm9kZUluZGV4KHNsaWRlKTtcclxuXHJcbiAgICAgICAgLy9TbGlkZSB3aXRob3V0IGFuY2hvciBsaW5rPyBXZSB0YWtlIHRoZSBpbmRleCBpbnN0ZWFkLlxyXG4gICAgICAgIGlmKCFzbGlkZUFuY2hvcil7XHJcbiAgICAgICAgICAgIHNsaWRlQW5jaG9yID0gc2xpZGVJbmRleDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzbGlkZUFuY2hvcjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU2V0cyBhIGNsYXNzIGZvciB0aGUgYm9keSBvZiB0aGUgcGFnZSBkZXBlbmRpbmcgb24gdGhlIGFjdGl2ZSBzZWN0aW9uIC8gc2xpZGVcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBzZXRCb2R5Q2xhc3ModGV4dCl7XHJcbiAgICAgICAgdmFyIHNlY3Rpb24gPSAkKFNFQ1RJT05fQUNUSVZFX1NFTCk7XHJcbiAgICAgICAgdmFyIHNsaWRlID0gJChTTElERV9BQ1RJVkVfU0VMLCBzZWN0aW9uKTtcclxuXHJcbiAgICAgICAgdmFyIHNlY3Rpb25BbmNob3IgPSBzZWN0aW9uLmdldEF0dHJpYnV0ZSgnZGF0YS1hbmNob3InKTtcclxuICAgICAgICB2YXIgc2VjdGlvbkluZGV4ID0gZ2V0Tm9kZUluZGV4KHNlY3Rpb24pO1xyXG5cclxuICAgICAgICB2YXIgdGV4dCA9IFN0cmluZyhzZWN0aW9uSW5kZXgpO1xyXG5cclxuICAgICAgICBpZihvcHRpb25zLmFuY2hvcnMubGVuZ3RoKXtcclxuICAgICAgICAgICAgdGV4dCA9IHNlY3Rpb25BbmNob3I7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihzbGlkZSl7XHJcbiAgICAgICAgICAgIHZhciBzbGlkZUFuY2hvciA9IGdldFNsaWRlQW5jaG9yKHNsaWRlKTtcclxuICAgICAgICAgICAgdGV4dCA9IHRleHQgKyAnLScgKyBzbGlkZUFuY2hvcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vY2hhbmdpbmcgc2xhc2ggZm9yIGRhc2ggdG8gbWFrZSBpdCBhIHZhbGlkIENTUyBzdHlsZVxyXG4gICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoJy8nLCAnLScpLnJlcGxhY2UoJyMnLCcnKTtcclxuXHJcbiAgICAgICAgLy9yZW1vdmluZyBwcmV2aW91cyBhbmNob3IgY2xhc3Nlc1xyXG4gICAgICAgIHZhciBjbGFzc1JlID0gbmV3IFJlZ0V4cCgnXFxcXGJcXFxccz8nICsgVklFV0lOR19QUkVGSVggKyAnLVteXFxcXHNdK1xcXFxiJywgXCJnXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NOYW1lID0gZG9jdW1lbnQuYm9keS5jbGFzc05hbWUucmVwbGFjZShjbGFzc1JlLCAnJyk7XHJcblxyXG4gICAgICAgIC8vYWRkaW5nIHRoZSBjdXJyZW50IGFuY2hvclxyXG4gICAgICAgIGFkZENsYXNzKGRvY3VtZW50LmJvZHksIFZJRVdJTkdfUFJFRklYICsgJy0nICsgdGV4dCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIENoZWNrcyBmb3IgdHJhbnNsYXRlM2Qgc3VwcG9ydFxyXG4gICAgKiBAcmV0dXJuIGJvb2xlYW5cclxuICAgICogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81NjYxNjcxL2RldGVjdGluZy10cmFuc2Zvcm0tdHJhbnNsYXRlM2Qtc3VwcG9ydFxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHN1cHBvcnQzZCgpIHtcclxuICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyksXHJcbiAgICAgICAgICAgIGhhczNkLFxyXG4gICAgICAgICAgICB0cmFuc2Zvcm1zID0ge1xyXG4gICAgICAgICAgICAgICAgJ3dlYmtpdFRyYW5zZm9ybSc6Jy13ZWJraXQtdHJhbnNmb3JtJyxcclxuICAgICAgICAgICAgICAgICdPVHJhbnNmb3JtJzonLW8tdHJhbnNmb3JtJyxcclxuICAgICAgICAgICAgICAgICdtc1RyYW5zZm9ybSc6Jy1tcy10cmFuc2Zvcm0nLFxyXG4gICAgICAgICAgICAgICAgJ01velRyYW5zZm9ybSc6Jy1tb3otdHJhbnNmb3JtJyxcclxuICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOid0cmFuc2Zvcm0nXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIEFkZCBpdCB0byB0aGUgYm9keSB0byBnZXQgdGhlIGNvbXB1dGVkIHN0eWxlLlxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKGVsLCBudWxsKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgdCBpbiB0cmFuc2Zvcm1zKSB7XHJcbiAgICAgICAgICAgIGlmIChlbC5zdHlsZVt0XSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBlbC5zdHlsZVt0XSA9ICd0cmFuc2xhdGUzZCgxcHgsMXB4LDFweCknO1xyXG4gICAgICAgICAgICAgICAgaGFzM2QgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZ2V0UHJvcGVydHlWYWx1ZSh0cmFuc2Zvcm1zW3RdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbCk7XHJcblxyXG4gICAgICAgIHJldHVybiAoaGFzM2QgIT09IHVuZGVmaW5lZCAmJiBoYXMzZC5sZW5ndGggPiAwICYmIGhhczNkICE9PSAnbm9uZScpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFJlbW92ZXMgdGhlIGF1dG8gc2Nyb2xsaW5nIGFjdGlvbiBmaXJlZCBieSB0aGUgbW91c2Ugd2hlZWwgYW5kIHRyYWNrcGFkLlxyXG4gICAgKiBBZnRlciB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCwgdGhlIG1vdXNld2hlZWwgYW5kIHRyYWNrcGFkIG1vdmVtZW50cyB3b24ndCBzY3JvbGwgdGhyb3VnaCBzZWN0aW9ucy5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiByZW1vdmVNb3VzZVdoZWVsSGFuZGxlcigpe1xyXG4gICAgICAgIHZhciB3cmFwcGVyID0gJChXUkFQUEVSX1NFTCk7XHJcblxyXG4gICAgICAgIGlmIChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIHdyYXBwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V3aGVlbCcsIE1vdXNlV2hlZWxIYW5kbGVyLCBmYWxzZSk7IC8vSUU5LCBDaHJvbWUsIFNhZmFyaSwgT3BlclxyXG4gICAgICAgICAgICB3cmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3doZWVsJywgTW91c2VXaGVlbEhhbmRsZXIsIGZhbHNlKTsgLy9GaXJlZm94XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgd3JhcHBlci5kZXRhY2hFdmVudCgnb25tb3VzZXdoZWVsJywgTW91c2VXaGVlbEhhbmRsZXIpOyAvL0lFIDYvNy84XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogQWRkcyB0aGUgYXV0byBzY3JvbGxpbmcgYWN0aW9uIGZvciB0aGUgbW91c2Ugd2hlZWwgYW5kIHRyYWNrcGFkLlxyXG4gICAgKiBBZnRlciB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCwgdGhlIG1vdXNld2hlZWwgYW5kIHRyYWNrcGFkIG1vdmVtZW50cyB3aWxsIHNjcm9sbCB0aHJvdWdoIHNlY3Rpb25zXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gYWRkTW91c2VXaGVlbEhhbmRsZXIoKXtcclxuICAgICAgICBhZGRIYW5kbGVyKCQoV1JBUFBFUl9TRUwpLCBNb3VzZVdoZWVsSGFuZGxlciwgJ21vdXNld2hlZWwnLCAnb25tb3VzZXdoZWVsJywgJ3doZWVsJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkUmVzaXplSGFuZGxlcigpe1xyXG4gICAgICAgIGFkZEhhbmRsZXIod2luZG93LCByZXNpemVIYW5kbGVyLCAncmVzaXplJywgJ29ucmVzaXplJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkU2Nyb2xsSGFuZGxlcigpe1xyXG4gICAgICAgIGFkZEhhbmRsZXIod2luZG93LCBzY3JvbGxIYW5kbGVyLCAnc2Nyb2xsJywgJ29uc2Nyb2xsJywgJ29uc2Nyb2xsJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkSGFuZGxlcihlbGVtZW50LCBtZXRob2QsIG5vcm1hbCwgb2xkSUUsIGZpcmVmb3gpe1xyXG4gICAgICAgIGlmKGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcil7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihub3JtYWwsIG1ldGhvZCwgZmFsc2UpOyAvL0lFOSwgQ2hyb21lLCBTYWZhcmksIE9wZXJcclxuXHJcbiAgICAgICAgICAgIGlmKHR5cGVvZiBmaXJlZm94ICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZmlyZWZveCwgbWV0aG9kLCBmYWxzZSk7IC8vRmlyZWZveFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuYXR0YWNoRXZlbnQob2xkSUUsIG1ldGhvZCk7ICAvL0lFIDYvNy84XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogQWRkcyB0aGUgcG9zc2liaWxpdHkgdG8gYXV0byBzY3JvbGwgdGhyb3VnaCBzZWN0aW9ucyBvbiB0b3VjaCBkZXZpY2VzLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGFkZFRvdWNoSGFuZGxlcigpe1xyXG4gICAgICAgIGlmKGlzVG91Y2hEZXZpY2UgfHwgaXNUb3VjaCl7XHJcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gJChXUkFQUEVSX1NFTCk7XHJcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgICAgICAvL01pY3Jvc29mdCBwb2ludGVyc1xyXG4gICAgICAgICAgICAgICAgdmFyIE1TUG9pbnRlciA9IGdldE1TUG9pbnRlcigpO1xyXG5cclxuICAgICAgICAgICAgICAgIHdyYXBwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRvdWNoU3RhcnRIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIHdyYXBwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihNU1BvaW50ZXIuZG93biwgdG91Y2hTdGFydEhhbmRsZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgIHdyYXBwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdG91Y2hNb3ZlSGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICB3cmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoTVNQb2ludGVyLm1vdmUsIHRvdWNoTW92ZUhhbmRsZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGFkZExpc3RlbmVyTXVsdGkod3JhcHBlciwgJ3RvdWNoc3RhcnQgJyArIE1TUG9pbnRlci5kb3duLCB0b3VjaFN0YXJ0SGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICBhZGRMaXN0ZW5lck11bHRpKHdyYXBwZXIsICd0b3VjaG1vdmUgJyArIE1TUG9pbnRlci5tb3ZlLCB0b3VjaE1vdmVIYW5kbGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogUmVtb3ZlcyB0aGUgYXV0byBzY3JvbGxpbmcgZm9yIHRvdWNoIGRldmljZXMuXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gcmVtb3ZlVG91Y2hIYW5kbGVyKCl7XHJcbiAgICAgICAgaWYoaXNUb3VjaERldmljZSB8fCBpc1RvdWNoKXtcclxuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSAkKFdSQVBQRVJfU0VMKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh3cmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgICAgIC8vTWljcm9zb2Z0IHBvaW50ZXJzXHJcbiAgICAgICAgICAgICAgICB2YXIgTVNQb2ludGVyID0gZ2V0TVNQb2ludGVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgd3JhcHBlci5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdG91Y2hTdGFydEhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgd3JhcHBlci5yZW1vdmVFdmVudExpc3RlbmVyKE1TUG9pbnRlci5kb3duLCB0b3VjaFN0YXJ0SGFuZGxlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgd3JhcHBlci5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0b3VjaE1vdmVIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIHdyYXBwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihNU1BvaW50ZXIubW92ZSwgdG91Y2hNb3ZlSGFuZGxlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAqIFJldHVybnMgYW5kIG9iamVjdCB3aXRoIE1pY3Jvc29mdCBwb2ludGVycyAoZm9yIElFPDExIGFuZCBmb3IgSUUgPj0gMTEpXHJcbiAgICAqIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9kbjMwNDg4Nih2PXZzLjg1KS5hc3B4XHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0TVNQb2ludGVyKCl7XHJcbiAgICAgICAgdmFyIHBvaW50ZXI7XHJcblxyXG4gICAgICAgIC8vSUUgPj0gMTEgJiByZXN0IG9mIGJyb3dzZXJzXHJcbiAgICAgICAgaWYod2luZG93LlBvaW50ZXJFdmVudCl7XHJcbiAgICAgICAgICAgIHBvaW50ZXIgPSB7IGRvd246ICdwb2ludGVyZG93bicsIG1vdmU6ICdwb2ludGVybW92ZSd9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9JRSA8IDExXHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgcG9pbnRlciA9IHsgZG93bjogJ01TUG9pbnRlckRvd24nLCBtb3ZlOiAnTVNQb2ludGVyTW92ZSd9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHBvaW50ZXI7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICogR2V0cyB0aGUgcGFnZVggYW5kIHBhZ2VZIHByb3BlcnRpZXMgZGVwZW5kaW5nIG9uIHRoZSBicm93c2VyLlxyXG4gICAgKiBodHRwczovL2dpdGh1Yi5jb20vYWx2YXJvdHJpZ28vZnVsbFBhZ2UuanMvaXNzdWVzLzE5NCNpc3N1ZWNvbW1lbnQtMzQwNjk4NTRcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRFdmVudHNQYWdlKGUpe1xyXG4gICAgICAgIHZhciBldmVudHMgPSBbXTtcclxuXHJcbiAgICAgICAgZXZlbnRzLnkgPSAodHlwZW9mIGUucGFnZVkgIT09ICd1bmRlZmluZWQnICYmIChlLnBhZ2VZIHx8IGUucGFnZVgpID8gZS5wYWdlWSA6IGUudG91Y2hlc1swXS5wYWdlWSk7XHJcbiAgICAgICAgZXZlbnRzLnggPSAodHlwZW9mIGUucGFnZVggIT09ICd1bmRlZmluZWQnICYmIChlLnBhZ2VZIHx8IGUucGFnZVgpID8gZS5wYWdlWCA6IGUudG91Y2hlc1swXS5wYWdlWCk7XHJcblxyXG4gICAgICAgIC8vaW4gdG91Y2ggZGV2aWNlcyB3aXRoIHNjcm9sbEJhcjp0cnVlLCBlLnBhZ2VZIGlzIGRldGVjdGVkLCBidXQgd2UgaGF2ZSB0byBkZWFsIHdpdGggdG91Y2ggZXZlbnRzLiAjMTAwOFxyXG4gICAgICAgIGlmKGlzVG91Y2ggJiYgaXNSZWFsbHlUb3VjaChlKSl7XHJcbiAgICAgICAgICAgIGV2ZW50cy55ID0gZS50b3VjaGVzWzBdLnBhZ2VZO1xyXG4gICAgICAgICAgICBldmVudHMueCA9IGUudG91Y2hlc1swXS5wYWdlWDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBldmVudHM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2lsZW50TGFuZHNjYXBlU2Nyb2xsKGFjdGl2ZVNsaWRlLCBub0NhbGxiYWNrcyl7XHJcbiAgICAgICAgc2V0U2Nyb2xsaW5nU3BlZWQgKDAsICdpbnRlcm5hbCcpO1xyXG5cclxuICAgICAgICBpZih0eXBlb2Ygbm9DYWxsYmFja3MgIT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgLy9wcmV2ZW50aW5nIGZpcmluZyBjYWxsYmFja3MgYWZ0ZXJTbGlkZUxvYWQgZXRjLlxyXG4gICAgICAgICAgICBpc1Jlc2l6aW5nID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vZXF1aXZhbGVudCB0bzogICBhY3RpdmVTbGlkZS5jbG9zZXN0KFNMSURFU19XUkFQUEVSX1NFTClcclxuICAgICAgICB2YXIgc2xpZGVzID0gY2xvc2VzdChhY3RpdmVTbGlkZSwgZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBoYXNDbGFzcyhlbCwgU0xJREVTX1dSQVBQRVIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsYW5kc2NhcGVTY3JvbGwoc2xpZGVzLCBhY3RpdmVTbGlkZSk7XHJcblxyXG4gICAgICAgIGlmKHR5cGVvZiBub0NhbGxiYWNrcyAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICBpc1Jlc2l6aW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZXRTY3JvbGxpbmdTcGVlZChvcmlnaW5hbHMuc2Nyb2xsaW5nU3BlZWQsICdpbnRlcm5hbCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNpbGVudFNjcm9sbCh0b3Ape1xyXG4gICAgICAgIGlmKG9wdGlvbnMuc2Nyb2xsQmFyKXtcclxuICAgICAgICAgICAgdmFyIHNjcm9sbFNldHRpbmdzID0gZ2V0U2Nyb2xsU2V0dGluZ3ModG9wKTtcclxuICAgICAgICAgICAgc2V0U2Nyb2xsaW5nKHNjcm9sbFNldHRpbmdzLmVsZW1lbnQsIHNjcm9sbFNldHRpbmdzLm9wdGlvbnMsIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChvcHRpb25zLmNzczMpIHtcclxuICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZTNkID0gJ3RyYW5zbGF0ZTNkKDBweCwgLScgKyB0b3AgKyAncHgsIDBweCknO1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm1Db250YWluZXIodHJhbnNsYXRlM2QsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHNldENzcyhjb250YWluZXIsICd0b3AnLCAtdG9wICsgJ3B4Jyk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRUcmFuc2Zvcm1zKGVsZW1lbnQsIHRyYW5zbGF0ZTNkKXtcclxuICAgICAgICBjc3MoZWxlbWVudCwge1xyXG4gICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiB0cmFuc2xhdGUzZCxcclxuICAgICAgICAgICAgJy1tb3otdHJhbnNmb3JtJzogdHJhbnNsYXRlM2QsXHJcbiAgICAgICAgICAgICctbXMtdHJhbnNmb3JtJzogdHJhbnNsYXRlM2QsXHJcbiAgICAgICAgICAgICd0cmFuc2Zvcm0nOiB0cmFuc2xhdGUzZFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICAqIFNldHMgdGhlIHN0YXRlIGZvciBhIHZhcmlhYmxlIHdpdGggbXVsdGlwbGUgc3RhdGVzIChvcmlnaW5hbCwgYW5kIHRlbXBvcmFsKVxyXG4gICAgKiBTb21lIHZhcmlhYmxlcyBzdWNoIGFzIGBhdXRvU2Nyb2xsaW5nYCBvciBgcmVjb3JkSGlzdG9yeWAgbWlnaHQgY2hhbmdlIGF1dG9tYXRpY2FsbHkgaXRzIHN0YXRlIHdoZW4gdXNpbmcgYHJlc3BvbnNpdmVgIG9yIGBhdXRvU2Nyb2xsaW5nOmZhbHNlYC5cclxuICAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGtlZXAgdHJhY2sgb2YgYm90aCBzdGF0ZXMsIHRoZSBvcmlnaW5hbCBhbmQgdGhlIHRlbXBvcmFsIG9uZS5cclxuICAgICogSWYgdHlwZSBpcyBub3QgJ2ludGVybmFsJywgdGhlbiB3ZSBhc3N1bWUgdGhlIHVzZXIgaXMgZ2xvYmFsbHkgY2hhbmdpbmcgdGhlIHZhcmlhYmxlLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHNldFZhcmlhYmxlU3RhdGUodmFyaWFibGUsIHZhbHVlLCB0eXBlKXtcclxuICAgICAgICBvcHRpb25zW3ZhcmlhYmxlXSA9IHZhbHVlO1xyXG4gICAgICAgIGlmKHR5cGUgIT09ICdpbnRlcm5hbCcpe1xyXG4gICAgICAgICAgICBvcmlnaW5hbHNbdmFyaWFibGVdID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBEaXNwbGF5cyB3YXJuaW5nc1xyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGRpc3BsYXlXYXJuaW5ncygpe1xyXG4gICAgICAgIC8vYW5jaG9ycyBjYW4gbm90IGhhdmUgdGhlIHNhbWUgdmFsdWUgYXMgYW55IGVsZW1lbnQgSUQgb3IgTkFNRVxyXG4gICAgICAgIGZvcih2YXIgaSA9MDsgaTxvcHRpb25zLmFuY2hvcnMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICB2YXIgbmFtZSA9IG9wdGlvbnMuYW5jaG9yc1tpXTtcclxuICAgICAgICAgICAgdmFyIGV4aXN0SWQgPSBnZXRCeUlkKCcjJyArIG5hbWUpO1xyXG4gICAgICAgICAgICBpZiggZXhpc3RJZCB8fCAkJCgnW25hbWU9XCInK25hbWUrJ1wiXScpLmxlbmd0aCl7XHJcbiAgICAgICAgICAgICAgICBzaG93RXJyb3IoJ2Vycm9yJywgJ2RhdGEtYW5jaG9yIHRhZ3MgY2FuIG5vdCBoYXZlIHRoZSBzYW1lIHZhbHVlIGFzIGFueSBgaWRgIGVsZW1lbnQgb24gdGhlIHNpdGUgKG9yIGBuYW1lYCBlbGVtZW50IGZvciBJRSkuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNob3dzIGEgbWVzc2FnZSBpbiB0aGUgY29uc29sZSBvZiB0aGUgZ2l2ZW4gdHlwZS5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBzaG93RXJyb3IodHlwZSwgdGV4dCl7XHJcbiAgICAgICAgY29uc29sZSAmJiBjb25zb2xlW3R5cGVdICYmIGNvbnNvbGVbdHlwZV0oJ2Z1bGxQYWdlOiAnICsgdGV4dCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9BUElcclxuICAgIGZ1bGxwYWdlID0ge1xyXG4gICAgICAgIGluaXRpYWxpemU6IGluaXRpYWxpemUsXHJcbiAgICAgICAgbW92ZVNlY3Rpb25VcDogbW92ZVNlY3Rpb25VcCxcclxuICAgICAgICBtb3ZlU2VjdGlvbkRvd246IG1vdmVTZWN0aW9uRG93bixcclxuICAgICAgICBtb3ZlVG86IG1vdmVUbyxcclxuICAgICAgICBzaWxlbnRNb3ZlVG86IHNpbGVudE1vdmVUbyxcclxuICAgICAgICBtb3ZlU2xpZGVSaWdodDogbW92ZVNsaWRlUmlnaHQsXHJcbiAgICAgICAgbW92ZVNsaWRlTGVmdDogbW92ZVNsaWRlTGVmdCxcclxuICAgICAgICBzZXRBdXRvU2Nyb2xsaW5nOiBzZXRBdXRvU2Nyb2xsaW5nLFxyXG4gICAgICAgIHNldEZpdFRvU2VjdGlvbjogc2V0Rml0VG9TZWN0aW9uLFxyXG4gICAgICAgIHNldEtleWJvYXJkU2Nyb2xsaW5nOiBzZXRLZXlib2FyZFNjcm9sbGluZyxcclxuICAgICAgICBzZXRSZWNvcmRIaXN0b3J5OiBzZXRSZWNvcmRIaXN0b3J5LFxyXG4gICAgICAgIHNldFNjcm9sbGluZ1NwZWVkOiBzZXRTY3JvbGxpbmdTcGVlZFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gZnVsbHBhZ2U7XHJcbn0pKTtcclxuIiwiZnVsbHBhZ2UuaW5pdGlhbGl6ZSgnI2Z1bGxwYWdlJywge1xyXG4gICAgY3NzMzp0cnVlLFxyXG4gICAgJ3Njcm9sbGluZ1NwZWVkJzogMTAwMCxcclxufSk7XHJcbiJdfQ==
