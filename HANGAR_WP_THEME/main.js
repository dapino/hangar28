"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,n,t,o,i){"function"==typeof define&&define.amd?define(function(){return e.fullpage=o(n,t),e.fullpage}):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=o(n,t):n.fullpage=o(n,t)}(void 0,window,document,function(e,n,t){function o(e){h(qe,Je),Ye(),je.css3&&(je.css3=Me()),null!==qe?(c(qe,{height:"100%",position:"relative"}),g(qe,Ke),g(f("html"),Qe)):Xe("error","Error! Fullpage.js needs to be initialized with a selector. For example: fullpage('#fullpage');"),R(!0),Pe(),Ne(),Be();var n=u(je.sectionSelector);for(i=0;i<n.length;++i)g(n[i],on);var t=u(je.slideSelector);for(i=0;i<t.length;++i)g(t[i],vn);je.navigation&&_();for(var o=u(rn),i=0;i<o.length;i++){var r=i,a=o[i],l=u(dn,a),v=l.length;if(r||null!==f(an)||g(a,en),void 0!==je.anchors[r]&&(a.setAttribute("data-anchor",je.anchors[r]),p(a,en)&&de(je.anchors[r],r)),v>0){var d=100*v,m=100/v,S=a.innerHTML,y='<div class="'+hn+'"><div class="'+mn+'">'+S+"</div></div>";a.innerHTML=y,l=u(dn,a),s(f(Sn,a),"width",d+"%"),je.controlArrows&&v>1&&W(a),je.slidesNavigation&&Te(a,v);for(var b=0;b<l.length;b++)s(l[b],"width",m+"%");var T=f(pn,a);null!==typeof T?g(l[0],en):Re(T)}}e()}function i(){for(var t=u(Ln),o=0;o<t.length;o++)w(t[o],"click onclick touchstart",ie);P(je.autoScrolling,"internal");var i=f(an),r=f(pn,i),a=v(f(an));r&&(0!==a||0===a&&0!==v(r))&&Re(r),je.navigation&&(s(Fe,"margin-top","-"+Fe.offsetHeight/2+"px"),g(f("a",u("li",Fe)[v(f(an))]),en)),F();var l=e.location.hash.replace("#","").split("/")[0];if(l.length){var c=f('[data-anchor="'+l+'"]');if(!je.animateAnchor&&c.length){if(je.autoScrolling)Ie(c.offsetTop);else{Ie(0),xe(l);var d=ne(c.offsetTop);E(d.element,d.options,0)}de(l,null),L(je.afterLoad)&&je.afterLoad.call(c,l,v(c)+1),h(i,en),g(c,en)}}xe(),Ce(n,oe,"DOMContentLoaded","DOMContentLoaded","DOMContentLoaded")}function r(e,n){"object"!==(void 0===n?"undefined":_typeof(n))&&(n={});for(var t in n)e.hasOwnProperty(t)&&(e[t]=n[t]);return e}function a(e){return n.getElementById(e)}function l(e){return n.getElementsByTagName(e)[0]}function c(e,n){var t;for(t in n)n.hasOwnProperty(t)&&null!==t&&(e.style[t]=n[t]);return e}function s(e,n,t){e.style[n]=t}function f(e,t){return(t=t||n).querySelector(e)}function u(e,t){return(t=t||n).querySelectorAll(e)}function v(e){for(var n=0;e=e.previousSibling;)3==e.nodeType&&/^\s*$/.test(e.data)||n++;return n}function d(e,n){return void 0!==n?e.style.display=n?"block":"none":"block"==e.style.display?e.style.display="none":e.style.display="block",e}function p(e,n){return!!e.className.match(new RegExp("(\\s|^)"+n+"(\\s|$)"))}function h(e,n){if(e&&p(e,n)){var t=new RegExp("(\\s|^)"+n+"(\\s|$)");e.className=e.className.replace(t,"")}}function g(e,n){e&&!p(e,n)&&(e.className+=" "+n)}function m(e,n){return e&&(n(e)?e:m(e.parentNode,n))}function S(){return"innerWidth"in e?e.innerWidth:n.documentElement.offsetWidth}function y(){return"innerHeight"in e?e.innerHeight:n.documentElement.offsetHeight}function b(e){if(null===e||"object"!==(void 0===e?"undefined":_typeof(e)))return e;var n=e.constructor();for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function T(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function L(e){var n={};return e&&"[object Function]"===n.toString.call(e)}function w(e,t,o){for(var i=t.split(" "),r=0,a=i.length;r<a;r++)n.addEventListener?e.addEventListener(i[r],o,!1):e.attachEvent(i[r],o,!1)}function E(e,n,t,o){var i=B(e),r=n-i,a=0;Ue=!0;!function l(){if(Ue){var c=n;a+=20,c=Math.easeInOutCubic(a,i,r,t),C(e,c),a<t?setTimeout(l,20):void 0!==o&&o()}else a<t&&o()}()}function x(){var t=n.documentElement;return(e.pageYOffset||t.scrollTop)-(t.clientTop||0)}function M(e,n){for(var t=[];e;e=e.nextSibling)1==e.nodeType&&e!=n&&t.push(e);return t}function k(e){return M(e.parentNode.firstChild,e)}function A(e){for(var n=e.nextSibling;n&&1!=n.nodeType;)n=n.nextSibling;return n}function N(e){for(var n=e.previousSibling;n&&1!=n.nodeType;)n=n.previousSibling;return n}function B(n){return n.self!=e&&p(n,hn)?n.scrollLeft:!je.autoScrolling||je.scrollBar?x():n.offsetTop}function C(n,t){!je.autoScrolling||je.scrollBar||n.self!=e&&p(n,hn)?n.self!=e&&p(n,hn)?n.scrollLeft=t:n.scrollTo(0,t):n.style.top=t+"px"}function P(e,t){Oe("autoScrolling",e,t);var o=f(an);if(je.autoScrolling&&!je.scrollBar)c(n.body,{overflow:"hidden",height:"100%"}),c(l("html"),{overflow:"hidden",height:"100%"}),H(je.recordHistory,"internal"),c(qe,{"-ms-touch-action":"none","touch-action":"none"}),o&&Ie(o.offsetTop);else{c(n.body,{overflow:"visible",height:"100%"}),c(l("html"),{overflow:"visible",height:"100%"}),H(!1,"internal"),c(qe,{"-ms-touch-action":"","touch-action":""}),Ie(0);var i=ne(o.offsetTop);i.element.scrollTo(0,i.options)}}function H(e,n){Oe("recordHistory",e,n)}function z(e,n){Oe("scrollingSpeed",e,n)}function R(e){e?Ae():ke()}function I(){var e=N(f(an));e&&Z(e,null,!0)}function D(){var e=A(f(an));e&&Z(e,null,!1)}function O(e,n){var t=me(e);void 0!==n?ye(e,n):t&&Z(t)}function Y(){Q("next")}function X(){Q("prev")}function j(e){if(!p(qe,Je)){Pn=!0,Cn=y();for(var n=u(rn),t=0;t<n.length;++t){var o=n[t],i=f(gn,o),r=u(dn,o);i&&r.length>1&&le(i,f(pn,i))}var a=f(an);v(a)&&Ie(a.offsetTop),Pn=!1,L(je.afterResize)&&e&&je.afterResize.call(qe),L(je.afterReBuild)&&!e&&je.afterReBuild.call(qe)}}function W(e){var t=n.createElement("div");t.className=En;var o=n.createElement("div");o.className=Mn;var i=f(gn,e);je.controlArrowColor,i.parentNode.appendChild(t),i.parentNode.appendChild(o),je.loopHorizontal||(f(xn,e).style.display="none")}function _(){var o=n.createElement("div");o.setAttribute("id",ln);var i=n.createElement("ul");o.appendChild(i),n.body.appendChild(o),s(Fe=f(cn),"color",je.navigationColor),g(Fe,je.navigationPosition),je.showActiveTooltip&&g(Fe,fn);for(var r="",a=0;a<u(rn).length;a++){var l="";je.anchors.length&&(l=je.anchors[a]),r=r+'<li><a href="#'+l+'"><span></span></a>';var c=je.navigationTooltips[a];(void 0===c?"undefined":_typeof(c))!==t&&""!==c&&(r+='<div class="'+sn+" "+je.navigationPosition+'">'+c+"</div>"),r+="</li>"}var d=f("ul",Fe);d.innerHTML=d.innerHTML+r;for(var p=u(Tn),h=0;h<p.length;h++)w(p[h],"click onclick touchstart",function(n){T(n=e.event||n||n.originalEvent);var t=v(this.parentNode);Z(u(rn)[t],null,!1)})}function F(){var e=f(an);L(je.afterLoad)&&je.afterLoad.call(e,e.getAttribute("data-anchor"),v(e)+1),L(je.afterRender)&&je.afterRender.call(qe)}function U(){var e;if(!je.autoScrolling||je.scrollBar){for(var n=x(),t=0,o=Math.abs(n-u(rn)[0].offsetTop),i=u(rn),r=0;r<i.length;++r){var a=i[r],l=Math.abs(n-a.offsetTop);l<o&&(t=r,o=l)}e=u(rn)[t]}if(!je.autoScrolling||je.scrollBar){if(!p(e,en)){Dn=!0;var c=f(an),s=v(c)+1,d=pe(e),m=e.getAttribute("data-anchor"),S=v(e)+1,y=f(pn,e);if(y)var b=y.getAttribute("data-anchor"),T=v(y);Hn&&(h(c,en),g(e,en),L(je.onLeave)&&je.onLeave.call(c,s,S,d),L(je.afterLoad)&&je.afterLoad.call(e,m,S),de(m,0),je.anchors.length&&(We=m,Le(T,b,m,S))),clearTimeout(Rn),Rn=setTimeout(function(){Dn=!1},100)}je.fitToSection&&(clearTimeout(In),In=setTimeout(function(){(Hn&&!je.autoScrolling||je.scrollBar)&&(v(f(an))==v(e)&&(Pn=!0),Z(e),Pn=!1)},je.fitToSectionDelay))}}function $(e){"down"==e?D():I()}function q(n){var t=e.event||n||n.originalEvent;if(K(t)){je.autoScrolling&&T(n);var o=f(an),i=u(gn,o);if(Hn&&!An){var r=ze(t);Xn=r.y,jn=r.x,i&&Math.abs(Yn-jn)>Math.abs(On-Xn)?Math.abs(Yn-jn)>S()/100*je.touchSensitivity&&(Yn>jn?Y():X()):je.autoScrolling&&Math.abs(On-Xn)>y()/100*je.touchSensitivity&&(On>Xn?$("down"):Xn>On&&$("up"))}}}function K(e){return void 0===e.pointerType||"mouse"!=e.pointerType}function V(n){var t=e.event||n||n.originalEvent;if(je.fitToSection&&(Ue=!1),K(t)){var o=ze(t);On=o.y,Yn=o.x}}function G(e,n){for(var t=0,o=e.slice(Math.max(e.length-n,1)),i=0;i<o.length;i++)t+=o[i];return Math.ceil(t/n)}function J(n){var t=(new Date).getTime();if(je.autoScrolling){var o=(n=e.event||n||n.originalEvent).wheelDelta||-n.deltaY||-n.detail,i=Math.max(-1,Math.min(1,o));zn.length>149&&zn.shift(),zn.push(Math.abs(o)),je.scrollBar&&T(n);var r=t-Wn;return Wn=t,r>200&&(zn=[]),Hn&&G(zn,10)>=G(zn,70)&&$(i<0?"down":"up"),!1}je.fitToSection&&(Ue=!1)}function Q(e){var n=f(an),t=f(gn,n);if(t&&!An){var o=f(pn,t),i=null;if(!(i="prev"===e?N(o):A(o))){if(!je.loopHorizontal)return;var r=k(o);i="prev"===e?r[r.length-1]:r[0]}An=!0,le(t,i)}}function Z(e,n,t){if(null!==e){var o={element:e,callback:n,isMovementUp:t,dtop:e.offsetTop,yMovement:pe(e),anchorLink:e.getAttribute("data-anchor"),sectionIndex:v(e),activeSlide:f(pn,e),activeSection:f(an),leavingSection:v(f(an))+1,localIsResizing:Pn};if(!(v(o.activeSection)==o.sectionIndex&&!Pn||je.scrollBar&&x()===o.dtop)){if(o.activeSlide)var i=o.activeSlide.getAttribute("data-anchor"),r=v(o.activeSlide);for(var a=u(rn),l=0;l<a.length;l++)h(a[l],en);g(e,en),Hn=!1,Le(r,i,o.anchorLink,o.sectionIndex),L(je.onLeave)&&!o.localIsResizing&&je.onLeave.call(o.activeSection,o.leavingSection,o.sectionIndex+1,o.yMovement),ee(o),We=o.anchorLink,de(o.anchorLink,o.sectionIndex)}}}function ee(e){if(je.css3&&je.autoScrolling&&!je.scrollBar)ge("translate3d(0px, -"+e.dtop+"px, 0px)",!0),je.scrollingSpeed?setTimeout(function(){te(e)},je.scrollingSpeed):te(e);else{var n=ne(e.dtop);E(n.element,n.options,je.scrollingSpeed,function(){te(e)})}}function ne(n){var t={};return je.autoScrolling&&!je.scrollBar?(t.options=-n,t.element=f("."+Ke)):(t.options=n,t.element=e),t}function te(e){L(je.afterLoad)&&!e.localIsResizing&&je.afterLoad.call(e.element,e.anchorLink,e.sectionIndex+1),Hn=!0,L(e.callback)&&e.callback.call(this)}function oe(){var n=e.location.hash.replace("#","").split("/"),t=n[0],o=n[1];t&&ye(t,o)}function ie(n){var t=this;t.self==e&&(t=n.target||n.srcElement),p(t,wn)?X():Y()}function re(){if(!Dn){var n=e.location.hash.replace("#","").split("/"),t=n[0],o=n[1];if(t.length){var i=void 0===We,r=void 0===We&&void 0===o&&!An;(t&&t!==We&&!i||r||!An&&_e!=o)&&ye(t,o)}}}function ae(e,n){switch(n){case 38:case 33:I();break;case 32:if(e){I();break}case 40:case 34:D();break;case 36:O(1);break;case 35:O(u(rn).length);break;case 37:X();break;case 39:Y();break;default:return}}function le(e,n){var t=v(n),o=m(e,function(e){return p(e,on)}),i=v(o),r=o.getAttribute("data-anchor"),a=f(bn,o),l=Ee(n),c=Pn;if(je.onSlideLeave){var s=f(pn,o),S=v(s),y=he(S,t);c||"none"===y||L(je.onSlideLeave)&&je.onSlideLeave.call(s,r,i+1,S,y,t)}for(var b=u(dn,o),T=0;T<b.length;T++)h(b[T],en);g(n,en),!je.loopHorizontal&&je.controlArrows&&(d(f(xn,o),0!==t),d(f(kn,o),!n.is(":last-child"))),p(o,en)&&Le(t,l,r,i);var w=function(){c||L(je.afterSlideLoad)&&je.afterSlideLoad.call(n,r,i+1,l,t),An=!1};if(je.css3){var x="translate3d(-"+Math.round(n.offsetLeft)+"px, 0px, 0px)",M=f(Sn,e);se(M,je.scrollingSpeed>0),De(M,x),setTimeout(function(){w()},je.scrollingSpeed,je.easing)}else E(e,Math.round(n.offsetLeft),je.scrollingSpeed,function(){w()});je.slidesNavigation&&(h(f(nn,a),en),g(f("a",u("li",a)[t]),en))}function ce(){if(Nn){if("text"!==n.activeElement.getAttribute("type")){var e=y();Math.abs(e-Un)>20*Math.max(Un,e)/100&&(j(!0),Un=e)}}else clearTimeout(Fn),Fn=setTimeout(function(){j(!0)},350)}function se(e){var n="all "+je.scrollingSpeed+"ms "+je.easingcss3;return h(e,Ge),c(e,{"-webkit-transition":n,transition:n}),e}function fe(e){return g(e,Ge)}function ue(e,n){je.navigation&&(h(f(nn,Fe),en),e?g(f('a[href="#'+e+'"]',Fe),en):g(f("a",u("li",Fe)[n]),en))}function ve(e){if(je.menu){var n=f(je.menu);n&&(h(f(nn,n),en),g(f('[data-menuanchor="'+e+'"]',n),en))}}function de(e,n){ve(e),ue(e,n)}function pe(e){var n=v(f(an)),t=v(e);return n==t?"none":n>t?"up":"down"}function he(e,n){return e==n?"none":e>n?"left":"right"}function ge(e,n){n?se(qe):fe(qe),De(qe,e),setTimeout(function(){h(qe,Ge)},10)}function me(e){var n=f(rn+'[data-anchor="'+e+'"]');return n||(n=u(rn)[e-1]),n}function Se(e,n){var t=f(gn,n),o=f(dn+'[data-anchor="'+e+'"]',t);return t&&!o&&(o=u(dn,t)[e]),o}function ye(e,n){var t=me(decodeURI(e));void 0===n&&(n=0),e===We||p(t,en)?be(t,n):Z(t,function(){be(t,n)})}function be(e,n){if(void 0!==n){var t=f(gn,e),o=Se(n,e);o&&le(t,o)}}function Te(e,t){var o=n.createElement("div");o.className=yn;var i=n.createElement("ul");o.appendChild(i),e.appendChild(o);var r=f(bn,e),a=f("ul",r);g(r,je.slidesNavPosition);for(var l="",c=0;c<t;c++)l+='<li><a href="#"><span></span></a></li>';a.innerHTML=a.innerHTML+l,s(r,"margin-left","-"+r.offsetWidth/2+"px"),g(f("a",u("li",r)[0]),en)}function Le(e,n,t,o){var i="";je.anchors.length&&(e?(void 0!==t&&(i=t),void 0===n&&(n=e),_e=n,we(i+"/"+n)):void 0!==e?(_e=n,we(t)):we(t)),xe()}function we(n){if(je.recordHistory)location.hash=n;else if(Nn||Bn)history.replaceState(t,t,"#"+n);else{var o=e.location.href.split("#")[0];e.location.replace(o+"#"+n)}}function Ee(e){var n=e.getAttribute("data-anchor"),t=v(e);return n||(n=t),n}function xe(e){var t=f(an),o=f(pn,t),i=t.getAttribute("data-anchor"),r=v(t),e=String(r);je.anchors.length&&(e=i),o&&(e=e+"-"+Ee(o)),e=e.replace("/","-").replace("#","");var a=new RegExp("\\b\\s?"+Ze+"-[^\\s]+\\b","g");n.body.className=n.body.className.replace(a,""),g(n.body,Ze+"-"+e)}function Me(){var o,i=n.createElement("p"),r={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};n.body.insertBefore(i,null);for(var a in r)i.style[a]!==t&&(i.style[a]="translate3d(1px,1px,1px)",o=e.getComputedStyle(i).getPropertyValue(r[a]));return n.body.removeChild(i),o!==t&&o.length>0&&"none"!==o}function ke(){var e=f(Ve);n.addEventListener?(e.removeEventListener("mousewheel",J,!1),e.removeEventListener("wheel",J,!1)):e.detachEvent("onmousewheel",J)}function Ae(){Ce(f(Ve),J,"mousewheel","onmousewheel","wheel")}function Ne(){Ce(e,ce,"resize","onresize")}function Be(){Ce(e,U,"scroll","onscroll","onscroll")}function Ce(e,n,t,o,i){e.addEventListener?(e.addEventListener(t,n,!1),void 0!==i&&e.addEventListener(i,n,!1)):e.attachEvent(o,n)}function Pe(){if(Nn||Bn){var e=f(Ve);if(n.addEventListener){var t=He();e.removeEventListener("touchstart",V),e.removeEventListener(t.down,V),e.removeEventListener("touchmove",q),e.removeEventListener(t.move,q),w(e,"touchstart "+t.down,V),w(e,"touchmove "+t.move,q)}}}function He(){return e.PointerEvent?{down:"pointerdown",move:"pointermove"}:{down:"MSPointerDown",move:"MSPointerMove"}}function ze(e){var n=[];return n.y=void 0!==e.pageY&&(e.pageY||e.pageX)?e.pageY:e.touches[0].pageY,n.x=void 0!==e.pageX&&(e.pageY||e.pageX)?e.pageX:e.touches[0].pageX,Bn&&K(e)&&(n.y=e.touches[0].pageY,n.x=e.touches[0].pageX),n}function Re(e,n){z(0,"internal"),void 0!==n&&(Pn=!0),le(m(e,function(e){return p(e,hn)}),e),void 0!==n&&(Pn=!1),z($e.scrollingSpeed,"internal")}function Ie(e){if(je.scrollBar){var n=ne(e);C(n.element,n.options,0)}else je.css3?ge("translate3d(0px, -"+e+"px, 0px)",!1):s(qe,"top",-e+"px")}function De(e,n){c(e,{"-webkit-transform":n,"-moz-transform":n,"-ms-transform":n,transform:n})}function Oe(e,n,t){je[e]=n,"internal"!==t&&($e[e]=n)}function Ye(){for(var e=0;e<je.anchors.length;e++){var n=je.anchors[e];(a("#"+n)||u('[name="'+n+'"]').length)&&Xe("error","data-anchor tags can not have the same value as any `id` element on the site (or `name` element for IE).")}}function Xe(e,n){console&&console[e]&&console[e]("fullPage: "+n)}var je,We,_e,Fe,Ue,$e,qe,Ke="fullpage-wrapper",Ve="."+Ke,Ge="fp-notransition",Je="fp-destroyed",Qe="fp-enabled",Ze="fp-viewing",en="active",nn="."+en,tn=".section",on="fp-section",rn="."+on,an=rn+nn,ln="fp-nav",cn="#"+ln,sn="fp-tooltip",fn="fp-show-active",un=".slide",vn="fp-slide",dn="."+vn,pn=dn+nn,hn="fp-slides",gn="."+hn,mn="fp-slidesContainer",Sn="."+mn,yn="fp-slidesNav",bn="."+yn,Tn=bn+" a",Ln=".fp-controlArrow",wn="fp-prev",En="fp-controlArrow "+wn,xn=Ln+("."+wn),Mn="fp-controlArrow fp-next",kn=Ln+".fp-next",An=!1,Nn=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),Bn="ontouchstart"in e||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints,Cn=y(),Pn=!1,Hn=!0,zn=[];Math.easeInOutCubic=function(e,n,t,o){return(e/=o/2)<1?t/2*e*e*e+n:t/2*((e-=2)*e*e+2)+n};var Rn,In,Dn=!1,On=0,Yn=0,Xn=0,jn=0,Wn=(new Date).getTime();n.addEventListener?e.addEventListener("hashchange",re,!1):e.attachEvent("onhashchange",re);var _n;n.onkeydown=function(t){clearTimeout(_n);var o=n.activeElement.tagName;if("SELECT"!==o&&"INPUT"!==o&&je.keyboardScrolling&&je.autoScrolling){for(var i=(t=e.event||t||t.originalEvent).charCode||t.keyCode,r=[40,38,32,33,34],a=0;a<r.length;a++)r[a]==i&&T(t);var l=t.shiftKey;_n=setTimeout(function(){ae(l,i)},150)}},null!==f(Tn)&&w(f(Tn),"click onclick touchstart",function(e){T(e);var n=m(this,function(e){return p(e1,on)}),t=f(gn,n),o=v(m(this,function(e){return"li"===e.tagName}));le(t,u(dn,t)[o])});var Fn,Un=Cn;return{initialize:function(e,n){je=r({menu:!1,anchors:[],navigation:!1,navigationPosition:"right",navigationColor:"#000",navigationTooltips:[],showActiveTooltip:!1,slidesNavigation:!1,slidesNavPosition:"bottom",scrollBar:!1,css3:!0,scrollingSpeed:700,autoScrolling:!0,fitToSection:!0,fitToSectionDelay:1e3,easingcss3:"ease",loopHorizontal:!0,touchSensitivity:5,keyboardScrolling:!0,recordHistory:!0,controlArrows:!0,sectionSelector:tn,slideSelector:un,afterLoad:null,onLeave:null,afterRender:null,afterResize:null,afterReBuild:null,afterSlideLoad:null,onSlideLeave:null},n),$e=b(je),qe=f(e),o(i)},moveSectionUp:I,moveSectionDown:D,moveTo:O,silentMoveTo:function(e,n){z(0,"internal"),O(e,n),z($e.scrollingSpeed,"internal")},moveSlideRight:Y,moveSlideLeft:X,setAutoScrolling:P,setFitToSection:function(e,n){Oe("fitToSection",e,n)},setKeyboardScrolling:function(e){je.keyboardScrolling=e},setRecordHistory:H,setScrollingSpeed:z}});
"use strict";var mediaquery=window.matchMedia("(min-width: 728px)");if(mediaquery.matches){var onWheelActions=function(){document.getElementById("inicio").classList.contains("active")?(document.getElementById("car").classList.add("dirty"),document.getElementById("car").classList.add("dirty_1"),document.getElementById("mainLogo").classList.remove("small"),document.getElementById("car").classList.add("hide"),document.getElementById("car").classList.remove("clean")):(document.getElementById("car").classList.remove("hide"),document.getElementById("mainLogo").classList.add("small")),document.getElementById("recibo").classList.contains("active")&&(document.getElementById("car").classList.add("dirty"),document.getElementById("car").classList.add("dirty_1"),document.getElementById("car").classList.remove("clean")),document.getElementById("lavado").classList.contains("active")&&(document.getElementById("car").classList.add("dirty"),document.getElementById("car").classList.add("dirty_1"),document.getElementById("car").classList.remove("clean")),document.getElementById("shampoo").classList.contains("active")&&(document.getElementById("car").classList.add("dirty_1"),document.getElementById("car").classList.remove("dirty"),document.getElementById("car").classList.remove("clean")),document.getElementById("descontaminacion").classList.contains("active")&&(document.getElementById("car").classList.remove("dirty_1"),document.getElementById("car").classList.add("clean")),document.getElementById("brillo").classList.contains("active")?document.getElementById("car").classList.add("shining"):document.getElementById("car").classList.remove("shining"),document.getElementById("interior").classList.contains("active")?(document.getElementById("carNormal").classList.add("hidden"),document.getElementById("carInterior").classList.remove("hidden")):document.getElementById("carInterior").classList.add("hidden"),document.getElementById("motor").classList.contains("active")?(document.getElementById("car").classList.add("zoom"),document.getElementById("carNormal").classList.add("hidden"),document.getElementById("carMotor").classList.remove("hidden")):(document.getElementById("car").classList.remove("zoom"),document.getElementById("carNormal").classList.remove("hidden"),document.getElementById("carMotor").classList.add("hidden"))};fullpage.initialize("#fullpage",{scrollingSpeed:1e3,css3:!0}),window.onwheel=function(){onWheelActions()}}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZ1bGxwYWdlLmpzIiwibWFpbi5qcyJdLCJuYW1lcyI6WyJyb290Iiwid2luZG93IiwiZG9jdW1lbnQiLCJmYWN0b3J5IiwidW5kZWZpbmVkIiwiZGVmaW5lIiwiYW1kIiwiZnVsbHBhZ2UiLCJleHBvcnRzIiwiX3R5cGVvZiIsIm1vZHVsZSIsImluaXQiLCJhZnRlckRvbVJlYWR5IiwicmVtb3ZlQ2xhc3MiLCJjb250YWluZXIiLCJERVNUUk9ZRUQiLCJkaXNwbGF5V2FybmluZ3MiLCJvcHRpb25zIiwiY3NzMyIsInN1cHBvcnQzZCIsImNzcyIsImhlaWdodCIsImFkZENsYXNzIiwiV1JBUFBFUiIsIiQiLCJFTkFCTEVEIiwic2hvd0Vycm9yIiwiYWRkVG91Y2hIYW5kbGVyIiwiYWRkUmVzaXplSGFuZGxlciIsInNldE1vdXNlV2hlZWxTY3JvbGxpbmciLCJhZGRTY3JvbGxIYW5kbGVyIiwiaSIsIm9yaWdpbmFsU2VjdGlvbnMiLCJsZW5ndGgiLCJTRUNUSU9OIiwic2xpZGVTZWxlY3RvciIsIm9yaWdpbmFsU2xpZGVzIiwiU0xJREUiLCJuYXZpZ2F0aW9uIiwiYWRkVmVydGljYWxOYXZpZ2F0aW9uIiwic2VjdGlvbnMiLCJpbmRleCIsIlNFQ1RJT05fU0VMIiwiJCQiLCJTTElERV9TRUwiLCJzZWN0aW9uIiwibnVtU2xpZGVzIiwiQUNUSVZFIiwic2V0QXR0cmlidXRlIiwiYW5jaG9ycyIsImFjdGl2YXRlTWVudUFuZE5hdiIsInNsaWRlcldpZHRoIiwic2xpZGVXaWR0aCIsIlNMSURFU19DT05UQUlORVIiLCJzbGlkZXNIVE1MIiwiaW5uZXJIVE1MIiwibmV3SFRNTCIsInNldENzcyIsIlNMSURFU19DT05UQUlORVJfU0VMIiwiY29udHJvbEFycm93cyIsImNyZWF0ZVNsaWRlQXJyb3dzIiwiYWRkU2xpZGVzTmF2aWdhdGlvbiIsImEiLCJzbGlkZXMiLCJzdGFydGluZ1NsaWRlIiwiU0xJREVfQUNUSVZFX1NFTCIsInNpbGVudExhbmRzY2FwZVNjcm9sbCIsImNhbGxiYWNrIiwic2xpZGVzQXJyb3dzIiwiU0xJREVTX0FSUk9XX1NFTCIsImFkZExpc3RlbmVyTXVsdGkiLCJhcnJvd3NIYW5kbGVyIiwic2V0QXV0b1Njcm9sbGluZyIsImF1dG9TY3JvbGxpbmciLCJhY3RpdmVTZWN0aW9uIiwiU0VDVElPTl9BQ1RJVkVfU0VMIiwiYWN0aXZlU2xpZGUiLCJhY3RpdmVTZWN0aW9uSW5kZXgiLCJnZXROb2RlSW5kZXgiLCJuYXYiLCJvZmZzZXRIZWlnaHQiLCJhZnRlclJlbmRlckFjdGlvbnMiLCJkZXN0aW55IiwibG9jYXRpb24iLCJoYXNoIiwicmVwbGFjZSIsInNwbGl0Iiwic2lsZW50U2Nyb2xsIiwib2Zmc2V0VG9wIiwic2V0Qm9keUNsYXNzIiwic2Nyb2xsVG8iLCJzY3JvbGxTZXR0aW5ncyIsImVsZW1lbnQiLCJpc0Z1bmN0aW9uIiwiYWZ0ZXJMb2FkIiwiY2FsbCIsImFkZEhhbmRsZXIiLCJzY3JvbGxUb0FuY2hvciIsImV4dGVuZCIsImRlZmF1bHRPcHRpb25zIiwia2V5IiwiZ2V0QnlJZCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0QnlUYWciLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImVsIiwicHJvcHMiLCJzdHlsZSIsInZhbHVlIiwiY29udGV4dCIsInF1ZXJ5U2VsZWN0b3IiLCJzZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJub2RlIiwibm9kZVR5cGUiLCJwcmV2aW91c1NpYmxpbmciLCJ0b2dnbGUiLCJkaXNwbGF5IiwiaGFzQ2xhc3MiLCJlbGUiLCJjbHMiLCJjbGFzc05hbWUiLCJtYXRjaCIsIlJlZ0V4cCIsInJlZyIsImNsb3Nlc3QiLCJmbiIsImdldFdpbmRvd1dpZHRoIiwicGFyZW50Tm9kZSIsImdldFdpbmRvd0hlaWdodCIsImlubmVySGVpZ2h0Iiwib2Zmc2V0V2lkdGgiLCJjbG9uZSIsIm9iaiIsImRvY3VtZW50RWxlbWVudCIsImNvcHkiLCJhdHRyIiwiaGFzT3duUHJvcGVydHkiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZnVuY3Rpb25Ub0NoZWNrIiwiZ2V0VHlwZSIsInJldHVyblZhbHVlIiwiZXZ0cyIsInRvU3RyaW5nIiwiYWRkRXZlbnRMaXN0ZW5lciIsInMiLCJhdHRhY2hFdmVudCIsImlMZW4iLCJpbmNyZW1lbnQiLCJ0byIsImR1cmF0aW9uIiwiYWN0aXZlQW5pbWF0aW9uIiwiY2hhbmdlIiwic3RhcnQiLCJhbmltYXRlU2Nyb2xsIiwiY3VycmVudFRpbWUiLCJ2YWwiLCJNYXRoIiwic2V0U2Nyb2xsaW5nIiwiZWFzZUluT3V0Q3ViaWMiLCJzZXRUaW1lb3V0IiwiZ2V0U2Nyb2xsVG9wIiwiZG9jIiwicGFnZVlPZmZzZXQiLCJzY3JvbGxUb3AiLCJjbGllbnRUb3AiLCJnZXRDaGlsZHJlbiIsInNraXBNZSIsInIiLCJuIiwibmV4dFNpYmxpbmciLCJwdXNoIiwiZ2V0QWxsU2libGluZ3MiLCJuZXh0IiwicHJldlNpYmxpbmciLCJwcmV2IiwiZ2V0U2Nyb2xsZWRQb3NpdGlvbiIsInNlbGYiLCJTTElERVNfV1JBUFBFUiIsInNjcm9sbExlZnQiLCJwb3NpdGlvbiIsInNjcm9sbEJhciIsInNldFZhcmlhYmxlU3RhdGUiLCJ0b3AiLCJ0eXBlIiwiYm9keSIsIm92ZXJmbG93Iiwic2V0UmVjb3JkSGlzdG9yeSIsInJlY29yZEhpc3RvcnkiLCItbXMtdG91Y2gtYWN0aW9uIiwidG91Y2gtYWN0aW9uIiwiZ2V0U2Nyb2xsU2V0dGluZ3MiLCJzZXRTY3JvbGxpbmdTcGVlZCIsInJlbW92ZU1vdXNlV2hlZWxIYW5kbGVyIiwibW92ZVNlY3Rpb25VcCIsIm1vdmVTZWN0aW9uRG93biIsIm1vdmVUbyIsInNlY3Rpb25BbmNob3IiLCJzbGlkZUFuY2hvciIsImdldFNlY3Rpb25CeUFuY2hvciIsIm1vdmVTbGlkZVJpZ2h0IiwibW92ZVNsaWRlIiwic2Nyb2xsUGFnZSIsIm1vdmVTbGlkZUxlZnQiLCJyZUJ1aWxkIiwic2xpZGVzV3JhcCIsIlNMSURFU19XUkFQUEVSX1NFTCIsImlzUmVzaXppbmciLCJ3aW5kb3dzSGVpZ2h0IiwiYWZ0ZXJSZUJ1aWxkIiwiYWZ0ZXJSZXNpemUiLCJyZXNpemluZyIsImNyZWF0ZUVsZW1lbnQiLCJTTElERVNfQVJST1dfUFJFViIsImFwcGVuZENoaWxkIiwiU0xJREVTX0FSUk9XX05FWFQiLCJsb29wSG9yaXpvbnRhbCIsImNvbnRyb2xBcnJvd0NvbG9yIiwiU0xJREVTX0FSUk9XX1BSRVZfU0VMIiwibmF2aWdhdGlvbkNvbG9yIiwibmF2aWdhdGlvblBvc2l0aW9uIiwic2hvd0FjdGl2ZVRvb2x0aXAiLCJkaXZVbCIsImRpdiIsIlNFQ1RJT05fTkFWX1NFTCIsImxpbmsiLCJTSE9XX0FDVElWRV9UT09MVElQIiwibGkiLCJ0b29sdGlwIiwibmF2aWdhdGlvblRvb2x0aXBzIiwibGlua3MiLCJTTElERVNfTkFWX0xJTktfU0VMIiwiZSIsInVsIiwibCIsIm9yaWdpbmFsRXZlbnQiLCJ0aGlzIiwic2Nyb2xsSGFuZGxlciIsImdldEF0dHJpYnV0ZSIsImN1cnJlbnRTZWN0aW9uIiwiY3VycmVudCIsInZpc2libGVTZWN0aW9uSW5kZXgiLCJpbml0aWFsIiwiYWJzIiwiY3VycmVudFNjcm9sbCIsImlzU2Nyb2xsaW5nIiwic2VjdGlvbkluZGV4Iiwic2xpZGVBbmNob3JMaW5rIiwibGVhdmluZ1NlY3Rpb24iLCJ5TW92ZW1lbnQiLCJnZXRZbW92ZW1lbnQiLCJhbmNob3JMaW5rIiwiY2FuU2Nyb2xsIiwib25MZWF2ZSIsImxlYXZpbmdTZWN0aW9uSW5kZXgiLCJjbGVhclRpbWVvdXQiLCJzY3JvbGxJZCIsImZpdFRvU2VjdGlvbiIsInNjcm9sbElkMiIsImZpdFRvU2VjdGlvbkRlbGF5Iiwic2Nyb2xsaW5nIiwidG91Y2hNb3ZlSGFuZGxlciIsInRvdWNoRXZlbnRzIiwidG91Y2hFbmRZIiwiaXNSZWFsbHlUb3VjaCIsInRvdWNoU3RhcnRYIiwiZ2V0RXZlbnRzUGFnZSIsInkiLCJ0b3VjaEVuZFgiLCJ4IiwidG91Y2hTdGFydFkiLCJ0b3VjaFNlbnNpdGl2aXR5IiwicG9pbnRlclR5cGUiLCJ0b3VjaFN0YXJ0SGFuZGxlciIsImdldEF2ZXJhZ2UiLCJzdW0iLCJsYXN0RWxlbWVudHMiLCJlbGVtZW50cyIsIm51bWJlciIsInByZXZUaW1lIiwiZ2V0VGltZSIsIm1heCIsIk1vdXNlV2hlZWxIYW5kbGVyIiwiY3VyVGltZSIsInNjcm9sbGluZ3MiLCJ3aGVlbERlbHRhIiwiZGVsdGFZIiwiZGV0YWlsIiwidGltZURpZmYiLCJzaGlmdCIsImlzQWNjZWxlcmF0aW5nIiwiZGVsdGEiLCJzbGlkZU1vdmluZyIsImN1cnJlbnRTbGlkZSIsImRpcmVjdGlvbiIsImxhbmRzY2FwZVNjcm9sbCIsInNpYmxpbmdzIiwiYWN0aXZlU2xpZGVzIiwiaXNNb3ZlbWVudFVwIiwibG9jYWxJc1Jlc2l6aW5nIiwidiIsInNsaWRlSW5kZXgiLCJkdG9wIiwic2V0U3RhdGUiLCJwZXJmb3JtTW92ZW1lbnQiLCJsYXN0U2Nyb2xsZWREZXN0aW55Iiwic2Nyb2xsaW5nU3BlZWQiLCJ0cmFuc2Zvcm1Db250YWluZXIiLCJhZnRlclNlY3Rpb25Mb2FkcyIsInNjcm9sbCIsInNjcm9sbFBhZ2VBbmRTbGlkZSIsImhhc2hDaGFuZ2VIYW5kbGVyIiwic2xpZGUiLCJzcmNFbGVtZW50IiwiU0xJREVTX1BSRVYiLCJpc0ZpcnN0U2xpZGVNb3ZlIiwiaXNGaXJzdFNjcm9sbE1vdmUiLCJhY3RpdmVFbGVtZW50IiwibGFzdFNjcm9sbGVkU2xpZGUiLCJ0YWdOYW1lIiwib25rZXlkb3duIiwic2hpZnRQcmVzc2VkIiwiY2hhckNvZGUiLCJwcmV2U2xpZGUiLCJlMSIsInByZXZTbGlkZUluZGV4IiwieE1vdmVtZW50Iiwib25TbGlkZUxlYXZlIiwiZ2V0U2xpZGVBbmNob3IiLCJhZnRlclNsaWRlTG9hZCIsIlNMSURFU19BUlJPV19ORVhUX1NFTCIsImlzIiwiYWRkQW5pbWF0aW9uIiwic2xpZGVzQ29udGFpbmVyIiwic2xpZGVzTmF2aWdhdGlvbiIsIkFDVElWRV9TRUwiLCJvZmZzZXRMZWZ0IiwiYWN0aXZlTmF2TGkiLCJhY3RpdmVMaW5rIiwic2V0VHJhbnNmb3JtcyIsInRyYW5zbGF0ZTNkIiwiYWZ0ZXJTbGlkZUxvYWRzIiwicHJldmlvdXNIZWlnaHQiLCJlYXNpbmciLCJyZXNpemVIYW5kbGVyIiwicm91bmQiLCJjdXJyZW50SGVpZ2h0Iiwic2xpZGVzTmF2IiwiaXNUb3VjaERldmljZSIsInJlc2l6ZUlkIiwidHJhbnNpdGlvbiIsInJlbW92ZUFuaW1hdGlvbiIsIk5PX1RSQU5TSVRJT04iLCJlYXNpbmdjc3MzIiwiLXdlYmtpdC10cmFuc2l0aW9uIiwiYWN0aXZhdGVOYXZEb3RzIiwiYWN0aXZhdGVNZW51RWxlbWVudCIsIm5hbWUiLCJtZW51IiwiZnJvbUluZGV4IiwidG9JbmRleCIsImFuY2hvciIsImdldFhtb3ZlbWVudCIsImFuaW1hdGVkIiwiZ2V0U2xpZGVCeUFuY2hvciIsInNjcm9sbFNsaWRlciIsImRlY29kZVVSSSIsIlNMSURFU19OQVYiLCJsaXN0IiwiZmlyc3RMaSIsInNsaWRlc05hdlBvc2l0aW9uIiwic2VjdGlvbkhhc2giLCJzZXRVcmxIYXNoIiwiYmFzZVVybCIsInVybCIsImhpc3RvcnkiLCJyZXBsYWNlU3RhdGUiLCJocmVmIiwidGV4dCIsImNsYXNzUmUiLCJWSUVXSU5HX1BSRUZJWCIsIlN0cmluZyIsInRyYW5zZm9ybXMiLCJoYXMzZCIsIndlYmtpdFRyYW5zZm9ybSIsIm1zVHJhbnNmb3JtIiwiTW96VHJhbnNmb3JtIiwidHJhbnNmb3JtIiwidCIsIndyYXBwZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVtb3ZlQ2hpbGQiLCJXUkFQUEVSX1NFTCIsImFkZE1vdXNlV2hlZWxIYW5kbGVyIiwibWV0aG9kIiwibm9ybWFsIiwib2xkSUUiLCJmaXJlZm94IiwiTVNQb2ludGVyIiwicmVtb3ZlVG91Y2hIYW5kbGVyIiwiZ2V0TVNQb2ludGVyIiwiZG93biIsIm1vdmUiLCJldmVudHMiLCJ0b3VjaGVzIiwicGFnZVkiLCJwYWdlWCIsImlzVG91Y2giLCJub0NhbGxiYWNrcyIsIm9yaWdpbmFscyIsInZhcmlhYmxlIiwiLXdlYmtpdC10cmFuc2Zvcm0iLCItbW96LXRyYW5zZm9ybSIsIi1tcy10cmFuc2Zvcm0iLCJzZXRGaXRUb1NlY3Rpb24iLCJzZXRLZXlib2FyZFNjcm9sbGluZyIsImNvbnNvbGUiLCJSRVNQT05TSVZFIiwiU0VDVElPTl9OQVZfVE9PTFRJUCIsIlNMSURFX0RFRkFVTFRfU0VMIiwiVEFCTEUiLCJTTElERVNfTkFWX1NFTCIsIlNMSURFU19BUlJPVyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIm1zTWF4VG91Y2hQb2ludHMiLCJtYXhUb3VjaFBvaW50cyIsImIiLCJjIiwiZCIsIkRhdGUiLCJrZXlkb3duSWQiLCJzaGlmdEtleSIsImtleWJvYXJkU2Nyb2xsaW5nIiwia2V5Q29kZSIsImtleUNvbnRyb2xzIiwibGlJbmRleCIsImluaXRpYWxpemUiLCJjdXN0b21PcHRpb25zIiwiZGVmYXVsdHMiLCJzZWN0aW9uU2VsZWN0b3IiLCJTRUNUSU9OX0RFRkFVTFRfU0VMIiwiYWZ0ZXJSZW5kZXIiLCJzaWxlbnRNb3ZlVG8iLCJtZWRpYXF1ZXJ5IiwibWF0Y2hNZWRpYSIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImNvbnRhaW5zIiwib25XaGVlbEFjdGlvbnMiLCJvbndoZWVsIl0sIm1hcHBpbmdzIjoib09BT0MsU0FBVUEsRUFBTUMsRUFBUUMsRUFBVUMsRUFBU0MsR0FDbEIsbUJBQVhDLFFBQXlCQSxPQUFPQyxJQUV2Q0QsT0FBUSxXQUZSLE9BREdMLEVBQU1DLFNBQVFDLEVBQVVDLEVBQVNDLEdBQzdCQyxFQUFQRSxXQUVtQixZQUFYLG9CQUFBQyxRQUFBLFlBQUFDLFFBQUFELFVBRUpFLE9BQUFGLFFBQVlELEVBQVpOLEVBQUFDLEdBR0pELEVBQUFNLFNBQUFKLEVBQUFGLEVBQUFDLEdBUlAsTUFBQUUsRUFPVUgsT0FHQUMsU0FBQSxTQUFBRCxFQUFBQyxFQUFBRSxHQXdJSE8sU0FBS0MsRUFBQUEsR0FDUkMsRUFBQUMsR0FBQUMsSUFJR0MsS0FBQUEsR0FB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VixVQUFBRSxPQUFvQkYsVUFHL0M3YixTQUFBb0csZUFBQSxvQkFBQXlWLFVBQUFHLFNBQUEsWUFDRGhjLFNBQUFvRyxlQUFBLE9BQUF5VixVQUFBRSxPQUFBLFdBQ0kvYixTQUFTb0csZUFBZSxPQUFBeVYsVUFBVUEsSUFBVUcsVUFHNUNoYyxTQUFTb0csZUFBZSxVQUFPeVYsVUFBVUUsU0FBTyxVQUNuRC9iLFNBQUFvRyxlQUFBLE9BQUF5VixVQUFBQyxJQUFBLFdBRUc5YixTQUFTb0csZUFBZSxPQUFBeVYsVUFBWUEsT0FBVUcsV0FBbERoYyxTQUdPb0csZUFBQSxZQUFBeVYsVUFBQUcsU0FBQSxXQUNIaGMsU0FBU29HLGVBQWUsYUFBeEJ5VixVQUF1Q0EsSUFBVUMsVUFDcEQ5YixTQUFBb0csZUFBQSxlQUFBeVYsVUFBQUUsT0FBQSxXQUVHL2IsU0FBU29HLGVBQWUsZUFBU3lWLFVBQVVHLElBQVMsVUFHcERoYyxTQUFTb0csZUFBZSxTQUFBeVYsVUFBWUEsU0FBcEMsV0FISjdiLFNBS09vRyxlQUFBLE9BQUF5VixVQUFBQyxJQUFBLFFBQ0g5YixTQUFTb0csZUFBZSxhQUFPeVYsVUFBL0JDLElBQWdELFVBQ2hEOWIsU0FBU29HLGVBQWUsWUFBeEJ5VixVQUFBRSxPQUFBLFlBOURZL2IsU0FBQW9HLGVBQUEsT0FBQXlWLFVBQUFFLE9BQUEsUUE4RFovYixTQUFTb0csZUFBZSxhQUFheVYsVUFBVUUsT0FBTyxVQTdEOUQxYixTQUFTK2EsZUFBVCxZQUFpQ1MsVUFBQUMsSUFBQSxZQUFqQ3piLFNBQVMrYSxXQUFXLGFBRHBCTyxlQUFvQixJQU1YTSxNQUFBQSxJQUVMbGMsT0FBQW1jLFFBQWE5VixXQUFBQSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIGZ1bGxQYWdlIFB1cmUgSmF2YXNjcmlwdCB2LjAuMC45IChBbHBoYSkgLSBOb3Qgc3VwcG9ydCBnaXZlbiB1bnRpbCBCZXRhIHZlcnNpb24uXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbHZhcm90cmlnby9mdWxsUGFnZS5qc1xyXG4gKiBNSVQgbGljZW5zZWRcclxuICpcclxuICogQ29weXJpZ2h0IChDKSAyMDEzIGFsdmFyb3RyaWdvLmNvbSAtIEEgcHJvamVjdCBieSBBbHZhcm8gVHJpZ29cclxuICovXHJcbihmdW5jdGlvbiggcm9vdCwgd2luZG93LCBkb2N1bWVudCwgZmFjdG9yeSwgdW5kZWZpbmVkICkge1xyXG4gICAgaWYoIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcclxuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXHJcbiAgICAgICAgZGVmaW5lKCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcm9vdC5mdWxscGFnZSA9IGZhY3Rvcnkod2luZG93LCBkb2N1bWVudCk7XHJcbiAgICAgICAgICAgIHJldHVybiByb290LmZ1bGxwYWdlO1xyXG4gICAgICAgIH0gKTtcclxuICAgIH0gZWxzZSBpZiggdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICkge1xyXG4gICAgICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMuXHJcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHdpbmRvdywgZG9jdW1lbnQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBCcm93c2VyIGdsb2JhbHMuXHJcbiAgICAgICAgd2luZG93LmZ1bGxwYWdlID0gZmFjdG9yeSh3aW5kb3csIGRvY3VtZW50KTtcclxuICAgIH1cclxufSh0aGlzLCB3aW5kb3csIGRvY3VtZW50LCBmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpe1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBmdWxscGFnZTtcclxuXHJcbiAgICAvL0NPTlNUQU5UU1xyXG5cclxuICAgIC8vIGtlZXBpbmcgY2VudHJhbCBzZXQgb2YgY2xhc3NuYW1lcyBhbmQgc2VsZWN0b3JzXHJcbiAgICB2YXIgV1JBUFBFUiA9ICAgICAgICAgICAgICAgJ2Z1bGxwYWdlLXdyYXBwZXInO1xyXG4gICAgdmFyIFdSQVBQRVJfU0VMID0gICAgICAgICAgICcuJyArIFdSQVBQRVI7XHJcblxyXG4gICAgLy8gdXRpbFxyXG4gICAgdmFyIFJFU1BPTlNJVkUgPSAgICAgICAgICAgICdmcC1yZXNwb25zaXZlJztcclxuICAgIHZhciBOT19UUkFOU0lUSU9OID0gICAgICAgICAnZnAtbm90cmFuc2l0aW9uJztcclxuICAgIHZhciBERVNUUk9ZRUQgPSAgICAgICAgICAgICAnZnAtZGVzdHJveWVkJztcclxuICAgIHZhciBFTkFCTEVEID0gICAgICAgICAgICAgICAnZnAtZW5hYmxlZCc7XHJcbiAgICB2YXIgVklFV0lOR19QUkVGSVggPSAgICAgICAgJ2ZwLXZpZXdpbmcnO1xyXG4gICAgdmFyIEFDVElWRSA9ICAgICAgICAgICAgICAgICdhY3RpdmUnO1xyXG4gICAgdmFyIEFDVElWRV9TRUwgPSAgICAgICAgICAgICcuJyArIEFDVElWRTtcclxuXHJcbiAgICAvLyBzZWN0aW9uXHJcbiAgICB2YXIgU0VDVElPTl9ERUZBVUxUX1NFTCA9ICAgJy5zZWN0aW9uJztcclxuICAgIHZhciBTRUNUSU9OID0gICAgICAgICAgICAgICAnZnAtc2VjdGlvbic7XHJcbiAgICB2YXIgU0VDVElPTl9TRUwgPSAgICAgICAgICAgJy4nICsgU0VDVElPTjtcclxuICAgIHZhciBTRUNUSU9OX0FDVElWRV9TRUwgPSAgICBTRUNUSU9OX1NFTCArIEFDVElWRV9TRUw7XHJcblxyXG4gICAgLy8gc2VjdGlvbiBuYXZcclxuICAgIHZhciBTRUNUSU9OX05BViA9ICAgICAgICAgICAnZnAtbmF2JztcclxuICAgIHZhciBTRUNUSU9OX05BVl9TRUwgPSAgICAgICAnIycgKyBTRUNUSU9OX05BVjtcclxuICAgIHZhciBTRUNUSU9OX05BVl9UT09MVElQID0gICAnZnAtdG9vbHRpcCc7XHJcbiAgICB2YXIgU0hPV19BQ1RJVkVfVE9PTFRJUCA9ICAgJ2ZwLXNob3ctYWN0aXZlJztcclxuXHJcbiAgICAvLyBzbGlkZVxyXG4gICAgdmFyIFNMSURFX0RFRkFVTFRfU0VMID0gICAgICcuc2xpZGUnO1xyXG4gICAgdmFyIFNMSURFID0gICAgICAgICAgICAgICAgICdmcC1zbGlkZSc7XHJcbiAgICB2YXIgU0xJREVfU0VMID0gICAgICAgICAgICAgJy4nICsgU0xJREU7XHJcbiAgICB2YXIgU0xJREVfQUNUSVZFX1NFTCA9ICAgICAgU0xJREVfU0VMICsgQUNUSVZFX1NFTDtcclxuICAgIHZhciBTTElERVNfV1JBUFBFUiA9ICAgICAgICAnZnAtc2xpZGVzJztcclxuICAgIHZhciBTTElERVNfV1JBUFBFUl9TRUwgPSAgICAnLicgKyBTTElERVNfV1JBUFBFUjtcclxuICAgIHZhciBTTElERVNfQ09OVEFJTkVSID0gICAgICAnZnAtc2xpZGVzQ29udGFpbmVyJztcclxuICAgIHZhciBTTElERVNfQ09OVEFJTkVSX1NFTCA9ICAnLicgKyBTTElERVNfQ09OVEFJTkVSO1xyXG4gICAgdmFyIFRBQkxFID0gICAgICAgICAgICAgICAgICdmcC10YWJsZSc7XHJcblxyXG4gICAgLy8gc2xpZGUgbmF2XHJcbiAgICB2YXIgU0xJREVTX05BViA9ICAgICAgICAgICAgJ2ZwLXNsaWRlc05hdic7XHJcbiAgICB2YXIgU0xJREVTX05BVl9TRUwgPSAgICAgICAgJy4nICsgU0xJREVTX05BVjtcclxuICAgIHZhciBTTElERVNfTkFWX0xJTktfU0VMID0gICBTTElERVNfTkFWX1NFTCArICcgYSc7XHJcbiAgICB2YXIgU0xJREVTX0FSUk9XID0gICAgICAgICAgJ2ZwLWNvbnRyb2xBcnJvdyc7XHJcbiAgICB2YXIgU0xJREVTX0FSUk9XX1NFTCA9ICAgICAgJy4nICsgU0xJREVTX0FSUk9XO1xyXG4gICAgdmFyIFNMSURFU19QUkVWID0gICAgICAgICAgICdmcC1wcmV2JztcclxuICAgIHZhciBTTElERVNfUFJFVl9TRUwgPSAgICAgICAnLicgKyBTTElERVNfUFJFVjtcclxuICAgIHZhciBTTElERVNfQVJST1dfUFJFViA9ICAgICBTTElERVNfQVJST1cgKyAnICcgKyBTTElERVNfUFJFVjtcclxuICAgIHZhciBTTElERVNfQVJST1dfUFJFVl9TRUwgPSBTTElERVNfQVJST1dfU0VMICsgU0xJREVTX1BSRVZfU0VMO1xyXG4gICAgdmFyIFNMSURFU19ORVhUID0gICAgICAgICAgICdmcC1uZXh0JztcclxuICAgIHZhciBTTElERVNfTkVYVF9TRUwgPSAgICAgICAnLicgKyBTTElERVNfTkVYVDtcclxuICAgIHZhciBTTElERVNfQVJST1dfTkVYVCA9ICAgICBTTElERVNfQVJST1cgKyAnICcgKyBTTElERVNfTkVYVDtcclxuICAgIHZhciBTTElERVNfQVJST1dfTkVYVF9TRUwgPSBTTElERVNfQVJST1dfU0VMICsgU0xJREVTX05FWFRfU0VMO1xyXG5cclxuICAgIC8vZ2xvYmFsc1xyXG4gICAgdmFyIG9wdGlvbnM7XHJcbiAgICB2YXIgc2xpZGVNb3ZpbmcgPSBmYWxzZTtcclxuICAgIHZhciBpc1RvdWNoRGV2aWNlID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvKGlQaG9uZXxpUG9kfGlQYWR8QW5kcm9pZHxwbGF5Ym9va3xzaWxrfEJsYWNrQmVycnl8QkIxMHxXaW5kb3dzIFBob25lfFRpemVufEJhZGF8d2ViT1N8SUVNb2JpbGV8T3BlcmEgTWluaSkvKTtcclxuICAgIHZhciBpc1RvdWNoID0gKCgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpIHx8IChuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyA+IDApIHx8IChuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMpKTtcclxuICAgIHZhciB3aW5kb3dzSGVpZ2h0ID0gZ2V0V2luZG93SGVpZ2h0KCk7XHJcbiAgICB2YXIgaXNSZXNpemluZyA9IGZhbHNlO1xyXG4gICAgdmFyIGxhc3RTY3JvbGxlZERlc3Rpbnk7XHJcbiAgICB2YXIgbGFzdFNjcm9sbGVkU2xpZGU7XHJcbiAgICB2YXIgY2FuU2Nyb2xsID0gdHJ1ZTtcclxuICAgIHZhciBzY3JvbGxpbmdzID0gW107XHJcbiAgICB2YXIgbmF2O1xyXG4gICAgdmFyIGFjdGl2ZUFuaW1hdGlvbjtcclxuICAgIHZhciBvcmlnaW5hbHM7XHJcbiAgICB2YXIgY29udGFpbmVyO1xyXG5cclxuICAgIC8vZWFzZUluT3V0Q3ViaWMgYW5pbWF0aW9uIGluY2x1ZGVkIGluIHRoZSBwbHVnaW5cclxuICAgIE1hdGguZWFzZUluT3V0Q3ViaWMgPSBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgIGlmICgodC89ZC8yKSA8IDEpIHJldHVybiBjLzIqdCp0KnQgKyBiO3JldHVybiBjLzIqKCh0LT0yKSp0KnQgKyAyKSArIGI7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemUoZWxlbWVudCwgY3VzdG9tT3B0aW9ucyl7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBzb21lIGRlZmF1bHRzLCBleHRlbmRpbmcgdGhlbSB3aXRoIGFueSBvcHRpb25zIHRoYXQgd2VyZSBwcm92aWRlZFxyXG4gICAgICAgIHZhciBkZWZhdWx0cyA9IHtcclxuICAgICAgICAgICAgLy9uYXZpZ2F0aW9uXHJcbiAgICAgICAgICAgIG1lbnU6IGZhbHNlLFxyXG4gICAgICAgICAgICBhbmNob3JzOltdLFxyXG4gICAgICAgICAgICBuYXZpZ2F0aW9uOiBmYWxzZSxcclxuICAgICAgICAgICAgbmF2aWdhdGlvblBvc2l0aW9uOiAncmlnaHQnLFxyXG4gICAgICAgICAgICBuYXZpZ2F0aW9uQ29sb3I6ICcjMDAwJyxcclxuICAgICAgICAgICAgbmF2aWdhdGlvblRvb2x0aXBzOiBbXSxcclxuICAgICAgICAgICAgc2hvd0FjdGl2ZVRvb2x0aXA6IGZhbHNlLFxyXG4gICAgICAgICAgICBzbGlkZXNOYXZpZ2F0aW9uOiBmYWxzZSxcclxuICAgICAgICAgICAgc2xpZGVzTmF2UG9zaXRpb246ICdib3R0b20nLFxyXG4gICAgICAgICAgICBzY3JvbGxCYXI6IGZhbHNlLFxyXG5cclxuICAgICAgICAgICAgLy9zY3JvbGxpbmdcclxuICAgICAgICAgICAgY3NzMzogdHJ1ZSxcclxuICAgICAgICAgICAgc2Nyb2xsaW5nU3BlZWQ6IDcwMCxcclxuICAgICAgICAgICAgYXV0b1Njcm9sbGluZzogdHJ1ZSxcclxuICAgICAgICAgICAgZml0VG9TZWN0aW9uOiB0cnVlLFxyXG4gICAgICAgICAgICBmaXRUb1NlY3Rpb25EZWxheTogMTAwMCxcclxuICAgICAgICAgICAgZWFzaW5nY3NzMzogJ2Vhc2UnLFxyXG4gICAgICAgICAgICBsb29wSG9yaXpvbnRhbDogdHJ1ZSxcclxuICAgICAgICAgICAgdG91Y2hTZW5zaXRpdml0eTogNSxcclxuXHJcbiAgICAgICAgICAgIC8vQWNjZXNzaWJpbGl0eVxyXG4gICAgICAgICAgICBrZXlib2FyZFNjcm9sbGluZzogdHJ1ZSxcclxuICAgICAgICAgICAgcmVjb3JkSGlzdG9yeTogdHJ1ZSxcclxuXHJcbiAgICAgICAgICAgIC8vZGVzaWduXHJcbiAgICAgICAgICAgIGNvbnRyb2xBcnJvd3M6IHRydWUsXHJcblxyXG4gICAgICAgICAgICAvL0N1c3RvbSBzZWxlY3RvcnNcclxuICAgICAgICAgICAgc2VjdGlvblNlbGVjdG9yOiBTRUNUSU9OX0RFRkFVTFRfU0VMLFxyXG4gICAgICAgICAgICBzbGlkZVNlbGVjdG9yOiBTTElERV9ERUZBVUxUX1NFTCxcclxuXHJcblxyXG4gICAgICAgICAgICAvL2V2ZW50c1xyXG4gICAgICAgICAgICBhZnRlckxvYWQ6IG51bGwsXHJcbiAgICAgICAgICAgIG9uTGVhdmU6IG51bGwsXHJcbiAgICAgICAgICAgIGFmdGVyUmVuZGVyOiBudWxsLFxyXG4gICAgICAgICAgICBhZnRlclJlc2l6ZTogbnVsbCxcclxuICAgICAgICAgICAgYWZ0ZXJSZUJ1aWxkOiBudWxsLFxyXG4gICAgICAgICAgICBhZnRlclNsaWRlTG9hZDogbnVsbCxcclxuICAgICAgICAgICAgb25TbGlkZUxlYXZlOiBudWxsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgb3B0aW9ucyA9IGV4dGVuZChkZWZhdWx0cywgY3VzdG9tT3B0aW9ucyk7XHJcblxyXG4gICAgICAgIG9yaWdpbmFscyA9IGNsb25lKG9wdGlvbnMpOyAvL2RlZXAgY29weVxyXG4gICAgICAgIGNvbnRhaW5lciA9ICQoZWxlbWVudCk7XHJcblxyXG4gICAgICAgIGluaXQoYWZ0ZXJEb21SZWFkeSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdChjYWxsYmFjayl7XHJcbiAgICAgICAgcmVtb3ZlQ2xhc3MoY29udGFpbmVyLCBERVNUUk9ZRUQpOyAvL2luIGNhc2UgaXQgd2FzIGRlc3Ryb3llZCBiZWZvcmUgaW5pdGlsaXppbmcgaXQgYWdhaW5cclxuICAgICAgICBkaXNwbGF5V2FybmluZ3MoKTtcclxuXHJcbiAgICAgICAgLy9pZiBjc3MzIGlzIG5vdCBzdXBwb3J0ZWQsIGl0IHdpbGwgdXNlIGpRdWVyeSBhbmltYXRpb25zXHJcbiAgICAgICAgaWYob3B0aW9ucy5jc3MzKXtcclxuICAgICAgICAgICAgb3B0aW9ucy5jc3MzID0gc3VwcG9ydDNkKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihjb250YWluZXIgIT09IG51bGwpe1xyXG4gICAgICAgICAgICBjc3MoY29udGFpbmVyLCB7XHJcbiAgICAgICAgICAgICAgICAnaGVpZ2h0JzogJzEwMCUnLFxyXG4gICAgICAgICAgICAgICAgJ3Bvc2l0aW9uJzogJ3JlbGF0aXZlJ1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vYWRkaW5nIGEgY2xhc3MgdG8gcmVjb2duaXplIHRoZSBjb250YWluZXIgaW50ZXJuYWxseSBpbiB0aGUgY29kZVxyXG4gICAgICAgICAgICBhZGRDbGFzcyhjb250YWluZXIsIFdSQVBQRVIpO1xyXG4gICAgICAgICAgICBhZGRDbGFzcygkKCdodG1sJyksIEVOQUJMRUQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL3RyeWluZyB0byB1c2UgZnVsbHBhZ2Ugd2l0aG91dCBhIHNlbGVjdG9yP1xyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHNob3dFcnJvcignZXJyb3InLCAnRXJyb3IhIEZ1bGxwYWdlLmpzIG5lZWRzIHRvIGJlIGluaXRpYWxpemVkIHdpdGggYSBzZWxlY3Rvci4gRm9yIGV4YW1wbGU6IGZ1bGxwYWdlKFxcJyNmdWxscGFnZVxcJyk7Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZXRNb3VzZVdoZWVsU2Nyb2xsaW5nKHRydWUpO1xyXG4gICAgICAgIGFkZFRvdWNoSGFuZGxlcigpO1xyXG4gICAgICAgIGFkZFJlc2l6ZUhhbmRsZXIoKTtcclxuICAgICAgICBhZGRTY3JvbGxIYW5kbGVyKCk7XHJcblxyXG4gICAgICAgIC8vYWRkaW5nIGludGVybmFsIGNsYXNzIG5hbWVzIHRvIHZvaWQgcHJvYmxlbSB3aXRoIGNvbW1vbiBvbmVzXHJcbiAgICAgICAgdmFyIG9yaWdpbmFsU2VjdGlvbnMgPSAkJChvcHRpb25zLnNlY3Rpb25TZWxlY3Rvcik7XHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG9yaWdpbmFsU2VjdGlvbnMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgYWRkQ2xhc3Mob3JpZ2luYWxTZWN0aW9uc1tpXSwgU0VDVElPTik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgb3JpZ2luYWxTbGlkZXMgPSAkJChvcHRpb25zLnNsaWRlU2VsZWN0b3IpO1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBvcmlnaW5hbFNsaWRlcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBhZGRDbGFzcyhvcmlnaW5hbFNsaWRlc1tpXSwgU0xJREUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9jcmVhdGluZyB0aGUgbmF2aWdhdGlvbiBkb3RzXHJcbiAgICAgICAgaWYgKG9wdGlvbnMubmF2aWdhdGlvbikge1xyXG4gICAgICAgICAgICBhZGRWZXJ0aWNhbE5hdmlnYXRpb24oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBzZWN0aW9ucyA9ICQkKFNFQ1RJT05fU0VMKTtcclxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpPHNlY3Rpb25zLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gaTtcclxuICAgICAgICAgICAgdmFyIHNlY3Rpb24gPSBzZWN0aW9uc1tpXTtcclxuICAgICAgICAgICAgdmFyIHRoYXQgPSBzZWN0aW9uO1xyXG4gICAgICAgICAgICB2YXIgc2xpZGVzID0gJCQoU0xJREVfU0VMLCBzZWN0aW9uKTtcclxuICAgICAgICAgICAgdmFyIG51bVNsaWRlcyA9IHNsaWRlcy5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAvL2lmIG5vIGFjdGl2ZSBzZWN0aW9uIGlzIGRlZmluZWQsIHRoZSAxc3Qgb25lIHdpbGwgYmUgdGhlIGRlZmF1bHQgb25lXHJcbiAgICAgICAgICAgIGlmKCFpbmRleCAmJiAkKFNFQ1RJT05fQUNUSVZFX1NFTCkgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGFkZENsYXNzKHNlY3Rpb24sIEFDVElWRSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5hbmNob3JzW2luZGV4XSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIHNlY3Rpb24uc2V0QXR0cmlidXRlKCdkYXRhLWFuY2hvcicsIG9wdGlvbnMuYW5jaG9yc1tpbmRleF0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vYWN0aXZhdGluZyB0aGUgbWVudSAvIG5hdiBlbGVtZW50IG9uIGxvYWRcclxuICAgICAgICAgICAgICAgIGlmKGhhc0NsYXNzKHNlY3Rpb24sIEFDVElWRSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2YXRlTWVudUFuZE5hdihvcHRpb25zLmFuY2hvcnNbaW5kZXhdLCBpbmRleCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlJ3MgYW55IHNsaWRlXHJcbiAgICAgICAgICAgIGlmIChudW1TbGlkZXMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2xpZGVyV2lkdGggPSBudW1TbGlkZXMgKiAxMDA7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2xpZGVXaWR0aCA9IDEwMCAvIG51bVNsaWRlcztcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgc2xpZGVzSFRNTCA9IHNlY3Rpb24uaW5uZXJIVE1MO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5ld0hUTUwgPSAnPGRpdiBjbGFzcz1cIicrIFNMSURFU19XUkFQUEVSICsnXCI+PGRpdiBjbGFzcz1cIicrU0xJREVTX0NPTlRBSU5FUisnXCI+JyArIHNsaWRlc0hUTUwgKyAnPC9kaXY+PC9kaXY+JztcclxuICAgICAgICAgICAgICAgIHNlY3Rpb24uaW5uZXJIVE1MID0gbmV3SFRNTDtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2dldHRpbmcgYWdhaW4gdGhlIE5FVyBkb20gZWxlbWVudHMgYWZ0ZXIgaW5uZXJIVE1MXHJcbiAgICAgICAgICAgICAgICBzbGlkZXMgPSAkJChTTElERV9TRUwsIHNlY3Rpb24pO1xyXG5cclxuICAgICAgICAgICAgICAgIHNldENzcygkKFNMSURFU19DT05UQUlORVJfU0VMLCBzZWN0aW9uKSwgJ3dpZHRoJywgIHNsaWRlcldpZHRoICsgJyUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihvcHRpb25zLmNvbnRyb2xBcnJvd3MgJiYgbnVtU2xpZGVzID4gMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2xpZGVBcnJvd3Moc2VjdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy5zbGlkZXNOYXZpZ2F0aW9uKXtcclxuICAgICAgICAgICAgICAgICAgICBhZGRTbGlkZXNOYXZpZ2F0aW9uKHNlY3Rpb24sIG51bVNsaWRlcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGZvcih2YXIgYSA9IDA7IGE8c2xpZGVzLmxlbmd0aDsgYSsrKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudFNsaWRlID0gc2xpZGVzW2FdO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldENzcyhjdXJyZW50U2xpZGUsICd3aWR0aCcsIHNsaWRlV2lkdGggKyAnJScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzdGFydGluZ1NsaWRlID0gJChTTElERV9BQ1RJVkVfU0VMLCBzZWN0aW9uKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2lmIHRoZSBzbGlkZSB3b24jdCBiZSBhbiBzdGFydGluZyBwb2ludCwgdGhlIGRlZmF1bHQgd2lsbCBiZSB0aGUgZmlyc3Qgb25lXHJcbiAgICAgICAgICAgICAgICBpZih0eXBlb2Ygc3RhcnRpbmdTbGlkZSAhPT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3Moc2xpZGVzWzBdLCBBQ1RJVkUpO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL2lzIHRoZXJlIGEgc3RhcnRpbmcgcG9pbnQgZm9yIGEgbm9uLXN0YXJ0aW5nIHNlY3Rpb24/XHJcbiAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHNpbGVudExhbmRzY2FwZVNjcm9sbChzdGFydGluZ1NsaWRlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWZ0ZXJEb21SZWFkeSgpe1xyXG4gICAgICAgIC8vYWRkaW5nIGV2ZW50IGZvciBob3Jpem9udGFsIHNsaWRlcyBhcnJvd3MgbmF2aWdhdGlvblxyXG4gICAgICAgIHZhciBzbGlkZXNBcnJvd3MgPSAkJChTTElERVNfQVJST1dfU0VMKTtcclxuICAgICAgICBmb3IodmFyIGk9MDsgaTxzbGlkZXNBcnJvd3MubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBhZGRMaXN0ZW5lck11bHRpKCBzbGlkZXNBcnJvd3NbaV0sICdjbGljayBvbmNsaWNrIHRvdWNoc3RhcnQnLCBhcnJvd3NIYW5kbGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldEF1dG9TY3JvbGxpbmcob3B0aW9ucy5hdXRvU2Nyb2xsaW5nLCAnaW50ZXJuYWwnKTtcclxuXHJcbiAgICAgICAgLy90aGUgc3RhcnRpbmcgcG9pbnQgaXMgYSBzbGlkZT9cclxuICAgICAgICB2YXIgYWN0aXZlU2VjdGlvbiA9ICQoU0VDVElPTl9BQ1RJVkVfU0VMKTtcclxuXHJcbiAgICAgICAgdmFyIGFjdGl2ZVNsaWRlID0gJChTTElERV9BQ1RJVkVfU0VMLCBhY3RpdmVTZWN0aW9uKTtcclxuICAgICAgICB2YXIgYWN0aXZlU2VjdGlvbkluZGV4ID0gZ2V0Tm9kZUluZGV4KCQoU0VDVElPTl9BQ1RJVkVfU0VMKSk7XHJcblxyXG4gICAgICAgIC8vdGhlIGFjdGl2ZSBzZWN0aW9uIGlzbid0IHRoZSBmaXJzdCBvbmU/IElzIG5vdCB0aGUgZmlyc3Qgc2xpZGUgb2YgdGhlIGZpcnN0IHNlY3Rpb24/IFRoZW4gd2UgbG9hZCB0aGF0IHNlY3Rpb24vc2xpZGUgYnkgZGVmYXVsdC5cclxuICAgICAgICBpZiggYWN0aXZlU2xpZGUgJiYgIChhY3RpdmVTZWN0aW9uSW5kZXggIT09MCB8fCAoYWN0aXZlU2VjdGlvbkluZGV4ID09PSAwICYmICBnZXROb2RlSW5kZXgoYWN0aXZlU2xpZGUpICE9PSAwKSkpe1xyXG4gICAgICAgICAgICBzaWxlbnRMYW5kc2NhcGVTY3JvbGwoYWN0aXZlU2xpZGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy92ZXJ0aWNhbCBjZW50ZXJlZCBvZiB0aGUgbmF2aWdhdGlvbiArIGZpcnN0IGJ1bGxldCBhY3RpdmVcclxuICAgICAgICBpZihvcHRpb25zLm5hdmlnYXRpb24pe1xyXG4gICAgICAgICAgICBzZXRDc3MobmF2LCAnbWFyZ2luLXRvcCcsICctJyArIChuYXYub2Zmc2V0SGVpZ2h0LzIpICsgJ3B4Jyk7XHJcbiAgICAgICAgICAgIHZhciBhY3RpdmVMaSA9ICQkKCdsaScsIG5hdilbZ2V0Tm9kZUluZGV4KCQoU0VDVElPTl9BQ1RJVkVfU0VMKSldO1xyXG4gICAgICAgICAgICBhZGRDbGFzcyggJCgnYScsIGFjdGl2ZUxpKSwgQUNUSVZFKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGFmdGVyUmVuZGVyQWN0aW9ucygpO1xyXG5cclxuICAgICAgICAvL2dldHRpbmcgdGhlIGFuY2hvciBsaW5rIGluIHRoZSBVUkwgYW5kIGRlbGV0aW5nIHRoZSBgI2BcclxuICAgICAgICB2YXIgdmFsdWUgPSAgd2luZG93LmxvY2F0aW9uLmhhc2gucmVwbGFjZSgnIycsICcnKS5zcGxpdCgnLycpO1xyXG4gICAgICAgIHZhciBkZXN0aW55ID0gdmFsdWVbMF07XHJcblxyXG4gICAgICAgIGlmKGRlc3RpbnkubGVuZ3RoKXtcclxuICAgICAgICAgICAgdmFyIHNlY3Rpb24gPSAkKCdbZGF0YS1hbmNob3I9XCInK2Rlc3RpbnkrJ1wiXScpO1xyXG5cclxuICAgICAgICAgICAgaWYoIW9wdGlvbnMuYW5pbWF0ZUFuY2hvciAmJiBzZWN0aW9uLmxlbmd0aCl7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy5hdXRvU2Nyb2xsaW5nKXtcclxuICAgICAgICAgICAgICAgICAgICBzaWxlbnRTY3JvbGwoc2VjdGlvbi5vZmZzZXRUb3ApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBzaWxlbnRTY3JvbGwoMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0Qm9keUNsYXNzKGRlc3RpbnkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL3Njcm9sbGluZyB0aGUgcGFnZSB0byB0aGUgc2VjdGlvbiB3aXRoIG5vIGFuaW1hdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzY3JvbGxTZXR0aW5ncyA9IGdldFNjcm9sbFNldHRpbmdzKHNlY3Rpb24ub2Zmc2V0VG9wKTtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUbyhzY3JvbGxTZXR0aW5ncy5lbGVtZW50LCBzY3JvbGxTZXR0aW5ncy5vcHRpb25zLCAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBhY3RpdmF0ZU1lbnVBbmROYXYoZGVzdGlueSwgbnVsbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaXNGdW5jdGlvbiggb3B0aW9ucy5hZnRlckxvYWQgKSAmJiBvcHRpb25zLmFmdGVyTG9hZC5jYWxsKCBzZWN0aW9uLCBkZXN0aW55LCAoZ2V0Tm9kZUluZGV4KHNlY3Rpb24pICsgMSkpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vdXBkYXRpbmcgdGhlIGFjdGl2ZSBjbGFzc1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoYWN0aXZlU2VjdGlvbiwgQUNUSVZFKTtcclxuICAgICAgICAgICAgICAgIGFkZENsYXNzKHNlY3Rpb24sIEFDVElWRSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vc2V0dGluZyB0aGUgY2xhc3MgZm9yIHRoZSBib2R5IGVsZW1lbnRcclxuICAgICAgICBzZXRCb2R5Q2xhc3MoKTtcclxuXHJcbiAgICAgICAgLy9zdXBwb3J0IGZvciBJRSA+IDhcclxuICAgICAgICBhZGRIYW5kbGVyKGRvY3VtZW50LCBzY3JvbGxUb0FuY2hvciwgJ0RPTUNvbnRlbnRMb2FkZWQnLCAnRE9NQ29udGVudExvYWRlZCcsICdET01Db250ZW50TG9hZGVkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tIEphdmFzY3JpcHQgaGVscGVycyAgLS0tLS0tLS0tLS0tLS0tKi9cclxuXHJcbiAgICAvKipcclxuICAgICogUmVwbGFjZW1lbnQgb2YgalF1ZXJ5IGV4dGVuZCBtZXRob2QuXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gZXh0ZW5kKGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKXtcclxuICAgICAgICAvL2NyZWF0aW5nIHRoZSBvYmplY3QgaWYgaXQgZG9lc250IGV4aXN0XHJcbiAgICAgICAgaWYodHlwZW9mKG9wdGlvbnMpICE9PSAnb2JqZWN0Jyl7XHJcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvcih2YXIga2V5IGluIG9wdGlvbnMpe1xyXG4gICAgICAgICAgICBpZihkZWZhdWx0T3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShrZXkpKXtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHRPcHRpb25zW2tleV0gPSBvcHRpb25zW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBkZWZhdWx0T3B0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRCeUlkKGVsZW1lbnQpe1xyXG4gICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRCeVRhZyhlbGVtZW50KXtcclxuICAgICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZWxlbWVudClbMF07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3NzKCBlbCwgcHJvcHMgKSB7XHJcbiAgICAgICAgdmFyIGtleTtcclxuICAgICAgICBmb3IgKCBrZXkgaW4gcHJvcHMgKSB7XHJcbiAgICAgICAgICAgIGlmICggcHJvcHMuaGFzT3duUHJvcGVydHkoa2V5KSApIHtcclxuICAgICAgICAgICAgICAgIGlmICgga2V5ICE9PSBudWxsICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLnN0eWxlW2tleV0gPSBwcm9wc1trZXldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlbDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRDc3MoZWxlbWVudCwgc3R5bGUsIHZhbHVlKXtcclxuICAgICAgICBlbGVtZW50LnN0eWxlW3N0eWxlXSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uICQoc2VsZWN0b3IsIGNvbnRleHQpe1xyXG4gICAgICAgIGNvbnRleHQgPSBjb250ZXh0IHx8IGRvY3VtZW50O1xyXG4gICAgICAgIHJldHVybiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uICQkKHNlbGVjdG9yLCBjb250ZXh0KXtcclxuICAgICAgICBjb250ZXh0ID0gY29udGV4dCB8fCBkb2N1bWVudDtcclxuICAgICAgICByZXR1cm4gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXROb2RlSW5kZXgobm9kZSkge1xyXG4gICAgICAgIHZhciBpbmRleCA9IDA7XHJcbiAgICAgICAgd2hpbGUgKCAobm9kZSA9IG5vZGUucHJldmlvdXNTaWJsaW5nKSApIHtcclxuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgIT0gMyB8fCAhL15cXHMqJC8udGVzdChub2RlLmRhdGEpKSB7XHJcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbmRleDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB0b2dnbGUoZWxlbWVudCwgZGlzcGxheSkge1xyXG4gICAgICAgIGlmKHR5cGVvZiBkaXNwbGF5IT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgaWYoZGlzcGxheSl7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICBpZiggZWxlbWVudC5zdHlsZS5kaXNwbGF5ID09ICdibG9jaycgKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICAvL2h0dHA6Ly9qYWtldHJlbnQuY29tL3Bvc3QvYWRkcmVtb3ZlLWNsYXNzZXMtcmF3LWphdmFzY3JpcHQvXHJcbiAgICBmdW5jdGlvbiBoYXNDbGFzcyhlbGUsY2xzKSB7XHJcbiAgICAgICAgcmV0dXJuICEhZWxlLmNsYXNzTmFtZS5tYXRjaChuZXcgUmVnRXhwKCcoXFxcXHN8XiknK2NscysnKFxcXFxzfCQpJykpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xyXG4gICAgICAgIGlmIChlbGVtZW50ICYmIGhhc0NsYXNzKGVsZW1lbnQsY2xhc3NOYW1lKSkge1xyXG4gICAgICAgICAgICB2YXIgcmVnID0gbmV3IFJlZ0V4cCgnKFxcXFxzfF4pJytjbGFzc05hbWUrJyhcXFxcc3wkKScpO1xyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZT1lbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKHJlZywnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xyXG4gICAgICAgIGlmIChlbGVtZW50ICYmICFoYXNDbGFzcyhlbGVtZW50LGNsYXNzTmFtZSkpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gJyAnK2NsYXNzTmFtZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9odHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzIyMTAwODUzL2RvbS1wdXJlLWphdmFzY3JpcHQtc29sdXRpb24tdG8tanF1ZXJ5LWNsb3Nlc3QtaW1wbGVtZW50YXRpb25cclxuICAgIGZ1bmN0aW9uIGNsb3Nlc3QoZWwsIGZuKSB7XHJcbiAgICAgICAgcmV0dXJuIGVsICYmIChcclxuICAgICAgICAgICAgZm4oZWwpID8gZWwgOiBjbG9zZXN0KGVsLnBhcmVudE5vZGUsIGZuKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0V2luZG93V2lkdGgoKXtcclxuICAgICAgICByZXR1cm4gICdpbm5lcldpZHRoJyBpbiB3aW5kb3cgPyB3aW5kb3cuaW5uZXJXaWR0aCA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRXaWR0aDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRXaW5kb3dIZWlnaHQoKXtcclxuICAgICAgICByZXR1cm4gICdpbm5lckhlaWdodCcgaW4gd2luZG93ID8gd2luZG93LmlubmVySGVpZ2h0IDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjbG9uZShvYmopIHtcclxuICAgICAgICBpZiAobnVsbCA9PT0gb2JqIHx8ICdvYmplY3QnICE9PSB0eXBlb2Ygb2JqKXtcclxuICAgICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGNvcHkgPSBvYmouY29uc3RydWN0b3IoKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgYXR0ciBpbiBvYmopIHtcclxuICAgICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShhdHRyKSl7XHJcbiAgICAgICAgICAgICAgICBjb3B5W2F0dHJdID0gb2JqW2F0dHJdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb3B5O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KGV2ZW50KXtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCA/IGV2ZW50LnByZXZlbnREZWZhdWx0KCkgOiBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb24oZnVuY3Rpb25Ub0NoZWNrKSB7XHJcbiAgICAgICAgdmFyIGdldFR5cGUgPSB7fTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb25Ub0NoZWNrICYmIGdldFR5cGUudG9TdHJpbmcuY2FsbChmdW5jdGlvblRvQ2hlY2spID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFkZExpc3RlbmVyTXVsdGkoZWwsIHMsIGZuKSB7XHJcbiAgICAgICAgdmFyIGV2dHMgPSBzLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgZm9yICh2YXIgaT0wLCBpTGVuPWV2dHMubGVuZ3RoOyBpPGlMZW47IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikge1xyXG4gICAgICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldnRzW2ldLCBmbiwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGVsLmF0dGFjaEV2ZW50KGV2dHNbaV0sIGZuLCBmYWxzZSk7IC8vSUUgNi83LzhcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU2ltdWxhdGVzIHRoZSBhbmltYXRlZCBzY3JvbGxUb3Agb2YgalF1ZXJ5LiBVc2VkIHdoZW4gY3NzMzpmYWxzZSBvciBzY3JvbGxCYXI6dHJ1ZSBvciBhdXRvU2Nyb2xsaW5nOmZhbHNlXHJcbiAgICAqIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE2MTM2Nzg5LzEwODEzOTZcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBzY3JvbGxUbyhlbGVtZW50LCB0bywgZHVyYXRpb24sIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIHN0YXJ0ID0gZ2V0U2Nyb2xsZWRQb3NpdGlvbihlbGVtZW50KTtcclxuICAgICAgICB2YXIgY2hhbmdlID0gdG8gLSBzdGFydDtcclxuICAgICAgICB2YXIgY3VycmVudFRpbWUgPSAwO1xyXG4gICAgICAgIHZhciBpbmNyZW1lbnQgPSAyMDtcclxuICAgICAgICBhY3RpdmVBbmltYXRpb24gPSB0cnVlO1xyXG5cclxuICAgICAgICB2YXIgYW5pbWF0ZVNjcm9sbCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGlmKGFjdGl2ZUFuaW1hdGlvbil7IC8vaW4gb3JkZXIgdG8gc3RvcGUgaXQgZnJvbSBvdGhlciBmdW5jdGlvbiB3aGVuZXZlciB3ZSB3YW50XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gdG87XHJcblxyXG4gICAgICAgICAgICAgICAgY3VycmVudFRpbWUgKz0gaW5jcmVtZW50O1xyXG4gICAgICAgICAgICAgICAgdmFsID0gTWF0aC5lYXNlSW5PdXRDdWJpYyhjdXJyZW50VGltZSwgc3RhcnQsIGNoYW5nZSwgZHVyYXRpb24pO1xyXG5cclxuICAgICAgICAgICAgICAgIHNldFNjcm9sbGluZyhlbGVtZW50LCB2YWwpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKGN1cnJlbnRUaW1lIDwgZHVyYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGFuaW1hdGVTY3JvbGwsIGluY3JlbWVudCk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZih0eXBlb2YgY2FsbGJhY2sgIT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZSBpZiAoY3VycmVudFRpbWUgPCBkdXJhdGlvbil7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgYW5pbWF0ZVNjcm9sbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNDY0ODc2L2phdmFzY3JpcHQtZ2V0LXdpbmRvdy14LXktcG9zaXRpb24tZm9yLXNjcm9sbFxyXG4gICAgZnVuY3Rpb24gZ2V0U2Nyb2xsVG9wKCl7XHJcbiAgICAgICAgdmFyIGRvYyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuICAgICAgICByZXR1cm4gKHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2Muc2Nyb2xsVG9wKSAgLSAoZG9jLmNsaWVudFRvcCB8fCAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvL2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvODQyMzM2L2lzLXRoZXJlLWEtd2F5LXRvLXNlbGVjdC1zaWJsaW5nLW5vZGVzXHJcbiAgICBmdW5jdGlvbiBnZXRDaGlsZHJlbihuLCBza2lwTWUpe1xyXG4gICAgICAgIHZhciByID0gW107XHJcbiAgICAgICAgZm9yICggOyBuOyBuID0gbi5uZXh0U2libGluZyApXHJcbiAgICAgICAgICAgaWYgKCBuLm5vZGVUeXBlID09IDEgJiYgbiAhPSBza2lwTWUpXHJcbiAgICAgICAgICAgICAgci5wdXNoKCBuICk7XHJcbiAgICAgICAgcmV0dXJuIHI7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vR2V0cyBzaWJsaW5nc1xyXG4gICAgZnVuY3Rpb24gZ2V0QWxsU2libGluZ3Mobikge1xyXG4gICAgICAgIHJldHVybiBnZXRDaGlsZHJlbihuLnBhcmVudE5vZGUuZmlyc3RDaGlsZCwgbik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbmV4dChlbGVtZW50KXtcclxuICAgICAgICB2YXIgbmV4dFNpYmxpbmcgPSBlbGVtZW50Lm5leHRTaWJsaW5nO1xyXG5cclxuICAgICAgICB3aGlsZShuZXh0U2libGluZyAmJiBuZXh0U2libGluZy5ub2RlVHlwZSAhPSAxKSB7XHJcbiAgICAgICAgICAgIG5leHRTaWJsaW5nID0gbmV4dFNpYmxpbmcubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbmV4dFNpYmxpbmc7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIHByZXYoZWxlbWVudCl7XHJcbiAgICAgICAgdmFyIHByZXZTaWJsaW5nID0gZWxlbWVudC5wcmV2aW91c1NpYmxpbmc7XHJcblxyXG4gICAgICAgIHdoaWxlKHByZXZTaWJsaW5nICYmIHByZXZTaWJsaW5nLm5vZGVUeXBlICE9IDEpIHtcclxuICAgICAgICAgICAgcHJldlNpYmxpbmcgPSBwcmV2U2libGluZy5wcmV2aW91c1NpYmxpbmc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcHJldlNpYmxpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tIEVORCBKYXZhc2NyaXB0IGhlbHBlcnMgIC0tLS0tLS0tLS0tLS0tLSovXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBHZXR0aW5nIHRoZSBwb3NpdGlvbiBvZiB0aGUgZWxlbWVudCB0byBzY3JvbGwgd2hlbiB1c2luZyBqUXVlcnkgYW5pbWF0aW9uc1xyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldFNjcm9sbGVkUG9zaXRpb24oZWxlbWVudCl7XHJcbiAgICAgICAgdmFyIHBvc2l0aW9uO1xyXG5cclxuICAgICAgICAvL2lzIG5vdCB0aGUgd2luZG93IGVsZW1lbnQgYW5kIGlzIGEgc2xpZGU/XHJcbiAgICAgICAgaWYoZWxlbWVudC5zZWxmICE9IHdpbmRvdyAmJiBoYXNDbGFzcyhlbGVtZW50LCBTTElERVNfV1JBUFBFUikpe1xyXG4gICAgICAgICAgICBwb3NpdGlvbiA9IGVsZW1lbnQuc2Nyb2xsTGVmdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZighb3B0aW9ucy5hdXRvU2Nyb2xsaW5nICB8fCBvcHRpb25zLnNjcm9sbEJhcil7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gZ2V0U2Nyb2xsVG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gZWxlbWVudC5vZmZzZXRUb3A7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2dldHMgdGhlIHRvcCBwcm9wZXJ0eSBvZiB0aGUgd3JhcHBlclxyXG4gICAgICAgIHJldHVybiBwb3NpdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRTY3JvbGxpbmcoZWxlbWVudCwgdmFsKXtcclxuICAgICAgICBpZighb3B0aW9ucy5hdXRvU2Nyb2xsaW5nIHx8IG9wdGlvbnMuc2Nyb2xsQmFyIHx8IChlbGVtZW50LnNlbGYgIT0gd2luZG93ICYmIGhhc0NsYXNzKGVsZW1lbnQsIFNMSURFU19XUkFQUEVSKSkpe1xyXG5cclxuICAgICAgICAgICAgLy9zY3JvbGxpbmcgaG9yaXpvbnRhbGx5IHRocm91Z2ggdGhlIHNsaWRlcz9cclxuICAgICAgICAgICAgaWYoZWxlbWVudC5zZWxmICE9IHdpbmRvdyAgJiYgaGFzQ2xhc3MoZWxlbWVudCwgU0xJREVTX1dSQVBQRVIpKXtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2Nyb2xsTGVmdCA9IHZhbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL3ZlcnRpY2FsIHNjcm9sbFxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zY3JvbGxUbygwLCB2YWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRvcCA9IHZhbCArICdweCc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldEF1dG9TY3JvbGxpbmcodmFsdWUsIHR5cGUpe1xyXG4gICAgICAgIHNldFZhcmlhYmxlU3RhdGUoJ2F1dG9TY3JvbGxpbmcnLCB2YWx1ZSwgdHlwZSk7XHJcblxyXG4gICAgICAgIHZhciBlbGVtZW50ID0gJChTRUNUSU9OX0FDVElWRV9TRUwpO1xyXG5cclxuICAgICAgICBpZihvcHRpb25zLmF1dG9TY3JvbGxpbmcgJiYgIW9wdGlvbnMuc2Nyb2xsQmFyKXtcclxuXHJcbiAgICAgICAgICAgIGNzcyhkb2N1bWVudC5ib2R5LCB7XHJcbiAgICAgICAgICAgICAgICAnb3ZlcmZsb3cnOiAnaGlkZGVuJyxcclxuICAgICAgICAgICAgICAgICdoZWlnaHQnOiAnMTAwJSdcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjc3MoZ2V0QnlUYWcoJ2h0bWwnKSx7XHJcbiAgICAgICAgICAgICAgICAnb3ZlcmZsb3cnOiAnaGlkZGVuJyxcclxuICAgICAgICAgICAgICAgICdoZWlnaHQnOiAnMTAwJSdcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBzZXRSZWNvcmRIaXN0b3J5KG9wdGlvbnMucmVjb3JkSGlzdG9yeSwgJ2ludGVybmFsJyk7XHJcblxyXG4gICAgICAgICAgICAvL2ZvciBJRSB0b3VjaCBkZXZpY2VzXHJcbiAgICAgICAgICAgIGNzcyhjb250YWluZXIsIHtcclxuICAgICAgICAgICAgICAgICctbXMtdG91Y2gtYWN0aW9uJzogJ25vbmUnLFxyXG4gICAgICAgICAgICAgICAgJ3RvdWNoLWFjdGlvbic6ICdub25lJ1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmKGVsZW1lbnQpe1xyXG4gICAgICAgICAgICAgICAgLy9tb3ZpbmcgdGhlIGNvbnRhaW5lciB1cFxyXG4gICAgICAgICAgICAgICAgc2lsZW50U2Nyb2xsKGVsZW1lbnQub2Zmc2V0VG9wKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgY3NzKGRvY3VtZW50LmJvZHksIHtcclxuICAgICAgICAgICAgICAgICdvdmVyZmxvdyc6ICd2aXNpYmxlJyxcclxuICAgICAgICAgICAgICAgICdoZWlnaHQnOiAnMTAwJSdcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjc3MoZ2V0QnlUYWcoJ2h0bWwnKSx7XHJcbiAgICAgICAgICAgICAgICAnb3ZlcmZsb3cnOiAndmlzaWJsZScsXHJcbiAgICAgICAgICAgICAgICAnaGVpZ2h0JzogJzEwMCUnXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgc2V0UmVjb3JkSGlzdG9yeShmYWxzZSwgJ2ludGVybmFsJyk7XHJcblxyXG4gICAgICAgICAgICAvL2ZvciBJRSB0b3VjaCBkZXZpY2VzXHJcbiAgICAgICAgICAgIGNzcyhjb250YWluZXIsIHtcclxuICAgICAgICAgICAgICAgICctbXMtdG91Y2gtYWN0aW9uJzogJycsXHJcbiAgICAgICAgICAgICAgICAndG91Y2gtYWN0aW9uJzogJydcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBzaWxlbnRTY3JvbGwoMCk7XHJcblxyXG4gICAgICAgICAgICAvL3Njcm9sbGluZyB0aGUgcGFnZSB0byB0aGUgc2VjdGlvbiB3aXRoIG5vIGFuaW1hdGlvblxyXG4gICAgICAgICAgICB2YXIgc2Nyb2xsU2V0dGluZ3MgPSBnZXRTY3JvbGxTZXR0aW5ncyhlbGVtZW50Lm9mZnNldFRvcCk7XHJcbiAgICAgICAgICAgIHNjcm9sbFNldHRpbmdzLmVsZW1lbnQuc2Nyb2xsVG8oMCwgc2Nyb2xsU2V0dGluZ3Mub3B0aW9ucyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRGVmaW5lcyB3aGV0ZXIgdG8gcmVjb3JkIHRoZSBoaXN0b3J5IGZvciBlYWNoIGhhc2ggY2hhbmdlIGluIHRoZSBVUkwuXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gc2V0UmVjb3JkSGlzdG9yeSh2YWx1ZSwgdHlwZSl7XHJcbiAgICAgICAgc2V0VmFyaWFibGVTdGF0ZSgncmVjb3JkSGlzdG9yeScsIHZhbHVlLCB0eXBlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRGVmaW5lcyB0aGUgc2Nyb2xsaW5nIHNwZWVkXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gc2V0U2Nyb2xsaW5nU3BlZWQodmFsdWUsIHR5cGUpe1xyXG4gICAgICAgIHNldFZhcmlhYmxlU3RhdGUoJ3Njcm9sbGluZ1NwZWVkJywgdmFsdWUsIHR5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTZXRzIGZpdFRvU2VjdGlvblxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHNldEZpdFRvU2VjdGlvbih2YWx1ZSwgdHlwZSl7XHJcbiAgICAgICAgc2V0VmFyaWFibGVTdGF0ZSgnZml0VG9TZWN0aW9uJywgdmFsdWUsIHR5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBBZGRzIG9yIHJlbW92ZXMgdGhlIHBvc3NpYmxpdHkgb2Ygc2Nyb2xsaW5nIHRocm91Z2ggc2VjdGlvbnMgYnkgdXNpbmcgdGhlIG1vdXNlIHdoZWVsIG9yIHRoZSB0cmFja3BhZC5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBzZXRNb3VzZVdoZWVsU2Nyb2xsaW5nKHZhbHVlKXtcclxuICAgICAgICBpZih2YWx1ZSl7XHJcbiAgICAgICAgICAgIGFkZE1vdXNlV2hlZWxIYW5kbGVyKCk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJlbW92ZU1vdXNlV2hlZWxIYW5kbGVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBBZGRzIG9yIHJlbW92ZXMgdGhlIHBvc3NpYmxpdHkgb2Ygc2Nyb2xsaW5nIHRocm91Z2ggc2VjdGlvbnMgYnkgdXNpbmcgdGhlIGtleWJvYXJkIGFycm93IGtleXNcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBzZXRLZXlib2FyZFNjcm9sbGluZyh2YWx1ZSl7XHJcbiAgICAgICAgb3B0aW9ucy5rZXlib2FyZFNjcm9sbGluZyA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBNb3ZlcyB0aGUgcGFnZSB1cCBvbmUgc2VjdGlvbi5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBtb3ZlU2VjdGlvblVwKCl7XHJcbiAgICAgICAgdmFyIHNlY3Rpb24gPSBwcmV2KCQoU0VDVElPTl9BQ1RJVkVfU0VMKSk7XHJcblxyXG4gICAgICAgIGlmIChzZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHNjcm9sbFBhZ2Uoc2VjdGlvbiwgbnVsbCwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBNb3ZlcyB0aGUgcGFnZSBkb3duIG9uZSBzZWN0aW9uLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIG1vdmVTZWN0aW9uRG93bigpe1xyXG4gICAgICAgIHZhciBzZWN0aW9uID0gbmV4dCgkKFNFQ1RJT05fQUNUSVZFX1NFTCkpO1xyXG5cclxuICAgICAgICBpZihzZWN0aW9uKXtcclxuICAgICAgICAgICAgc2Nyb2xsUGFnZShzZWN0aW9uLCBudWxsLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBNb3ZlcyB0aGUgcGFnZSB0byB0aGUgZ2l2ZW4gc2VjdGlvbiBhbmQgc2xpZGUgd2l0aCBubyBhbmltYXRpb24uXHJcbiAgICAqIEFuY2hvcnMgb3IgaW5kZXggcG9zaXRpb25zIGNhbiBiZSB1c2VkIGFzIHBhcmFtcy5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBzaWxlbnRNb3ZlVG8oc2VjdGlvbkFuY2hvciwgc2xpZGVBbmNob3Ipe1xyXG4gICAgICAgIHNldFNjcm9sbGluZ1NwZWVkICgwLCAnaW50ZXJuYWwnKTtcclxuICAgICAgICBtb3ZlVG8oc2VjdGlvbkFuY2hvciwgc2xpZGVBbmNob3IpXHJcbiAgICAgICAgc2V0U2Nyb2xsaW5nU3BlZWQgKG9yaWdpbmFscy5zY3JvbGxpbmdTcGVlZCwgJ2ludGVybmFsJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgKiBNb3ZlcyB0aGUgcGFnZSB0byB0aGUgZ2l2ZW4gc2VjdGlvbiBhbmQgc2xpZGUuXHJcbiAgICAqIEFuY2hvcnMgb3IgaW5kZXggcG9zaXRpb25zIGNhbiBiZSB1c2VkIGFzIHBhcmFtcy5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBtb3ZlVG8oc2VjdGlvbkFuY2hvciwgc2xpZGVBbmNob3Ipe1xyXG4gICAgICAgIHZhciBkZXN0aW55ID0gZ2V0U2VjdGlvbkJ5QW5jaG9yKHNlY3Rpb25BbmNob3IpO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHNsaWRlQW5jaG9yICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgIHNjcm9sbFBhZ2VBbmRTbGlkZShzZWN0aW9uQW5jaG9yLCBzbGlkZUFuY2hvcik7XHJcbiAgICAgICAgfWVsc2UgaWYoZGVzdGlueSl7XHJcbiAgICAgICAgICAgIHNjcm9sbFBhZ2UoZGVzdGlueSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTbGlkZXMgcmlnaHQgdGhlIHNsaWRlciBvZiB0aGUgYWN0aXZlIHNlY3Rpb24uXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gbW92ZVNsaWRlUmlnaHQoKXtcclxuICAgICAgICBtb3ZlU2xpZGUoJ25leHQnKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogU2xpZGVzIGxlZnQgdGhlIHNsaWRlciBvZiB0aGUgYWN0aXZlIHNlY3Rpb24uXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gbW92ZVNsaWRlTGVmdCgpe1xyXG4gICAgICAgIG1vdmVTbGlkZSgncHJldicpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFdoZW4gcmVzaXppbmcgaXMgZmluaXNoZWQsIHdlIGFkanVzdCB0aGUgc2xpZGVzIHNpemVzIGFuZCBwb3NpdGlvbnNcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gcmVCdWlsZChyZXNpemluZyl7XHJcbiAgICAgICAgaWYoaGFzQ2xhc3MoY29udGFpbmVyLCBERVNUUk9ZRUQpKXsgcmV0dXJuOyB9XHJcblxyXG4gICAgICAgIGlzUmVzaXppbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICB3aW5kb3dzSGVpZ2h0ID0gZ2V0V2luZG93SGVpZ2h0KCk7XHJcblxyXG4gICAgICAgIHZhciBzZWN0aW9ucyA9ICQkKFNFQ1RJT05fU0VMKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlY3Rpb25zLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWN0aW9uID0gc2VjdGlvbnNbaV07XHJcbiAgICAgICAgICAgIHZhciBzbGlkZXNXcmFwID0gJChTTElERVNfV1JBUFBFUl9TRUwsIHNlY3Rpb24pO1xyXG4gICAgICAgICAgICB2YXIgc2xpZGVzID0gJCQoU0xJREVfU0VMLCBzZWN0aW9uKTtcclxuXHJcbiAgICAgICAgICAgIC8vYWRqdXN0aW5nIHRoZSBwb3NpdGlvbiBmbyB0aGUgRlVMTCBXSURUSCBzbGlkZXMuLi5cclxuICAgICAgICAgICAgaWYgKHNsaWRlc1dyYXAgJiYgc2xpZGVzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIGxhbmRzY2FwZVNjcm9sbChzbGlkZXNXcmFwLCAkKFNMSURFX0FDVElWRV9TRUwsIHNsaWRlc1dyYXApKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHZhciBhY3RpdmVTZWN0aW9uID0gJChTRUNUSU9OX0FDVElWRV9TRUwpO1xyXG5cclxuICAgICAgICAvL2lzbid0IGl0IHRoZSBmaXJzdCBzZWN0aW9uP1xyXG4gICAgICAgIGlmKGdldE5vZGVJbmRleChhY3RpdmVTZWN0aW9uKSl7XHJcbiAgICAgICAgICAgIC8vYWRqdXN0aW5nIHRoZSBwb3NpdGlvbiBmb3IgdGhlIGN1cnJlbnQgc2VjdGlvblxyXG4gICAgICAgICAgICBzaWxlbnRTY3JvbGwoYWN0aXZlU2VjdGlvbi5vZmZzZXRUb3ApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaXNSZXNpemluZyA9IGZhbHNlO1xyXG4gICAgICAgIGlzRnVuY3Rpb24oIG9wdGlvbnMuYWZ0ZXJSZXNpemUgKSAmJiByZXNpemluZyAmJiBvcHRpb25zLmFmdGVyUmVzaXplLmNhbGwoY29udGFpbmVyKTtcclxuICAgICAgICBpc0Z1bmN0aW9uKCBvcHRpb25zLmFmdGVyUmVCdWlsZCApICYmICFyZXNpemluZyAmJiBvcHRpb25zLmFmdGVyUmVCdWlsZC5jYWxsKGNvbnRhaW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIENyZWF0ZXMgdGhlIGNvbnRyb2wgYXJyb3dzIGZvciB0aGUgZ2l2ZW4gc2VjdGlvblxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZVNsaWRlQXJyb3dzKHNlY3Rpb24pe1xyXG4gICAgICAgIHZhciBwcmV2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgcHJldi5jbGFzc05hbWUgPSBTTElERVNfQVJST1dfUFJFVjtcclxuXHJcbiAgICAgICAgdmFyIG5leHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBuZXh0LmNsYXNzTmFtZSA9IFNMSURFU19BUlJPV19ORVhUO1xyXG5cclxuICAgICAgICB2YXIgc2xpZGVzID0gJChTTElERVNfV1JBUFBFUl9TRUwsIHNlY3Rpb24pO1xyXG5cclxuICAgICAgICBpZihvcHRpb25zLmNvbnRyb2xBcnJvd0NvbG9yICE9ICcjZmZmJyl7XHJcbiAgICAgICAgICAgIC8vc2V0Q3NzKG5leHQsICdib3JkZXItY29sb3InLCAndHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgJytvcHRpb25zLmNvbnRyb2xBcnJvd0NvbG9yKTtcclxuICAgICAgICAgICAgLy9zZXRDc3MocHJldiwgJ2JvcmRlci1jb2xvcicsICd0cmFuc3BhcmVudCAnKyBvcHRpb25zLmNvbnRyb2xBcnJvd0NvbG9yICsgJyB0cmFuc3BhcmVudCB0cmFuc3BhcmVudCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2xpZGVzLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQocHJldik7XHJcbiAgICAgICAgc2xpZGVzLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQobmV4dCk7XHJcblxyXG4gICAgICAgIGlmKCFvcHRpb25zLmxvb3BIb3Jpem9udGFsKXtcclxuICAgICAgICAgICAgJChTTElERVNfQVJST1dfUFJFVl9TRUwsIHNlY3Rpb24pLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDcmVhdGVzIGEgdmVydGljYWwgbmF2aWdhdGlvbiBiYXIuXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gYWRkVmVydGljYWxOYXZpZ2F0aW9uKCl7XHJcbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2lkJywgU0VDVElPTl9OQVYpO1xyXG5cclxuICAgICAgICB2YXIgZGl2VWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xyXG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZChkaXZVbCk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcclxuXHJcbiAgICAgICAgbmF2ID0gJChTRUNUSU9OX05BVl9TRUwpO1xyXG5cclxuICAgICAgICBzZXRDc3MobmF2LCAnY29sb3InLCBvcHRpb25zLm5hdmlnYXRpb25Db2xvcik7XHJcbiAgICAgICAgYWRkQ2xhc3MobmF2LCBvcHRpb25zLm5hdmlnYXRpb25Qb3NpdGlvbik7XHJcblxyXG4gICAgICAgIGlmKG9wdGlvbnMuc2hvd0FjdGl2ZVRvb2x0aXApe1xyXG4gICAgICAgICAgICBhZGRDbGFzcyhuYXYsIFNIT1dfQUNUSVZFX1RPT0xUSVApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGxpID0gJyc7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJCQoU0VDVElPTl9TRUwpLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBsaW5rID0gJyc7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFuY2hvcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBsaW5rID0gb3B0aW9ucy5hbmNob3JzW2ldO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsaSA9IGxpICsgJzxsaT48YSBocmVmPVwiIycgKyBsaW5rICsgJ1wiPjxzcGFuPjwvc3Bhbj48L2E+JztcclxuXHJcbiAgICAgICAgICAgIC8vIE9ubHkgYWRkIHRvb2x0aXAgaWYgbmVlZGVkIChkZWZpbmVkIGJ5IHVzZXIpXHJcbiAgICAgICAgICAgIHZhciB0b29sdGlwID0gb3B0aW9ucy5uYXZpZ2F0aW9uVG9vbHRpcHNbaV07XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdG9vbHRpcCAhPT0gdW5kZWZpbmVkICYmIHRvb2x0aXAgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBsaSArPSAnPGRpdiBjbGFzcz1cIicrIFNFQ1RJT05fTkFWX1RPT0xUSVAgKycgJyArIG9wdGlvbnMubmF2aWdhdGlvblBvc2l0aW9uICsgJ1wiPicgKyB0b29sdGlwICsgJzwvZGl2Pic7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxpICs9ICc8L2xpPic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgdWwgPSAkKCd1bCcsIG5hdik7XHJcbiAgICAgICAgdWwuaW5uZXJIVE1MID0gdWwuaW5uZXJIVE1MICsgbGk7XHJcblxyXG4gICAgICAgIC8vY3JlYXRpbmcgdGhlIGV2ZW50IGxpc3RlbmVyXHJcbiAgICAgICAgdmFyIGxpbmtzID0gJCQoU0xJREVTX05BVl9MSU5LX1NFTCk7XHJcbiAgICAgICAgZm9yKHZhciBsID0gMDsgbDxsaW5rcy5sZW5ndGg7IGwrKyl7XHJcbiAgICAgICAgICAgIGFkZExpc3RlbmVyTXVsdGkobGlua3NbbF0sICdjbGljayBvbmNsaWNrIHRvdWNoc3RhcnQnLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgICAgIGUgPSB3aW5kb3cuZXZlbnQgfHwgZSB8fCBlLm9yaWdpbmFsRXZlbnQ7XHJcbiAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdChlKTtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGdldE5vZGVJbmRleCh0aGlzLnBhcmVudE5vZGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIHNjcm9sbFBhZ2UoJCQoU0VDVElPTl9TRUwpW2luZGV4XSwgbnVsbCwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBBY3Rpb25zIGFuZCBjYWxsYmFja3MgdG8gZmlyZSBhZnRlclJlbmRlclxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGFmdGVyUmVuZGVyQWN0aW9ucygpe1xyXG4gICAgICAgIHZhciBzZWN0aW9uID0gJChTRUNUSU9OX0FDVElWRV9TRUwpO1xyXG5cclxuICAgICAgICBpc0Z1bmN0aW9uKCBvcHRpb25zLmFmdGVyTG9hZCApICYmIG9wdGlvbnMuYWZ0ZXJMb2FkLmNhbGwoc2VjdGlvbiwgc2VjdGlvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtYW5jaG9yJyksIChnZXROb2RlSW5kZXgoc2VjdGlvbikgKyAxKSk7XHJcbiAgICAgICAgaXNGdW5jdGlvbiggb3B0aW9ucy5hZnRlclJlbmRlciApICYmIG9wdGlvbnMuYWZ0ZXJSZW5kZXIuY2FsbChjb250YWluZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBzY3JvbGxJZDtcclxuICAgIHZhciBzY3JvbGxJZDI7XHJcbiAgICB2YXIgaXNTY3JvbGxpbmcgPSBmYWxzZTtcclxuXHJcblxyXG4gICAgLy93aGVuIHNjcm9sbGluZ1xyXG4gICAgZnVuY3Rpb24gc2Nyb2xsSGFuZGxlcigpe1xyXG4gICAgICAgIHZhciBjdXJyZW50U2VjdGlvbjtcclxuXHJcbiAgICAgICAgaWYoIW9wdGlvbnMuYXV0b1Njcm9sbGluZyB8fCBvcHRpb25zLnNjcm9sbEJhcil7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50U2Nyb2xsID0gZ2V0U2Nyb2xsVG9wKCk7XHJcbiAgICAgICAgICAgIHZhciB2aXNpYmxlU2VjdGlvbkluZGV4ID0gMDtcclxuICAgICAgICAgICAgdmFyIGluaXRpYWwgPSBNYXRoLmFicyhjdXJyZW50U2Nyb2xsIC0gJCQoU0VDVElPTl9TRUwpWzBdLm9mZnNldFRvcCk7XHJcblxyXG4gICAgICAgICAgICAvL3Rha2luZyB0aGUgc2VjdGlvbiB3aGljaCBpcyBzaG93aW5nIG1vcmUgY29udGVudCBpbiB0aGUgdmlld3BvcnRcclxuICAgICAgICAgICAgdmFyIHNlY3Rpb25zID0gJCQoU0VDVElPTl9TRUwpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlY3Rpb25zLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VjdGlvbiA9IHNlY3Rpb25zW2ldO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gTWF0aC5hYnMoY3VycmVudFNjcm9sbCAtIHNlY3Rpb24ub2Zmc2V0VG9wKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihjdXJyZW50IDwgaW5pdGlhbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZVNlY3Rpb25JbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbCA9IGN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vZ2V0aW5nIHRoZSBsYXN0IG9uZSwgdGhlIGN1cnJlbnQgb25lIG9uIHRoZSBzY3JlZW5cclxuICAgICAgICAgICAgY3VycmVudFNlY3Rpb24gPSAkJChTRUNUSU9OX1NFTClbdmlzaWJsZVNlY3Rpb25JbmRleF07XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoIW9wdGlvbnMuYXV0b1Njcm9sbGluZyB8fCBvcHRpb25zLnNjcm9sbEJhcil7XHJcbiAgICAgICAgICAgIC8vZXhlY3V0aW5nIGl0IG9ubHkgb25jZSB0aGUgZmlyc3QgdGltZSB3ZSByZWFjaCB0aGUgc2VjdGlvblxyXG4gICAgICAgICAgICBpZighaGFzQ2xhc3MoY3VycmVudFNlY3Rpb24sIEFDVElWRSkpe1xyXG5cclxuICAgICAgICAgICAgICAgIGlzU2Nyb2xsaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHZhciBsZWF2aW5nU2VjdGlvbiA9ICQoU0VDVElPTl9BQ1RJVkVfU0VMKTtcclxuICAgICAgICAgICAgICAgIHZhciBsZWF2aW5nU2VjdGlvbkluZGV4ID0gZ2V0Tm9kZUluZGV4KGxlYXZpbmdTZWN0aW9uKSArIDE7XHJcbiAgICAgICAgICAgICAgICB2YXIgeU1vdmVtZW50ID0gZ2V0WW1vdmVtZW50KGN1cnJlbnRTZWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIHZhciBhbmNob3JMaW5rICA9IGN1cnJlbnRTZWN0aW9uLmdldEF0dHJpYnV0ZSgnZGF0YS1hbmNob3InKTtcclxuICAgICAgICAgICAgICAgIHZhciBzZWN0aW9uSW5kZXggPSBnZXROb2RlSW5kZXgoY3VycmVudFNlY3Rpb24pICsgMTtcclxuICAgICAgICAgICAgICAgIHZhciBhY3RpdmVTbGlkZSA9ICQoU0xJREVfQUNUSVZFX1NFTCwgY3VycmVudFNlY3Rpb24pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKGFjdGl2ZVNsaWRlKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2xpZGVBbmNob3JMaW5rID0gYWN0aXZlU2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWFuY2hvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzbGlkZUluZGV4ID0gZ2V0Tm9kZUluZGV4KGFjdGl2ZVNsaWRlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZihjYW5TY3JvbGwpe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcmVtb3Zpbmcgc2libGluZ3MgYWN0aXZlIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MobGVhdmluZ1NlY3Rpb24sIEFDVElWRSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vYWRkaW5nIHRoZSBhY3RpdmUgY2xhc3MgdG8gdGhlIGN1cnJlbnQgYWN0aXZlIHNlY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyhjdXJyZW50U2VjdGlvbiwgQUNUSVZFKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaXNGdW5jdGlvbiggb3B0aW9ucy5vbkxlYXZlICkgJiYgb3B0aW9ucy5vbkxlYXZlLmNhbGwoIGxlYXZpbmdTZWN0aW9uLCBsZWF2aW5nU2VjdGlvbkluZGV4LCBzZWN0aW9uSW5kZXgsIHlNb3ZlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNGdW5jdGlvbiggb3B0aW9ucy5hZnRlckxvYWQgKSAmJiBvcHRpb25zLmFmdGVyTG9hZC5jYWxsKCBjdXJyZW50U2VjdGlvbiwgYW5jaG9yTGluaywgc2VjdGlvbkluZGV4KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZhdGVNZW51QW5kTmF2KGFuY2hvckxpbmssIDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZihvcHRpb25zLmFuY2hvcnMubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9uZWVkZWQgdG8gZW50ZXIgaW4gaGFzaENoYW5nZSBldmVudCB3aGVuIHVzaW5nIHRoZSBtZW51IHdpdGggYW5jaG9yIGxpbmtzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RTY3JvbGxlZERlc3RpbnkgPSBhbmNob3JMaW5rO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3RhdGUoc2xpZGVJbmRleCwgc2xpZGVBbmNob3JMaW5rLCBhbmNob3JMaW5rLCBzZWN0aW9uSW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL3NtYWxsIHRpbWVvdXQgaW4gb3JkZXIgdG8gYXZvaWQgZW50ZXJpbmcgaW4gaGFzaENoYW5nZSBldmVudCB3aGVuIHNjcm9sbGluZyBpcyBub3QgZmluaXNoZWQgeWV0XHJcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoc2Nyb2xsSWQpO1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsSWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNTY3JvbGxpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuZml0VG9TZWN0aW9uKXtcclxuICAgICAgICAgICAgICAgIC8vZm9yIHRoZSBhdXRvIGFkanVzdCBvZiB0aGUgdmlld3BvcnQgdG8gZml0IGEgd2hvbGUgc2VjdGlvblxyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHNjcm9sbElkMik7XHJcblxyXG4gICAgICAgICAgICAgICAgc2Nyb2xsSWQyID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGNhblNjcm9sbCAmJiAhb3B0aW9ucy5hdXRvU2Nyb2xsaW5nIHx8IG9wdGlvbnMuc2Nyb2xsQmFyKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9hbGxvd3MgdG8gc2Nyb2xsIHRvIGFuIGFjdGl2ZSBzZWN0aW9uIGFuZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIHRoZSBzZWN0aW9uIGlzIGFscmVhZHkgYWN0aXZlLCB3ZSBwcmV2ZW50IGZpcmluZyBjYWxsYmFja3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZ2V0Tm9kZUluZGV4KCQoU0VDVElPTl9BQ1RJVkVfU0VMKSkgPT0gZ2V0Tm9kZUluZGV4KGN1cnJlbnRTZWN0aW9uKSApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNSZXNpemluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFBhZ2UoY3VycmVudFNlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1Jlc2l6aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucy5maXRUb1NlY3Rpb25EZWxheSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIERldGVybWluZXMgdGhlIHdheSBvZiBzY3JvbGxpbmcgdXAgb3IgZG93bjpcclxuICAgICogYnkgJ2F1dG9tYXRpY2FsbHknIHNjcm9sbGluZyBhIHNlY3Rpb24gb3IgYnkgdXNpbmcgdGhlIGRlZmF1bHQgYW5kIG5vcm1hbCBzY3JvbGxpbmcuXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gc2Nyb2xsaW5nKHR5cGUpe1xyXG4gICAgICAgIGlmKHR5cGUgPT0gJ2Rvd24nKXtcclxuICAgICAgICAgICAgbW92ZVNlY3Rpb25Eb3duKCk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIG1vdmVTZWN0aW9uVXAoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHZhciB0b3VjaFN0YXJ0WSA9IDA7XHJcbiAgICB2YXIgdG91Y2hTdGFydFggPSAwO1xyXG4gICAgdmFyIHRvdWNoRW5kWSA9IDA7XHJcbiAgICB2YXIgdG91Y2hFbmRYID0gMDtcclxuXHJcbiAgICAvKiBEZXRlY3RpbmcgdG91Y2ggZXZlbnRzXHJcblxyXG4gICAgKiBBcyB3ZSBhcmUgY2hhbmdpbmcgdGhlIHRvcCBwcm9wZXJ0eSBvZiB0aGUgcGFnZSBvbiBzY3JvbGxpbmcsIHdlIGNhbiBub3QgdXNlIHRoZSB0cmFkaXRpb25hbCB3YXkgdG8gZGV0ZWN0IGl0LlxyXG4gICAgKiBUaGlzIHdheSwgdGhlIHRvdWNoc3RhcnQgYW5kIHRoZSB0b3VjaCBtb3ZlcyBzaG93cyBhbiBzbWFsbCBkaWZmZXJlbmNlIGJldHdlZW4gdGhlbSB3aGljaCBpcyB0aGVcclxuICAgICogdXNlZCBvbmUgdG8gZGV0ZXJtaW5lIHRoZSBkaXJlY3Rpb24uXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gdG91Y2hNb3ZlSGFuZGxlcihldmVudCl7XHJcblxyXG4gICAgICAgIHZhciBlID0gd2luZG93LmV2ZW50IHx8IGV2ZW50IHx8IGV2ZW50Lm9yaWdpbmFsRXZlbnQ7XHJcblxyXG4gICAgICAgIGlmKGlzUmVhbGx5VG91Y2goZSkpe1xyXG4gICAgICAgICAgICBpZihvcHRpb25zLmF1dG9TY3JvbGxpbmcpe1xyXG4gICAgICAgICAgICAgICAgLy9wcmV2ZW50aW5nIHRoZSBlYXNpbmcgb24gaU9TIGRldmljZXNcclxuICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0KGV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGFjdGl2ZVNlY3Rpb24gPSAkKFNFQ1RJT05fQUNUSVZFX1NFTCk7XHJcbiAgICAgICAgICAgIHZhciBzbGlkZXMgPSAkJChTTElERVNfV1JBUFBFUl9TRUwsIGFjdGl2ZVNlY3Rpb24pO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNhblNjcm9sbCAmJiAhc2xpZGVNb3ZpbmcpIHsgLy9pZiB0aGVyZXMgYW55ICNcclxuICAgICAgICAgICAgICAgIHZhciB0b3VjaEV2ZW50cyA9IGdldEV2ZW50c1BhZ2UoZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdG91Y2hFbmRZID0gdG91Y2hFdmVudHMueTtcclxuICAgICAgICAgICAgICAgIHRvdWNoRW5kWCA9IHRvdWNoRXZlbnRzLng7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9pZiBtb3ZlbWVudCBpbiB0aGUgWCBheHlzIGlzIGdyZWF0ZXIgdGhhbiBpbiB0aGUgWSBhbmQgdGhlIGN1cnJlY3Qgc2VjdGlvbiBoYXMgc2xpZGVzLi4uXHJcbiAgICAgICAgICAgICAgICBpZiAoIHNsaWRlcyAmJiBNYXRoLmFicyh0b3VjaFN0YXJ0WCAtIHRvdWNoRW5kWCkgPiAoTWF0aC5hYnModG91Y2hTdGFydFkgLSB0b3VjaEVuZFkpKSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2lzIHRoZSBtb3ZlbWVudCBncmVhdGVyIHRoYW4gdGhlIG1pbmltdW0gcmVzaXN0YW5jZSB0byBzY3JvbGw/XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHRvdWNoU3RhcnRYIC0gdG91Y2hFbmRYKSA+IChnZXRXaW5kb3dXaWR0aCgpIC8gMTAwICogb3B0aW9ucy50b3VjaFNlbnNpdGl2aXR5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG91Y2hTdGFydFggPiB0b3VjaEVuZFgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVTbGlkZVJpZ2h0KCk7IC8vbmV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92ZVNsaWRlTGVmdCgpOyAvL3ByZXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL3ZlcnRpY2FsIHNjcm9sbGluZyAob25seSB3aGVuIGF1dG9TY3JvbGxpbmcgaXMgZW5hYmxlZClcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYob3B0aW9ucy5hdXRvU2Nyb2xsaW5nKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9pcyB0aGUgbW92ZW1lbnQgZ3JlYXRlciB0aGFuIHRoZSBtaW5pbXVtIHJlc2lzdGFuY2UgdG8gc2Nyb2xsP1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyh0b3VjaFN0YXJ0WSAtIHRvdWNoRW5kWSkgPiAoZ2V0V2luZG93SGVpZ2h0KCkvIDEwMCAqIG9wdGlvbnMudG91Y2hTZW5zaXRpdml0eSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvdWNoU3RhcnRZID4gdG91Y2hFbmRZKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxpbmcoJ2Rvd24nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0b3VjaEVuZFkgPiB0b3VjaFN0YXJ0WSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsaW5nKCd1cCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBBcyBJRSA+PSAxMCBmaXJlcyBib3RoIHRvdWNoIGFuZCBtb3VzZSBldmVudHMgd2hlbiB1c2luZyBhIG1vdXNlIGluIGEgdG91Y2hzY3JlZW5cclxuICAgICogdGhpcyB3YXkgd2UgbWFrZSBzdXJlIHRoYXQgaXMgcmVhbGx5IGEgdG91Y2ggZXZlbnQgd2hhdCBJRSBpcyBkZXRlY3RpbmcuXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gaXNSZWFsbHlUb3VjaChlKXtcclxuICAgICAgICAvL2lmIGlzIG5vdCBJRSAgIHx8ICBJRSBpcyBkZXRlY3RpbmcgYHRvdWNoYCBvciBgcGVuYFxyXG4gICAgICAgIHJldHVybiB0eXBlb2YgZS5wb2ludGVyVHlwZSA9PT0gJ3VuZGVmaW5lZCcgfHwgZS5wb2ludGVyVHlwZSAhPSAnbW91c2UnO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBIYW5kbGVyIGZvciB0aGUgdG91Y2ggc3RhcnQgZXZlbnQuXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gdG91Y2hTdGFydEhhbmRsZXIoZXZlbnQpe1xyXG4gICAgICAgIHZhciBlID0gd2luZG93LmV2ZW50IHx8IGV2ZW50IHx8IGV2ZW50Lm9yaWdpbmFsRXZlbnQ7XHJcblxyXG4gICAgICAgIC8vc3RvcHBpbmcgdGhlIGF1dG8gc2Nyb2xsIHRvIGFkanVzdCB0byBhIHNlY3Rpb25cclxuICAgICAgICBpZihvcHRpb25zLmZpdFRvU2VjdGlvbil7XHJcbiAgICAgICAgICAgIGFjdGl2ZUFuaW1hdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoaXNSZWFsbHlUb3VjaChlKSl7XHJcbiAgICAgICAgICAgIHZhciB0b3VjaEV2ZW50cyA9IGdldEV2ZW50c1BhZ2UoZSk7XHJcbiAgICAgICAgICAgIHRvdWNoU3RhcnRZID0gdG91Y2hFdmVudHMueTtcclxuICAgICAgICAgICAgdG91Y2hTdGFydFggPSB0b3VjaEV2ZW50cy54O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogR2V0cyB0aGUgYXZlcmFnZSBvZiB0aGUgbGFzdCBgbnVtYmVyYCBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXkuXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0QXZlcmFnZShlbGVtZW50cywgbnVtYmVyKXtcclxuICAgICAgICB2YXIgc3VtID0gMDtcclxuXHJcbiAgICAgICAgLy90YWtpbmcgYG51bWJlcmAgZWxlbWVudHMgZnJvbSB0aGUgZW5kIHRvIG1ha2UgdGhlIGF2ZXJhZ2UsIGlmIHRoZXJlIGFyZSBub3QgZW5vdWdodCwgMVxyXG4gICAgICAgIHZhciBsYXN0RWxlbWVudHMgPSBlbGVtZW50cy5zbGljZShNYXRoLm1heChlbGVtZW50cy5sZW5ndGggLSBudW1iZXIsIDEpKTtcclxuXHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGxhc3RFbGVtZW50cy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIHN1bSA9IHN1bSArIGxhc3RFbGVtZW50c1tpXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbChzdW0vbnVtYmVyKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXRlY3RpbmcgbW91c2V3aGVlbCBzY3JvbGxpbmdcclxuICAgICAqXHJcbiAgICAgKiBodHRwOi8vYmxvZ3Muc2l0ZXBvaW50c3RhdGljLmNvbS9leGFtcGxlcy90ZWNoL21vdXNlLXdoZWVsL2luZGV4Lmh0bWxcclxuICAgICAqIGh0dHA6Ly93d3cuc2l0ZXBvaW50LmNvbS9odG1sNS1qYXZhc2NyaXB0LW1vdXNlLXdoZWVsL1xyXG4gICAgICovXHJcbiAgICB2YXIgcHJldlRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBNb3VzZVdoZWVsSGFuZGxlcihlKSB7XHJcbiAgICAgICAgdmFyIGN1clRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHJcbiAgICAgICAgaWYob3B0aW9ucy5hdXRvU2Nyb2xsaW5nKXtcclxuICAgICAgICAgICAgLy8gY3Jvc3MtYnJvd3NlciB3aGVlbCBkZWx0YVxyXG4gICAgICAgICAgICBlID0gd2luZG93LmV2ZW50IHx8IGUgfHwgZS5vcmlnaW5hbEV2ZW50O1xyXG5cclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gZS53aGVlbERlbHRhIHx8IC1lLmRlbHRhWSB8fCAtZS5kZXRhaWw7XHJcbiAgICAgICAgICAgIHZhciBkZWx0YSA9IE1hdGgubWF4KC0xLCBNYXRoLm1pbigxLCB2YWx1ZSkpO1xyXG5cclxuICAgICAgICAgICAgLy9MaW1pdGluZyB0aGUgYXJyYXkgdG8gMTUwIChsZXRzIG5vdCB3YWlzdCBtZW1vcnkhKVxyXG4gICAgICAgICAgICBpZihzY3JvbGxpbmdzLmxlbmd0aCA+IDE0OSl7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxpbmdzLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8va2VlcGluZyByZWNvcmQgb2YgdGhlIHByZXZpb3VzIHNjcm9sbGluZ3NcclxuICAgICAgICAgICAgc2Nyb2xsaW5ncy5wdXNoKE1hdGguYWJzKHZhbHVlKSk7XHJcblxyXG4gICAgICAgICAgICAvL3ByZXZlbnRpbmcgdG8gc2Nyb2xsIHRoZSBzaXRlIG9uIG1vdXNlIHdoZWVsIHdoZW4gc2Nyb2xsYmFyIGlzIHByZXNlbnRcclxuICAgICAgICAgICAgaWYob3B0aW9ucy5zY3JvbGxCYXIpe1xyXG4gICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQoZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciB0aW1lRGlmZiA9IGN1clRpbWUtcHJldlRpbWU7XHJcbiAgICAgICAgICAgIHByZXZUaW1lID0gY3VyVGltZTtcclxuXHJcbiAgICAgICAgICAgIC8vaGF2ZW4ndCB0aGV5IHNjcm9sbGVkIGluIGEgd2hpbGU/XHJcbiAgICAgICAgICAgIC8vKGVub3VnaCB0byBiZSBjb25zaWRlciBhIGRpZmZlcmVudCBzY3JvbGxpbmcgYWN0aW9uIHRvIHNjcm9sbCBhbm90aGVyIHNlY3Rpb24pXHJcbiAgICAgICAgICAgIGlmKHRpbWVEaWZmID4gMjAwKXtcclxuICAgICAgICAgICAgICAgIC8vZW1wdHlpbmcgdGhlIGFycmF5LCB3ZSBkb250IGNhcmUgYWJvdXQgb2xkIHNjcm9sbGluZ3MgZm9yIG91ciBhdmVyYWdlc1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsaW5ncyA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihjYW5TY3JvbGwpey8vaWYgdGhlcmVzIGFueSAjXHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGF2ZXJhZ2VFbmQgPSBnZXRBdmVyYWdlKHNjcm9sbGluZ3MsIDEwKTtcclxuICAgICAgICAgICAgICAgIHZhciBhdmVyYWdlTWlkZGxlID0gZ2V0QXZlcmFnZShzY3JvbGxpbmdzLCA3MCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXNBY2NlbGVyYXRpbmcgPSBhdmVyYWdlRW5kID49IGF2ZXJhZ2VNaWRkbGU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoaXNBY2NlbGVyYXRpbmcpe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vc2Nyb2xsaW5nIGRvd24/XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlbHRhIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxpbmcoJ2Rvd24nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9zY3JvbGxpbmcgdXA/XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxpbmcoJ3VwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihvcHRpb25zLmZpdFRvU2VjdGlvbil7XHJcbiAgICAgICAgICAgIC8vc3RvcHBpbmcgdGhlIGF1dG8gc2Nyb2xsIHRvIGFkanVzdCB0byBhIHNlY3Rpb25cclxuICAgICAgICAgICAgYWN0aXZlQW5pbWF0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTbGlkZXMgYSBzbGlkZXIgdG8gdGhlIGdpdmVuIGRpcmVjdGlvbi5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBtb3ZlU2xpZGUoZGlyZWN0aW9uKXtcclxuICAgICAgICB2YXIgYWN0aXZlU2VjdGlvbiA9ICQoU0VDVElPTl9BQ1RJVkVfU0VMKTtcclxuICAgICAgICB2YXIgc2xpZGVzID0gJChTTElERVNfV1JBUFBFUl9TRUwsIGFjdGl2ZVNlY3Rpb24pO1xyXG5cclxuICAgICAgICAvLyBtb3JlIHRoYW4gb25lIHNsaWRlIG5lZWRlZCBhbmQgbm90aGluZyBzaG91bGQgYmUgc2xpZGluZ1xyXG4gICAgICAgIGlmICghc2xpZGVzfHwgc2xpZGVNb3ZpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGN1cnJlbnRTbGlkZSA9ICQoU0xJREVfQUNUSVZFX1NFTCwgc2xpZGVzKTtcclxuICAgICAgICB2YXIgZGVzdGlueSA9IG51bGw7XHJcbiAgICAgICAgaWYoZGlyZWN0aW9uID09PSAncHJldicpe1xyXG4gICAgICAgICAgICBkZXN0aW55ID0gcHJldihjdXJyZW50U2xpZGUpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBkZXN0aW55ID0gbmV4dChjdXJyZW50U2xpZGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9pc24ndCB0aGVyZSBhIG5leHQgc2xpZGUgaW4gdGhlIHNlY3VlbmNlP1xyXG4gICAgICAgIGlmKCFkZXN0aW55KXtcclxuICAgICAgICAgICAgLy9yZXNwZWN0IGxvb3BIb3Jpem9udGFsIHNldHRpblxyXG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMubG9vcEhvcml6b250YWwpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHZhciBzaWJsaW5ncyA9IGdldEFsbFNpYmxpbmdzKGN1cnJlbnRTbGlkZSk7XHJcbiAgICAgICAgICAgIGlmKGRpcmVjdGlvbiA9PT0gJ3ByZXYnKXtcclxuICAgICAgICAgICAgICAgIGRlc3RpbnkgPSBzaWJsaW5nc1tzaWJsaW5ncy5sZW5ndGggLSAxXTsgLy9sYXN0XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgZGVzdGlueSA9IHNpYmxpbmdzWzBdOyAvL2ZpcnN0XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNsaWRlTW92aW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgbGFuZHNjYXBlU2Nyb2xsKHNsaWRlcywgZGVzdGlueSk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogTWFpbnRhaW5zIHRoZSBhY3RpdmUgc2xpZGVzIGluIHRoZSB2aWV3cG9ydFxyXG4gICAgKiAoQmVjYXVzZSBoZSBgc2Nyb2xsYCBhbmltYXRpb24gbWlnaHQgZ2V0IGxvc3Qgd2l0aCBzb21lIGFjdGlvbnMpXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24ga2VlcFNsaWRlc1Bvc2l0aW9uKCl7XHJcbiAgICAgICAgdmFyIGFjdGl2ZVNsaWRlcyA9ICQkKFNMSURFX0FDVElWRV9TRUwpO1xyXG4gICAgICAgIGZvciggdmFyIGkgPTA7IGk8YWN0aXZlU2xpZGVzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgc2lsZW50TGFuZHNjYXBlU2Nyb2xsKGFjdGl2ZVNsaWRlc1tpXSwgJ2ludGVybmFsJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTY3JvbGxzIHRoZSBzaXRlIHRvIHRoZSBnaXZlbiBlbGVtZW50IGFuZCBzY3JvbGxzIHRvIHRoZSBzbGlkZSBpZiBhIGNhbGxiYWNrIGlzIGdpdmVuLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHNjcm9sbFBhZ2UoZWxlbWVudCwgY2FsbGJhY2ssIGlzTW92ZW1lbnRVcCl7XHJcbiAgICAgICAgaWYoZWxlbWVudCA9PT0gbnVsbCl7IHJldHVybjsgfSAvL3RoZXJlJ3Mgbm8gZWxlbWVudCB0byBzY3JvbGwsIGxlYXZpbmcgdGhlIGZ1bmN0aW9uXHJcbiAgICAgICAgLy9sb2NhbCB2YXJpYWJsZXNcclxuICAgICAgICB2YXIgdiA9IHtcclxuICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxyXG4gICAgICAgICAgICBpc01vdmVtZW50VXA6IGlzTW92ZW1lbnRVcCxcclxuICAgICAgICAgICAgZHRvcDogZWxlbWVudC5vZmZzZXRUb3AsXHJcbiAgICAgICAgICAgIHlNb3ZlbWVudDogZ2V0WW1vdmVtZW50KGVsZW1lbnQpLFxyXG4gICAgICAgICAgICBhbmNob3JMaW5rOiBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1hbmNob3InKSxcclxuICAgICAgICAgICAgc2VjdGlvbkluZGV4OiBnZXROb2RlSW5kZXgoZWxlbWVudCksXHJcbiAgICAgICAgICAgIGFjdGl2ZVNsaWRlOiAkKFNMSURFX0FDVElWRV9TRUwsIGVsZW1lbnQpLFxyXG4gICAgICAgICAgICBhY3RpdmVTZWN0aW9uOiAkKFNFQ1RJT05fQUNUSVZFX1NFTCksXHJcbiAgICAgICAgICAgIGxlYXZpbmdTZWN0aW9uOiBnZXROb2RlSW5kZXgoJChTRUNUSU9OX0FDVElWRV9TRUwpKSArIDEsXHJcblxyXG4gICAgICAgICAgICAvL2NhY2hpbmcgdGhlIHZhbHVlIG9mIGlzUmVzaXppbmcgYXQgdGhlIG1vbW1lbnQgdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZFxyXG4gICAgICAgICAgICAvL2JlY2F1c2UgaXQgd2lsbCBiZSBjaGVja2VkIGxhdGVyIGluc2lkZSBhIHNldFRpbWVvdXQgYW5kIHRoZSB2YWx1ZSBtaWdodCBjaGFuZ2VcclxuICAgICAgICAgICAgbG9jYWxJc1Jlc2l6aW5nOiBpc1Jlc2l6aW5nXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9xdWl0aW5nIHdoZW4gZGVzdGluYXRpb24gc2Nyb2xsIGlzIHRoZSBzYW1lIGFzIHRoZSBjdXJyZW50IG9uZVxyXG4gICAgICAgIGlmKCggZ2V0Tm9kZUluZGV4KHYuYWN0aXZlU2VjdGlvbikgPT0gdi5zZWN0aW9uSW5kZXggJiYgIWlzUmVzaXppbmcpIHx8IChvcHRpb25zLnNjcm9sbEJhciAmJiBnZXRTY3JvbGxUb3AoKSA9PT0gdi5kdG9wKSl7IHJldHVybjsgfVxyXG5cclxuICAgICAgICBpZih2LmFjdGl2ZVNsaWRlKXtcclxuICAgICAgICAgICAgdmFyIHNsaWRlQW5jaG9yTGluayA9IHYuYWN0aXZlU2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWFuY2hvcicpO1xyXG4gICAgICAgICAgICB2YXIgc2xpZGVJbmRleCA9IGdldE5vZGVJbmRleCh2LmFjdGl2ZVNsaWRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBzaWJsaW5ncyA9ICQkKFNFQ1RJT05fU0VMKTtcclxuICAgICAgICBmb3IodmFyIHM9MDsgczxzaWJsaW5ncy5sZW5ndGg7IHMrKyl7XHJcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKHNpYmxpbmdzW3NdLCBBQ1RJVkUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgQUNUSVZFKTtcclxuXHJcbiAgICAgICAgLy9wcmV2ZW50aW5nIGZyb20gYWN0aXZhdGluZyB0aGUgTW91c2VXaGVlbEhhbmRsZXIgZXZlbnRcclxuICAgICAgICAvL21vcmUgdGhhbiBvbmNlIGlmIHRoZSBwYWdlIGlzIHNjcm9sbGluZ1xyXG4gICAgICAgIGNhblNjcm9sbCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBzZXRTdGF0ZShzbGlkZUluZGV4LCBzbGlkZUFuY2hvckxpbmssIHYuYW5jaG9yTGluaywgdi5zZWN0aW9uSW5kZXgpO1xyXG5cclxuICAgICAgICAvL2NhbGxiYWNrIChvbkxlYXZlKSBpZiB0aGUgc2l0ZSBpcyBub3QganVzdCByZXNpemluZyBhbmQgcmVhZGp1c3RpbmcgdGhlIHNsaWRlc1xyXG4gICAgICAgIGlzRnVuY3Rpb24ob3B0aW9ucy5vbkxlYXZlKSAmJiAhdi5sb2NhbElzUmVzaXppbmcgJiYgb3B0aW9ucy5vbkxlYXZlLmNhbGwodi5hY3RpdmVTZWN0aW9uLCB2LmxlYXZpbmdTZWN0aW9uLCAodi5zZWN0aW9uSW5kZXggKyAxKSwgdi55TW92ZW1lbnQpO1xyXG5cclxuXHJcbiAgICAgICAgcGVyZm9ybU1vdmVtZW50KHYpO1xyXG5cclxuICAgICAgICAvL2ZsYWcgdG8gYXZvaWQgY2FsbGluZ24gYHNjcm9sbFBhZ2UoKWAgdHdpY2UgaW4gY2FzZSBvZiB1c2luZyBhbmNob3IgbGlua3NcclxuICAgICAgICBsYXN0U2Nyb2xsZWREZXN0aW55ID0gdi5hbmNob3JMaW5rO1xyXG5cclxuXHJcbiAgICAgICAgYWN0aXZhdGVNZW51QW5kTmF2KHYuYW5jaG9yTGluaywgdi5zZWN0aW9uSW5kZXgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBQZXJmb3JtcyB0aGUgbW92ZW1lbnQgKGJ5IENTUzMgb3IgYnkgalF1ZXJ5KVxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHBlcmZvcm1Nb3ZlbWVudCh2KXtcclxuICAgICAgICAvLyB1c2luZyBDU1MzIHRyYW5zbGF0ZSBmdW5jdGlvbmFsaXR5XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuY3NzMyAmJiBvcHRpb25zLmF1dG9TY3JvbGxpbmcgJiYgIW9wdGlvbnMuc2Nyb2xsQmFyKSB7XHJcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGUzZCA9ICd0cmFuc2xhdGUzZCgwcHgsIC0nICsgdi5kdG9wICsgJ3B4LCAwcHgpJztcclxuICAgICAgICAgICAgdHJhbnNmb3JtQ29udGFpbmVyKHRyYW5zbGF0ZTNkLCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgIC8vZXZlbiB3aGVuIHRoZSBzY3JvbGxpbmdTcGVlZCBpcyAwIHRoZXJlJ3MgYSBsaXR0bGUgZGVsYXksIHdoaWNoIG1pZ2h0IGNhdXNlIHRoZVxyXG4gICAgICAgICAgICAvL3Njcm9sbGluZ1NwZWVkIHRvIGNoYW5nZSBpbiBjYXNlIG9mIHVzaW5nIHNpbGVudE1vdmVUbygpO1xyXG4gICAgICAgICAgICBpZihvcHRpb25zLnNjcm9sbGluZ1NwZWVkKXtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFmdGVyU2VjdGlvbkxvYWRzKHYpO1xyXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucy5zY3JvbGxpbmdTcGVlZCk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgYWZ0ZXJTZWN0aW9uTG9hZHModik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHVzaW5nIGpRdWVyeSBhbmltYXRlXHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgdmFyIHNjcm9sbFNldHRpbmdzID0gZ2V0U2Nyb2xsU2V0dGluZ3Modi5kdG9wKTtcclxuICAgICAgICAgICAgc2Nyb2xsVG8oc2Nyb2xsU2V0dGluZ3MuZWxlbWVudCwgc2Nyb2xsU2V0dGluZ3Mub3B0aW9ucywgb3B0aW9ucy5zY3JvbGxpbmdTcGVlZCwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGFmdGVyU2VjdGlvbkxvYWRzKHYpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEdldHMgdGhlIHNjcm9sbGluZyBzZXR0aW5ncyBkZXBlbmRpbmcgb24gdGhlIHBsdWdpbiBhdXRvU2Nyb2xsaW5nIG9wdGlvblxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldFNjcm9sbFNldHRpbmdzKHRvcCl7XHJcbiAgICAgICAgdmFyIHNjcm9sbCA9IHt9O1xyXG5cclxuICAgICAgICAvL3RvcCBwcm9wZXJ0eSBhbmltYXRpb25cclxuICAgICAgICBpZihvcHRpb25zLmF1dG9TY3JvbGxpbmcgJiYgIW9wdGlvbnMuc2Nyb2xsQmFyKXtcclxuICAgICAgICAgICAgc2Nyb2xsLm9wdGlvbnMgPSAtdG9wO1xyXG4gICAgICAgICAgICBzY3JvbGwuZWxlbWVudCA9ICQoJy4nK1dSQVBQRVIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy93aW5kb3cgcmVhbCBzY3JvbGxpbmdcclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICBzY3JvbGwub3B0aW9ucyA9IHRvcDtcclxuICAgICAgICAgICAgc2Nyb2xsLmVsZW1lbnQgPSB3aW5kb3c7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc2Nyb2xsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBBY3Rpb25zIHRvIGRvIG9uY2UgdGhlIHNlY3Rpb24gaXMgbG9hZGVkXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gYWZ0ZXJTZWN0aW9uTG9hZHMgKHYpe1xyXG4gICAgICAgIC8vY2FsbGJhY2sgKGFmdGVyTG9hZCkgaWYgdGhlIHNpdGUgaXMgbm90IGp1c3QgcmVzaXppbmcgYW5kIHJlYWRqdXN0aW5nIHRoZSBzbGlkZXNcclxuICAgICAgICBpc0Z1bmN0aW9uKG9wdGlvbnMuYWZ0ZXJMb2FkKSAmJiAhdi5sb2NhbElzUmVzaXppbmcgJiYgb3B0aW9ucy5hZnRlckxvYWQuY2FsbCh2LmVsZW1lbnQsIHYuYW5jaG9yTGluaywgKHYuc2VjdGlvbkluZGV4ICsgMSkpO1xyXG4gICAgICAgIGNhblNjcm9sbCA9IHRydWU7XHJcblxyXG4gICAgICAgIGlzRnVuY3Rpb24odi5jYWxsYmFjaykgJiYgdi5jYWxsYmFjay5jYWxsKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogU2Nyb2xscyB0byB0aGUgYW5jaG9yIGluIHRoZSBVUkwgd2hlbiBsb2FkaW5nIHRoZSBzaXRlXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gc2Nyb2xsVG9BbmNob3IoKXtcclxuICAgICAgICAvL2dldHRpbmcgdGhlIGFuY2hvciBsaW5rIGluIHRoZSBVUkwgYW5kIGRlbGV0aW5nIHRoZSBgI2BcclxuICAgICAgICB2YXIgdmFsdWUgPSAgd2luZG93LmxvY2F0aW9uLmhhc2gucmVwbGFjZSgnIycsICcnKS5zcGxpdCgnLycpO1xyXG4gICAgICAgIHZhciBzZWN0aW9uID0gdmFsdWVbMF07XHJcbiAgICAgICAgdmFyIHNsaWRlID0gdmFsdWVbMV07XHJcblxyXG4gICAgICAgIGlmKHNlY3Rpb24peyAgLy9pZiB0aGVyZXMgYW55ICNcclxuICAgICAgICAgICAgc2Nyb2xsUGFnZUFuZFNsaWRlKHNlY3Rpb24sIHNsaWRlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9kZXRlY3RpbmcgYW55IGNoYW5nZSBvbiB0aGUgVVJMIHRvIHNjcm9sbCB0byB0aGUgZ2l2ZW4gYW5jaG9yIGxpbmtcclxuICAgIC8vKGEgd2F5IHRvIGRldGVjdCBiYWNrIGhpc3RvcnkgYnV0dG9uIGFzIHdlIHBsYXkgd2l0aCB0aGUgaGFzaGVzIG9uIHRoZSBVUkwpXHJcbiAgICBpZiAoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikge1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgaGFzaENoYW5nZUhhbmRsZXIsIGZhbHNlKTsgLy9JRTksIENocm9tZSwgU2FmYXJpLCBPcGVyXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHdpbmRvdy5hdHRhY2hFdmVudCgnb25oYXNoY2hhbmdlJywgaGFzaENoYW5nZUhhbmRsZXIpOyAvL0lFIDYvNy84XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYXJyb3dzSGFuZGxlcihldmVudCl7XHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzO1xyXG5cclxuICAgICAgICAvL0lFIDggKHVzaW5nIGF0dGFjaCBldmVudC4uLilcclxuICAgICAgICAvL2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ1OTAyMzEvMTA4MTM5NlxyXG4gICAgICAgIGlmKGVsZW1lbnQuc2VsZiA9PSB3aW5kb3cgKXtcclxuICAgICAgICAgICAgZWxlbWVudCA9IGV2ZW50LnRhcmdldCB8fCBldmVudC5zcmNFbGVtZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGhhc0NsYXNzKGVsZW1lbnQsIFNMSURFU19QUkVWKSkge1xyXG4gICAgICAgICAgICBtb3ZlU2xpZGVMZWZ0KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbW92ZVNsaWRlUmlnaHQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaGFzaENoYW5nZUhhbmRsZXIoKXtcclxuICAgICAgICBpZighaXNTY3JvbGxpbmcpe1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSAgd2luZG93LmxvY2F0aW9uLmhhc2gucmVwbGFjZSgnIycsICcnKS5zcGxpdCgnLycpO1xyXG4gICAgICAgICAgICB2YXIgc2VjdGlvbiA9IHZhbHVlWzBdO1xyXG4gICAgICAgICAgICB2YXIgc2xpZGUgPSB2YWx1ZVsxXTtcclxuXHJcbiAgICAgICAgICAgIGlmKHNlY3Rpb24ubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgIC8vd2hlbiBtb3ZpbmcgdG8gYSBzbGlkZSBpbiB0aGUgZmlyc3Qgc2VjdGlvbiBmb3IgdGhlIGZpcnN0IHRpbWUgKGZpcnN0IHRpbWUgdG8gYWRkIGFuIGFuY2hvciB0byB0aGUgVVJMKVxyXG4gICAgICAgICAgICAgICAgdmFyIGlzRmlyc3RTbGlkZU1vdmUgPSAgKHR5cGVvZiBsYXN0U2Nyb2xsZWREZXN0aW55ID09PSAndW5kZWZpbmVkJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXNGaXJzdFNjcm9sbE1vdmUgPSAodHlwZW9mIGxhc3RTY3JvbGxlZERlc3RpbnkgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBzbGlkZSA9PT0gJ3VuZGVmaW5lZCcgJiYgIXNsaWRlTW92aW5nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvKmluIG9yZGVyIHRvIGNhbGwgc2Nyb2xscGFnZSgpIG9ubHkgb25jZSBmb3IgZWFjaCBkZXN0aW5hdGlvbiBhdCBhIHRpbWVcclxuICAgICAgICAgICAgICAgIEl0IGlzIGNhbGxlZCB0d2ljZSBmb3IgZWFjaCBzY3JvbGwgb3RoZXJ3aXNlLCBhcyBpbiBjYXNlIG9mIHVzaW5nIGFuY2hvcmxpbmtzIGBoYXNoQ2hhbmdlYFxyXG4gICAgICAgICAgICAgICAgZXZlbnQgaXMgZmlyZWQgb24gZXZlcnkgc2Nyb2xsIHRvby4qL1xyXG4gICAgICAgICAgICAgICAgaWYgKChzZWN0aW9uICYmIHNlY3Rpb24gIT09IGxhc3RTY3JvbGxlZERlc3RpbnkpICYmICFpc0ZpcnN0U2xpZGVNb3ZlIHx8IGlzRmlyc3RTY3JvbGxNb3ZlIHx8ICghc2xpZGVNb3ZpbmcgJiYgbGFzdFNjcm9sbGVkU2xpZGUgIT0gc2xpZGUgKSkgIHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxQYWdlQW5kU2xpZGUoc2VjdGlvbiwgc2xpZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNsaWRpbmcgd2l0aCBhcnJvdyBrZXlzLCBib3RoLCB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbFxyXG4gICAgICovXHJcbiAgICB2YXIga2V5ZG93bklkO1xyXG4gICAgZG9jdW1lbnQub25rZXlkb3duID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGNsZWFyVGltZW91dChrZXlkb3duSWQpO1xyXG5cclxuICAgICAgICB2YXIgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XHJcbiAgICAgICAgdmFyIHRhZ05hbWUgPSBhY3RpdmVFbGVtZW50LnRhZ05hbWU7XHJcblxyXG4gICAgICAgIGlmKHRhZ05hbWUgIT09ICdTRUxFQ1QnICYmIHRhZ05hbWUgIT09ICdJTlBVVCcgJiYgb3B0aW9ucy5rZXlib2FyZFNjcm9sbGluZyAmJiBvcHRpb25zLmF1dG9TY3JvbGxpbmcpe1xyXG5cclxuICAgICAgICAgICAgZSA9IHdpbmRvdy5ldmVudCB8fCBlIHx8IGUub3JpZ2luYWxFdmVudDtcclxuICAgICAgICAgICAgdmFyIGNoYXJDb2RlID0gZS5jaGFyQ29kZSB8fCBlLmtleUNvZGU7XHJcblxyXG4gICAgICAgICAgICAvL3ByZXZlbnRpbmcgdGhlIHNjcm9sbCB3aXRoIGFycm93IGtleXMgJiBzcGFjZWJhciAmIFBhZ2UgVXAgJiBEb3duIGtleXNcclxuICAgICAgICAgICAgdmFyIGtleUNvbnRyb2xzID0gWzQwLCAzOCwgMzIsIDMzLCAzNF07XHJcbiAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpPGtleUNvbnRyb2xzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgIGlmKGtleUNvbnRyb2xzW2ldID09IGNoYXJDb2RlKXtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdChlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHNoaWZ0UHJlc3NlZCA9IGUuc2hpZnRLZXk7XHJcbiAgICAgICAgICAgIGtleWRvd25JZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIG9ua2V5ZG93bihzaGlmdFByZXNzZWQsIGNoYXJDb2RlKTtcclxuICAgICAgICAgICAgfSwxNTApO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gb25rZXlkb3duKHNoaWZ0UHJlc3NlZCwgY2hhckNvZGUpe1xyXG4gICAgICAgIHN3aXRjaCAoY2hhckNvZGUpIHtcclxuICAgICAgICAgICAgLy91cFxyXG4gICAgICAgICAgICBjYXNlIDM4OlxyXG4gICAgICAgICAgICBjYXNlIDMzOlxyXG4gICAgICAgICAgICAgICAgbW92ZVNlY3Rpb25VcCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAvL2Rvd25cclxuICAgICAgICAgICAgY2FzZSAzMjogLy9zcGFjZWJhclxyXG4gICAgICAgICAgICAgICAgaWYoc2hpZnRQcmVzc2VkKXtcclxuICAgICAgICAgICAgICAgICAgICBtb3ZlU2VjdGlvblVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgNDA6XHJcbiAgICAgICAgICAgIGNhc2UgMzQ6XHJcbiAgICAgICAgICAgICAgICBtb3ZlU2VjdGlvbkRvd24oKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgLy9Ib21lXHJcbiAgICAgICAgICAgIGNhc2UgMzY6XHJcbiAgICAgICAgICAgICAgICBtb3ZlVG8oMSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIC8vRW5kXHJcbiAgICAgICAgICAgIGNhc2UgMzU6XHJcbiAgICAgICAgICAgICAgICBtb3ZlVG8oICQkKFNFQ1RJT05fU0VMKS5sZW5ndGggKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgLy9sZWZ0XHJcbiAgICAgICAgICAgIGNhc2UgMzc6XHJcbiAgICAgICAgICAgICAgICBtb3ZlU2xpZGVMZWZ0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIC8vcmlnaHRcclxuICAgICAgICAgICAgY2FzZSAzOTpcclxuICAgICAgICAgICAgICAgIG1vdmVTbGlkZVJpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm47IC8vIGV4aXQgdGhpcyBoYW5kbGVyIGZvciBvdGhlciBrZXlzXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTY3JvbGxzIHRoZSBzbGlkZXIgdG8gdGhlIGdpdmVuIHNsaWRlIGRlc3RpbmF0aW9uIGZvciB0aGUgZ2l2ZW4gc2VjdGlvblxyXG4gICAgKi9cclxuICAgIHZhciBzbGlkZXNOYXYgPSAkKFNMSURFU19OQVZfTElOS19TRUwpO1xyXG4gICAgaWYoc2xpZGVzTmF2ICE9PSBudWxsKXtcclxuICAgICAgICBhZGRMaXN0ZW5lck11bHRpKCQoU0xJREVTX05BVl9MSU5LX1NFTCksICdjbGljayBvbmNsaWNrIHRvdWNoc3RhcnQnLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgcHJldmVudERlZmF1bHQoZSk7XHJcblxyXG4gICAgICAgICAgICAvL2VxdWl2YWxlbnQgdG86ICAgdmFyIHNsaWRlcyA9ICQodGhpcykuY2xvc2VzdChTRUNUSU9OX1NFTCkuZmluZChTTElERVNfV1JBUFBFUl9TRUwpO1xyXG4gICAgICAgICAgICB2YXIgc2VjdGlvbiA9IGNsb3Nlc3QodGhpcywgZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFzQ2xhc3MoZTEsIFNFQ1RJT04pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIHNsaWRlcyA9ICQoU0xJREVTX1dSQVBQRVJfU0VMLCBzZWN0aW9uKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBsaSA9IGNsb3Nlc3QodGhpcywgZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWwudGFnTmFtZSA9PT0gJ2xpJztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBsaUluZGV4ID0gZ2V0Tm9kZUluZGV4KGxpKTtcclxuICAgICAgICAgICAgdmFyIGRlc3RpbnkgPSAkJChTTElERV9TRUwsIHNsaWRlcylbbGlJbmRleF07XHJcblxyXG4gICAgICAgICAgICBsYW5kc2NhcGVTY3JvbGwoc2xpZGVzLCBkZXN0aW55KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNjcm9sbGluZyBob3Jpem9udGFsbHkgd2hlbiBjbGlja2luZyBvbiB0aGUgc2xpZGVyIGNvbnRyb2xzLlxyXG4gICAgICovXHJcbiAgICAvLyAkKFNFQ1RJT05fU0VMKS5vbignY2xpY2sgdG91Y2hzdGFydCcsIFNMSURFU19BUlJPV19TRUwsIGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gIGlmICgkKHRoaXMpLmhhc0NsYXNzKFNMSURFU19QUkVWKSkge1xyXG4gICAgLy8gICAgICBtb3ZlU2xpZGVMZWZ0KCk7XHJcbiAgICAvLyAgfSBlbHNlIHtcclxuICAgIC8vICAgICAgbW92ZVNsaWRlUmlnaHQoKTtcclxuICAgIC8vICB9XHJcbiAgICAvLyB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICogU2Nyb2xscyBob3Jpem9udGFsIHNsaWRlcnMuXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gbGFuZHNjYXBlU2Nyb2xsKHNsaWRlcywgZGVzdGlueSl7XHJcbiAgICAgICAgdmFyIHNsaWRlSW5kZXggPSBnZXROb2RlSW5kZXgoZGVzdGlueSk7XHJcblxyXG4gICAgICAgIC8vZXF1aXZhbGVudCB0byBzbGlkZXMuY2xvc2VzdChTRUNUSU9OX1NFTClcclxuICAgICAgICB2YXIgc2VjdGlvbiA9IGNsb3Nlc3Qoc2xpZGVzLCBmdW5jdGlvbihlMSl7XHJcbiAgICAgICAgICAgIHJldHVybiBoYXNDbGFzcyhlMSwgU0VDVElPTik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBzZWN0aW9uSW5kZXggPSBnZXROb2RlSW5kZXgoc2VjdGlvbik7XHJcbiAgICAgICAgdmFyIGFuY2hvckxpbmsgPSBzZWN0aW9uLmdldEF0dHJpYnV0ZSgnZGF0YS1hbmNob3InKTtcclxuICAgICAgICB2YXIgc2xpZGVzTmF2ID0gJChTTElERVNfTkFWX1NFTCwgc2VjdGlvbik7XHJcbiAgICAgICAgdmFyIHNsaWRlQW5jaG9yID0gZ2V0U2xpZGVBbmNob3IoZGVzdGlueSk7XHJcblxyXG4gICAgICAgIC8vY2FjaGluZyB0aGUgdmFsdWUgb2YgaXNSZXNpemluZyBhdCB0aGUgbW9tbWVudCB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkXHJcbiAgICAgICAgLy9iZWNhdXNlIGl0IHdpbGwgYmUgY2hlY2tlZCBsYXRlciBpbnNpZGUgYSBzZXRUaW1lb3V0IGFuZCB0aGUgdmFsdWUgbWlnaHQgY2hhbmdlXHJcbiAgICAgICAgdmFyIGxvY2FsSXNSZXNpemluZyA9IGlzUmVzaXppbmc7XHJcblxyXG4gICAgICAgIGlmKG9wdGlvbnMub25TbGlkZUxlYXZlKXtcclxuICAgICAgICAgICAgdmFyIHByZXZTbGlkZSA9ICQoU0xJREVfQUNUSVZFX1NFTCwgc2VjdGlvbik7XHJcbiAgICAgICAgICAgIHZhciBwcmV2U2xpZGVJbmRleCA9IGdldE5vZGVJbmRleChwcmV2U2xpZGUpO1xyXG4gICAgICAgICAgICB2YXIgeE1vdmVtZW50ID0gZ2V0WG1vdmVtZW50KHByZXZTbGlkZUluZGV4LCBzbGlkZUluZGV4KTtcclxuXHJcbiAgICAgICAgICAgIC8vaWYgdGhlIHNpdGUgaXMgbm90IGp1c3QgcmVzaXppbmcgYW5kIHJlYWRqdXN0aW5nIHRoZSBzbGlkZXNcclxuICAgICAgICAgICAgaWYoIWxvY2FsSXNSZXNpemluZyAmJiB4TW92ZW1lbnQhPT0nbm9uZScpe1xyXG4gICAgICAgICAgICAgICAgaXNGdW5jdGlvbiggb3B0aW9ucy5vblNsaWRlTGVhdmUgKSAmJiBvcHRpb25zLm9uU2xpZGVMZWF2ZS5jYWxsKCBwcmV2U2xpZGUsIGFuY2hvckxpbmssIChzZWN0aW9uSW5kZXggKyAxKSwgcHJldlNsaWRlSW5kZXgsIHhNb3ZlbWVudCwgc2xpZGVJbmRleCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBzaWJsaW5ncyA9ICQkKFNMSURFX1NFTCwgc2VjdGlvbik7XHJcblxyXG4gICAgICAgIGZvcih2YXIgcz0wOyBzPHNpYmxpbmdzLmxlbmd0aDsgcysrKXtcclxuICAgICAgICAgICAgcmVtb3ZlQ2xhc3Moc2libGluZ3Nbc10sIEFDVElWRSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhZGRDbGFzcyhkZXN0aW55LCBBQ1RJVkUpO1xyXG5cclxuXHJcblxyXG4gICAgICAgIGlmKCFvcHRpb25zLmxvb3BIb3Jpem9udGFsICYmIG9wdGlvbnMuY29udHJvbEFycm93cyl7XHJcbiAgICAgICAgICAgIC8vaGlkZGluZyBpdCBmb3IgdGhlIGZpc3Qgc2xpZGUsIHNob3dpbmcgZm9yIHRoZSByZXN0XHJcbiAgICAgICAgICAgIHRvZ2dsZSgkKFNMSURFU19BUlJPV19QUkVWX1NFTCwgc2VjdGlvbiksIHNsaWRlSW5kZXghPT0wKTtcclxuXHJcbiAgICAgICAgICAgIC8vaGlkZGluZyBpdCBmb3IgdGhlIGxhc3Qgc2xpZGUsIHNob3dpbmcgZm9yIHRoZSByZXN0XHJcbiAgICAgICAgICAgIHRvZ2dsZSgkKFNMSURFU19BUlJPV19ORVhUX1NFTCwgc2VjdGlvbiksICFkZXN0aW55LmlzKCc6bGFzdC1jaGlsZCcpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vb25seSBjaGFuZ2luZyB0aGUgVVJMIGlmIHRoZSBzbGlkZXMgYXJlIGluIHRoZSBjdXJyZW50IHNlY3Rpb24gKG5vdCBmb3IgcmVzaXplIHJlLWFkanVzdGluZylcclxuICAgICAgICBpZihoYXNDbGFzcyhzZWN0aW9uLCBBQ1RJVkUpKXtcclxuICAgICAgICAgICAgc2V0U3RhdGUoc2xpZGVJbmRleCwgc2xpZGVBbmNob3IsIGFuY2hvckxpbmssIHNlY3Rpb25JbmRleCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgYWZ0ZXJTbGlkZUxvYWRzID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgLy9pZiB0aGUgc2l0ZSBpcyBub3QganVzdCByZXNpemluZyBhbmQgcmVhZGp1c3RpbmcgdGhlIHNsaWRlc1xyXG4gICAgICAgICAgICBpZighbG9jYWxJc1Jlc2l6aW5nKXtcclxuICAgICAgICAgICAgICAgIGlzRnVuY3Rpb24oIG9wdGlvbnMuYWZ0ZXJTbGlkZUxvYWQgKSAmJiBvcHRpb25zLmFmdGVyU2xpZGVMb2FkLmNhbGwoIGRlc3RpbnksIGFuY2hvckxpbmssIChzZWN0aW9uSW5kZXggKyAxKSwgc2xpZGVBbmNob3IsIHNsaWRlSW5kZXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vbGV0dGluZyB0aGVtIHNsaWRlIGFnYWluXHJcbiAgICAgICAgICAgIHNsaWRlTW92aW5nID0gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaWYob3B0aW9ucy5jc3MzKXtcclxuICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZTNkID0gJ3RyYW5zbGF0ZTNkKC0nICsgTWF0aC5yb3VuZChkZXN0aW55Lm9mZnNldExlZnQpICsgJ3B4LCAwcHgsIDBweCknO1xyXG4gICAgICAgICAgICB2YXIgc2xpZGVzQ29udGFpbmVyID0gJChTTElERVNfQ09OVEFJTkVSX1NFTCwgc2xpZGVzKTtcclxuXHJcbiAgICAgICAgICAgIGFkZEFuaW1hdGlvbihzbGlkZXNDb250YWluZXIsIG9wdGlvbnMuc2Nyb2xsaW5nU3BlZWQ+MCk7XHJcbiAgICAgICAgICAgIHNldFRyYW5zZm9ybXMoc2xpZGVzQ29udGFpbmVyLCB0cmFuc2xhdGUzZCk7XHJcblxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBhZnRlclNsaWRlTG9hZHMoKTtcclxuICAgICAgICAgICAgfSwgb3B0aW9ucy5zY3JvbGxpbmdTcGVlZCwgb3B0aW9ucy5lYXNpbmcpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBzY3JvbGxUbyhzbGlkZXMsIE1hdGgucm91bmQoZGVzdGlueS5vZmZzZXRMZWZ0KSwgb3B0aW9ucy5zY3JvbGxpbmdTcGVlZCwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGFmdGVyU2xpZGVMb2FkcygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKG9wdGlvbnMuc2xpZGVzTmF2aWdhdGlvbil7XHJcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKCQoQUNUSVZFX1NFTCwgc2xpZGVzTmF2KSwgQUNUSVZFKTtcclxuICAgICAgICAgICAgdmFyIGFjdGl2ZU5hdkxpID0gJCQoJ2xpJywgc2xpZGVzTmF2KVtzbGlkZUluZGV4XTtcclxuICAgICAgICAgICAgdmFyIGFjdGl2ZUxpbmsgPSAkKCdhJywgYWN0aXZlTmF2TGkpO1xyXG4gICAgICAgICAgICBhZGRDbGFzcyhhY3RpdmVMaW5rLCBBQ1RJVkUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL3doZW4gcmVzaXppbmcgdGhlIHNpdGUsIHdlIGFkanVzdCB0aGUgaGVpZ2h0cyBvZiB0aGUgc2VjdGlvbnNcclxuICAgIHZhciBwcmV2aW91c0hlaWdodCA9IHdpbmRvd3NIZWlnaHQ7XHJcbiAgICB2YXIgcmVzaXplSWQ7XHJcbiAgICBmdW5jdGlvbiByZXNpemVIYW5kbGVyKCl7XHJcbiAgICAgICAgLy8gcmVidWlsZCBpbW1lZGlhdGVseSBvbiB0b3VjaCBkZXZpY2VzXHJcbiAgICAgICAgaWYgKGlzVG91Y2hEZXZpY2UpIHtcclxuXHJcbiAgICAgICAgICAgIC8vaWYgdGhlIGtleWJvYXJkIGlzIHZpc2libGVcclxuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0eXBlJykgIT09ICd0ZXh0Jykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRIZWlnaHQgPSBnZXRXaW5kb3dIZWlnaHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL21ha2luZyBzdXJlIHRoZSBjaGFuZ2UgaW4gdGhlIHZpZXdwb3J0IHNpemUgaXMgZW5vdWdoIHRvIGZvcmNlIGEgcmVidWlsZC4gKDIwICUgb2YgdGhlIHdpbmRvdyB0byBhdm9pZCBwcm9ibGVtcyB3aGVuIGhpZGRpbmcgc2Nyb2xsIGJhcnMpXHJcbiAgICAgICAgICAgICAgICBpZiggTWF0aC5hYnMoY3VycmVudEhlaWdodCAtIHByZXZpb3VzSGVpZ2h0KSA+ICgyMCAqIE1hdGgubWF4KHByZXZpb3VzSGVpZ2h0LCBjdXJyZW50SGVpZ2h0KSAvIDEwMCkgKXtcclxuICAgICAgICAgICAgICAgICAgICByZUJ1aWxkKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzSGVpZ2h0ID0gY3VycmVudEhlaWdodDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAvL2luIG9yZGVyIHRvIGNhbGwgdGhlIGZ1bmN0aW9ucyBvbmx5IHdoZW4gdGhlIHJlc2l6ZSBpcyBmaW5pc2hlZFxyXG4gICAgICAgICAgICAvL2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNDI5ODYxMi9qcXVlcnktaG93LXRvLWNhbGwtcmVzaXplLWV2ZW50LW9ubHktb25jZS1pdHMtZmluaXNoZWQtcmVzaXppbmdcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHJlc2l6ZUlkKTtcclxuXHJcbiAgICAgICAgICAgIHJlc2l6ZUlkID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgcmVCdWlsZCh0cnVlKTtcclxuICAgICAgICAgICAgfSwgMzUwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEFkZHMgdHJhbnNpdGlvbiBhbmltYXRpb25zIGZvciB0aGUgZ2l2ZW4gZWxlbWVudFxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGFkZEFuaW1hdGlvbihlbGVtZW50KXtcclxuICAgICAgICB2YXIgdHJhbnNpdGlvbiA9ICdhbGwgJyArIG9wdGlvbnMuc2Nyb2xsaW5nU3BlZWQgKyAnbXMgJyArIG9wdGlvbnMuZWFzaW5nY3NzMztcclxuXHJcbiAgICAgICAgcmVtb3ZlQ2xhc3MoZWxlbWVudCwgTk9fVFJBTlNJVElPTik7XHJcblxyXG4gICAgICAgIGNzcyhlbGVtZW50LHtcclxuICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNpdGlvbic6IHRyYW5zaXRpb24sXHJcbiAgICAgICAgICAgICd0cmFuc2l0aW9uJzogdHJhbnNpdGlvblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogUmVtb3ZlIHRyYW5zaXRpb24gYW5pbWF0aW9ucyBmb3IgdGhlIGdpdmVuIGVsZW1lbnRcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiByZW1vdmVBbmltYXRpb24oZWxlbWVudCl7XHJcbiAgICAgICAgcmV0dXJuIGFkZENsYXNzKGVsZW1lbnQsIE5PX1RSQU5TSVRJT04pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWN0aXZhdGluZyB0aGUgd2Vic2l0ZSBuYXZpZ2F0aW9uIGRvdHMgYWNjb3JkaW5nIHRvIHRoZSBnaXZlbiBzbGlkZSBuYW1lLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBhY3RpdmF0ZU5hdkRvdHMobmFtZSwgc2VjdGlvbkluZGV4KXtcclxuICAgICAgICBpZihvcHRpb25zLm5hdmlnYXRpb24pe1xyXG4gICAgICAgICAgICByZW1vdmVDbGFzcyggJChBQ1RJVkVfU0VMLCBuYXYpLCBBQ1RJVkUpO1xyXG5cclxuICAgICAgICAgICAgaWYobmFtZSl7XHJcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyggJCgnYVtocmVmPVwiIycgKyBuYW1lICsgJ1wiXScsIG5hdikgLCBBQ1RJVkUpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50TGkgPSAkJCgnbGknLCBuYXYpW3NlY3Rpb25JbmRleF07XHJcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyggJCgnYScsIGN1cnJlbnRMaSksIEFDVElWRSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBY3RpdmF0aW5nIHRoZSB3ZWJzaXRlIG1haW4gbWVudSBlbGVtZW50cyBhY2NvcmRpbmcgdG8gdGhlIGdpdmVuIHNsaWRlIG5hbWUuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlTWVudUVsZW1lbnQobmFtZSl7XHJcbiAgICAgICAgaWYob3B0aW9ucy5tZW51KXtcclxuICAgICAgICAgICAgdmFyIG1lbnUgPSAkKG9wdGlvbnMubWVudSk7XHJcbiAgICAgICAgICAgIGlmKG1lbnUpe1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoJChBQ1RJVkVfU0VMLCBtZW51KSwgQUNUSVZFKTtcclxuICAgICAgICAgICAgICAgIGFkZENsYXNzKCQoJ1tkYXRhLW1lbnVhbmNob3I9XCInK25hbWUrJ1wiXScsIG1lbnUpLCBBQ1RJVkUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlTWVudUFuZE5hdihhbmNob3IsIGluZGV4KXtcclxuICAgICAgICBhY3RpdmF0ZU1lbnVFbGVtZW50KGFuY2hvcik7XHJcbiAgICAgICAgYWN0aXZhdGVOYXZEb3RzKGFuY2hvciwgaW5kZXgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBSZXR1bnMgYHVwYCBvciBgZG93bmAgZGVwZW5kaW5nIG9uIHRoZSBzY3JvbGxpbmcgbW92ZW1lbnQgdG8gcmVhY2ggaXRzIGRlc3RpbmF0aW9uXHJcbiAgICAqIGZyb20gdGhlIGN1cnJlbnQgc2VjdGlvbi5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRZbW92ZW1lbnQoZGVzdGlueSl7XHJcbiAgICAgICAgdmFyIGZyb21JbmRleCA9IGdldE5vZGVJbmRleCgkKFNFQ1RJT05fQUNUSVZFX1NFTCkpO1xyXG4gICAgICAgIHZhciB0b0luZGV4ID0gZ2V0Tm9kZUluZGV4KGRlc3RpbnkpO1xyXG4gICAgICAgIGlmKCBmcm9tSW5kZXggPT0gdG9JbmRleCl7XHJcbiAgICAgICAgICAgIHJldHVybiAnbm9uZSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGZyb21JbmRleCA+IHRvSW5kZXgpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ3VwJztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICdkb3duJztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogUmV0dW5zIGByaWdodGAgb3IgYGxlZnRgIGRlcGVuZGluZyBvbiB0aGUgc2Nyb2xsaW5nIG1vdmVtZW50IHRvIHJlYWNoIGl0cyBkZXN0aW5hdGlvblxyXG4gICAgKiBmcm9tIHRoZSBjdXJyZW50IHNsaWRlLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldFhtb3ZlbWVudChmcm9tSW5kZXgsIHRvSW5kZXgpe1xyXG4gICAgICAgIGlmKCBmcm9tSW5kZXggPT0gdG9JbmRleCl7XHJcbiAgICAgICAgICAgIHJldHVybiAnbm9uZSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGZyb21JbmRleCA+IHRvSW5kZXgpe1xyXG4gICAgICAgICAgICByZXR1cm4gJ2xlZnQnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJ3JpZ2h0JztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQWRkcyBhIGNzczMgdHJhbnNmb3JtIHByb3BlcnR5IHRvIHRoZSBjb250YWluZXIgY2xhc3Mgd2l0aCBvciB3aXRob3V0IGFuaW1hdGlvbiBkZXBlbmRpbmcgb24gdGhlIGFuaW1hdGVkIHBhcmFtLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybUNvbnRhaW5lcih0cmFuc2xhdGUzZCwgYW5pbWF0ZWQpe1xyXG4gICAgICAgIGlmKGFuaW1hdGVkKXtcclxuICAgICAgICAgICAgYWRkQW5pbWF0aW9uKGNvbnRhaW5lcik7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJlbW92ZUFuaW1hdGlvbihjb250YWluZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2V0VHJhbnNmb3Jtcyhjb250YWluZXIsIHRyYW5zbGF0ZTNkKTtcclxuXHJcbiAgICAgICAgLy9zeW5jcm9ub3VzbHkgcmVtb3ZpbmcgdGhlIGNsYXNzIGFmdGVyIHRoZSBhbmltYXRpb24gaGFzIGJlZW4gYXBwbGllZC5cclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKGNvbnRhaW5lciwgTk9fVFJBTlNJVElPTik7XHJcbiAgICAgICAgfSwxMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEdldHMgYSBzZWN0aW9uIGJ5IGl0cyBhbmNob3IgLyBpbmRleFxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldFNlY3Rpb25CeUFuY2hvcihzZWN0aW9uQW5jaG9yKXtcclxuICAgICAgICAvL3NlY3Rpb25cclxuICAgICAgICB2YXIgc2VjdGlvbiA9ICQoU0VDVElPTl9TRUwgKyAnW2RhdGEtYW5jaG9yPVwiJytzZWN0aW9uQW5jaG9yKydcIl0nKTtcclxuICAgICAgICBpZighc2VjdGlvbil7XHJcbiAgICAgICAgICAgIHNlY3Rpb24gPSAkJChTRUNUSU9OX1NFTClbKHNlY3Rpb25BbmNob3IgLTEpXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBHZXRzIGEgc2xpZGUgaW5zaWRlIGEgZ2l2ZW4gc2VjdGlvbiBieSBpdHMgYW5jaG9yIC8gaW5kZXhcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRTbGlkZUJ5QW5jaG9yKHNsaWRlQW5jaG9yLCBzZWN0aW9uKXtcclxuICAgICAgICB2YXIgc2xpZGVzID0gJChTTElERVNfV1JBUFBFUl9TRUwsIHNlY3Rpb24pO1xyXG4gICAgICAgIHZhciBzbGlkZSA9ICAkKFNMSURFX1NFTCArICdbZGF0YS1hbmNob3I9XCInK3NsaWRlQW5jaG9yKydcIl0nLCBzbGlkZXMpO1xyXG5cclxuICAgICAgICBpZihzbGlkZXMgJiYgIXNsaWRlKXtcclxuICAgICAgICAgICAgc2xpZGUgPSAkJChTTElERV9TRUwsIHNsaWRlcylbc2xpZGVBbmNob3JdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHNsaWRlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTY3JvbGxzIHRvIHRoZSBnaXZlbiBzZWN0aW9uIGFuZCBzbGlkZVxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHNjcm9sbFBhZ2VBbmRTbGlkZShkZXN0aW55LCBzbGlkZSl7XHJcbiAgICAgICAgdmFyIHNlY3Rpb24gPSBnZXRTZWN0aW9uQnlBbmNob3IoZGVjb2RlVVJJKGRlc3RpbnkpKTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBzbGlkZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgc2xpZGUgPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy93ZSBuZWVkIHRvIHNjcm9sbCB0byB0aGUgc2VjdGlvbiBhbmQgdGhlbiB0byB0aGUgc2xpZGVcclxuICAgICAgICBpZiAoZGVzdGlueSAhPT0gbGFzdFNjcm9sbGVkRGVzdGlueSAmJiAhaGFzQ2xhc3Moc2VjdGlvbiwgQUNUSVZFKSl7XHJcbiAgICAgICAgICAgIHNjcm9sbFBhZ2Uoc2VjdGlvbiwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHNjcm9sbFNsaWRlcihzZWN0aW9uLCBzbGlkZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2lmIHdlIHdlcmUgYWxyZWFkeSBpbiB0aGUgc2VjdGlvblxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHNjcm9sbFNsaWRlcihzZWN0aW9uLCBzbGlkZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTY3JvbGxzIHRoZSBzbGlkZXIgdG8gdGhlIGdpdmVuIHNsaWRlIGRlc3RpbmF0aW9uIGZvciB0aGUgZ2l2ZW4gc2VjdGlvblxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHNjcm9sbFNsaWRlcihzZWN0aW9uLCBzbGlkZUFuY2hvcil7XHJcbiAgICAgICAgaWYodHlwZW9mIHNsaWRlQW5jaG9yICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgIHZhciBzbGlkZXMgPSAkKFNMSURFU19XUkFQUEVSX1NFTCwgc2VjdGlvbik7XHJcbiAgICAgICAgICAgIHZhciBkZXN0aW55ID0gIGdldFNsaWRlQnlBbmNob3Ioc2xpZGVBbmNob3IsIHNlY3Rpb24pO1xyXG5cclxuICAgICAgICAgICAgaWYoZGVzdGlueSl7XHJcbiAgICAgICAgICAgICAgICBsYW5kc2NhcGVTY3JvbGwoc2xpZGVzLCBkZXN0aW55KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQ3JlYXRlcyBhIGxhbmRzY2FwZSBuYXZpZ2F0aW9uIGJhciB3aXRoIGRvdHMgZm9yIGhvcml6b250YWwgc2xpZGVycy5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBhZGRTbGlkZXNOYXZpZ2F0aW9uKHNlY3Rpb24sIG51bVNsaWRlcyl7XHJcbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGRpdi5jbGFzc05hbWUgPSBTTElERVNfTkFWO1xyXG5cclxuICAgICAgICB2YXIgZGl2VWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xyXG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZChkaXZVbCk7XHJcblxyXG4gICAgICAgIHNlY3Rpb24uYXBwZW5kQ2hpbGQoZGl2KTtcclxuXHJcbiAgICAgICAgdmFyIG5hdiA9ICQoU0xJREVTX05BVl9TRUwsIHNlY3Rpb24pO1xyXG4gICAgICAgIHZhciB1bCA9ICAkKCd1bCcsIG5hdik7XHJcblxyXG4gICAgICAgIC8vdG9wIG9yIGJvdHRvbVxyXG4gICAgICAgIGFkZENsYXNzKG5hdiwgb3B0aW9ucy5zbGlkZXNOYXZQb3NpdGlvbik7XHJcblxyXG4gICAgICAgIHZhciBsaXN0ID0gJyc7XHJcbiAgICAgICAgZm9yKHZhciBpPTA7IGk8IG51bVNsaWRlczsgaSsrKXtcclxuICAgICAgICAgICAgbGlzdCA9IGxpc3QgKyAnPGxpPjxhIGhyZWY9XCIjXCI+PHNwYW4+PC9zcGFuPjwvYT48L2xpPic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB1bC5pbm5lckhUTUwgPSB1bC5pbm5lckhUTUwgKyBsaXN0O1xyXG5cclxuICAgICAgICAvL2NlbnRlcmluZyBpdFxyXG4gICAgICAgIHNldENzcyhuYXYsICdtYXJnaW4tbGVmdCcsICctJyArIChuYXYub2Zmc2V0V2lkdGgvMikgKyAncHgnKTtcclxuXHJcbiAgICAgICAgdmFyIGZpcnN0TGkgPSAkJCgnbGknLCBuYXYpWzBdO1xyXG4gICAgICAgIGFkZENsYXNzKCAkKCdhJywgZmlyc3RMaSksIEFDVElWRSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTZXRzIHRoZSBzdGF0ZSBvZiB0aGUgd2Vic2l0ZSBkZXBlbmRpbmcgb24gdGhlIGFjdGl2ZSBzZWN0aW9uL3NsaWRlLlxyXG4gICAgKiBJdCBjaGFuZ2VzIHRoZSBVUkwgaGFzaCB3aGVuIG5lZWRlZCBhbmQgdXBkYXRlcyB0aGUgYm9keSBjbGFzcy5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBzZXRTdGF0ZShzbGlkZUluZGV4LCBzbGlkZUFuY2hvciwgYW5jaG9yTGluaywgc2VjdGlvbkluZGV4KXtcclxuICAgICAgICB2YXIgc2VjdGlvbkhhc2ggPSAnJztcclxuXHJcbiAgICAgICAgaWYob3B0aW9ucy5hbmNob3JzLmxlbmd0aCl7XHJcblxyXG4gICAgICAgICAgICAvL2lzbid0IGl0IHRoZSBmaXJzdCBzbGlkZT9cclxuICAgICAgICAgICAgaWYoc2xpZGVJbmRleCl7XHJcbiAgICAgICAgICAgICAgICBpZih0eXBlb2YgYW5jaG9yTGluayAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb25IYXNoID0gYW5jaG9yTGluaztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL3NsaWRlIHdpdGhvdXQgYW5jaG9yIGxpbms/IFdlIHRha2UgdGhlIGluZGV4IGluc3RlYWQuXHJcbiAgICAgICAgICAgICAgICBpZih0eXBlb2Ygc2xpZGVBbmNob3IgPT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZUFuY2hvciA9IHNsaWRlSW5kZXg7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGFzdFNjcm9sbGVkU2xpZGUgPSBzbGlkZUFuY2hvcjtcclxuICAgICAgICAgICAgICAgIHNldFVybEhhc2goc2VjdGlvbkhhc2ggKyAnLycgKyBzbGlkZUFuY2hvcik7XHJcblxyXG4gICAgICAgICAgICAvL2ZpcnN0IHNsaWRlIHdvbid0IGhhdmUgc2xpZGUgYW5jaG9yLCBqdXN0IHRoZSBzZWN0aW9uIG9uZVxyXG4gICAgICAgICAgICB9ZWxzZSBpZih0eXBlb2Ygc2xpZGVJbmRleCAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICAgICAgbGFzdFNjcm9sbGVkU2xpZGUgPSBzbGlkZUFuY2hvcjtcclxuICAgICAgICAgICAgICAgIHNldFVybEhhc2goYW5jaG9yTGluayk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vc2VjdGlvbiB3aXRob3V0IHNsaWRlc1xyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgc2V0VXJsSGFzaChhbmNob3JMaW5rKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0Qm9keUNsYXNzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNldHMgdGhlIFVSTCBoYXNoLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHNldFVybEhhc2godXJsKXtcclxuICAgICAgICBpZihvcHRpb25zLnJlY29yZEhpc3Rvcnkpe1xyXG4gICAgICAgICAgICBsb2NhdGlvbi5oYXNoID0gdXJsO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAvL01vYmlsZSBDaHJvbWUgZG9lc24ndCB3b3JrIHRoZSBub3JtYWwgd2F5LCBzby4uLiBsZXRzIHVzZSBIVE1MNSBmb3IgcGhvbmVzIDopXHJcbiAgICAgICAgICAgIGlmKGlzVG91Y2hEZXZpY2UgfHwgaXNUb3VjaCl7XHJcbiAgICAgICAgICAgICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZSh1bmRlZmluZWQsIHVuZGVmaW5lZCwgJyMnICsgdXJsKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB2YXIgYmFzZVVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KCcjJylbMF07XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSggYmFzZVVybCArICcjJyArIHVybCApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBHZXRzIHRoZSBhbmNob3IgZm9yIHRoZSBnaXZlbiBzbGlkZS4gSXRzIGluZGV4IHdpbGwgYmUgdXNlZCBpZiB0aGVyZSdzIG5vbmUuXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0U2xpZGVBbmNob3Ioc2xpZGUpe1xyXG4gICAgICAgIHZhciBzbGlkZUFuY2hvciA9IHNsaWRlLmdldEF0dHJpYnV0ZSgnZGF0YS1hbmNob3InKTtcclxuICAgICAgICB2YXIgc2xpZGVJbmRleCA9IGdldE5vZGVJbmRleChzbGlkZSk7XHJcblxyXG4gICAgICAgIC8vU2xpZGUgd2l0aG91dCBhbmNob3IgbGluaz8gV2UgdGFrZSB0aGUgaW5kZXggaW5zdGVhZC5cclxuICAgICAgICBpZighc2xpZGVBbmNob3Ipe1xyXG4gICAgICAgICAgICBzbGlkZUFuY2hvciA9IHNsaWRlSW5kZXg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc2xpZGVBbmNob3I7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNldHMgYSBjbGFzcyBmb3IgdGhlIGJvZHkgb2YgdGhlIHBhZ2UgZGVwZW5kaW5nIG9uIHRoZSBhY3RpdmUgc2VjdGlvbiAvIHNsaWRlXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gc2V0Qm9keUNsYXNzKHRleHQpe1xyXG4gICAgICAgIHZhciBzZWN0aW9uID0gJChTRUNUSU9OX0FDVElWRV9TRUwpO1xyXG4gICAgICAgIHZhciBzbGlkZSA9ICQoU0xJREVfQUNUSVZFX1NFTCwgc2VjdGlvbik7XHJcblxyXG4gICAgICAgIHZhciBzZWN0aW9uQW5jaG9yID0gc2VjdGlvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtYW5jaG9yJyk7XHJcbiAgICAgICAgdmFyIHNlY3Rpb25JbmRleCA9IGdldE5vZGVJbmRleChzZWN0aW9uKTtcclxuXHJcbiAgICAgICAgdmFyIHRleHQgPSBTdHJpbmcoc2VjdGlvbkluZGV4KTtcclxuXHJcbiAgICAgICAgaWYob3B0aW9ucy5hbmNob3JzLmxlbmd0aCl7XHJcbiAgICAgICAgICAgIHRleHQgPSBzZWN0aW9uQW5jaG9yO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoc2xpZGUpe1xyXG4gICAgICAgICAgICB2YXIgc2xpZGVBbmNob3IgPSBnZXRTbGlkZUFuY2hvcihzbGlkZSk7XHJcbiAgICAgICAgICAgIHRleHQgPSB0ZXh0ICsgJy0nICsgc2xpZGVBbmNob3I7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2NoYW5naW5nIHNsYXNoIGZvciBkYXNoIHRvIG1ha2UgaXQgYSB2YWxpZCBDU1Mgc3R5bGVcclxuICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKCcvJywgJy0nKS5yZXBsYWNlKCcjJywnJyk7XHJcblxyXG4gICAgICAgIC8vcmVtb3ZpbmcgcHJldmlvdXMgYW5jaG9yIGNsYXNzZXNcclxuICAgICAgICB2YXIgY2xhc3NSZSA9IG5ldyBSZWdFeHAoJ1xcXFxiXFxcXHM/JyArIFZJRVdJTkdfUFJFRklYICsgJy1bXlxcXFxzXStcXFxcYicsIFwiZ1wiKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTmFtZSA9IGRvY3VtZW50LmJvZHkuY2xhc3NOYW1lLnJlcGxhY2UoY2xhc3NSZSwgJycpO1xyXG5cclxuICAgICAgICAvL2FkZGluZyB0aGUgY3VycmVudCBhbmNob3JcclxuICAgICAgICBhZGRDbGFzcyhkb2N1bWVudC5ib2R5LCBWSUVXSU5HX1BSRUZJWCArICctJyArIHRleHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDaGVja3MgZm9yIHRyYW5zbGF0ZTNkIHN1cHBvcnRcclxuICAgICogQHJldHVybiBib29sZWFuXHJcbiAgICAqIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTY2MTY3MS9kZXRlY3RpbmctdHJhbnNmb3JtLXRyYW5zbGF0ZTNkLXN1cHBvcnRcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBzdXBwb3J0M2QoKSB7XHJcbiAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpLFxyXG4gICAgICAgICAgICBoYXMzZCxcclxuICAgICAgICAgICAgdHJhbnNmb3JtcyA9IHtcclxuICAgICAgICAgICAgICAgICd3ZWJraXRUcmFuc2Zvcm0nOictd2Via2l0LXRyYW5zZm9ybScsXHJcbiAgICAgICAgICAgICAgICAnT1RyYW5zZm9ybSc6Jy1vLXRyYW5zZm9ybScsXHJcbiAgICAgICAgICAgICAgICAnbXNUcmFuc2Zvcm0nOictbXMtdHJhbnNmb3JtJyxcclxuICAgICAgICAgICAgICAgICdNb3pUcmFuc2Zvcm0nOictbW96LXRyYW5zZm9ybScsXHJcbiAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzondHJhbnNmb3JtJ1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBBZGQgaXQgdG8gdGhlIGJvZHkgdG8gZ2V0IHRoZSBjb21wdXRlZCBzdHlsZS5cclxuICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShlbCwgbnVsbCk7XHJcblxyXG4gICAgICAgIGZvciAodmFyIHQgaW4gdHJhbnNmb3Jtcykge1xyXG4gICAgICAgICAgICBpZiAoZWwuc3R5bGVbdF0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgZWwuc3R5bGVbdF0gPSAndHJhbnNsYXRlM2QoMXB4LDFweCwxcHgpJztcclxuICAgICAgICAgICAgICAgIGhhczNkID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpLmdldFByb3BlcnR5VmFsdWUodHJhbnNmb3Jtc1t0XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZWwpO1xyXG5cclxuICAgICAgICByZXR1cm4gKGhhczNkICE9PSB1bmRlZmluZWQgJiYgaGFzM2QubGVuZ3RoID4gMCAmJiBoYXMzZCAhPT0gJ25vbmUnKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBSZW1vdmVzIHRoZSBhdXRvIHNjcm9sbGluZyBhY3Rpb24gZmlyZWQgYnkgdGhlIG1vdXNlIHdoZWVsIGFuZCB0cmFja3BhZC5cclxuICAgICogQWZ0ZXIgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQsIHRoZSBtb3VzZXdoZWVsIGFuZCB0cmFja3BhZCBtb3ZlbWVudHMgd29uJ3Qgc2Nyb2xsIHRocm91Z2ggc2VjdGlvbnMuXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gcmVtb3ZlTW91c2VXaGVlbEhhbmRsZXIoKXtcclxuICAgICAgICB2YXIgd3JhcHBlciA9ICQoV1JBUFBFUl9TRUwpO1xyXG5cclxuICAgICAgICBpZiAoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikge1xyXG4gICAgICAgICAgICB3cmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNld2hlZWwnLCBNb3VzZVdoZWVsSGFuZGxlciwgZmFsc2UpOyAvL0lFOSwgQ2hyb21lLCBTYWZhcmksIE9wZXJcclxuICAgICAgICAgICAgd3JhcHBlci5yZW1vdmVFdmVudExpc3RlbmVyKCd3aGVlbCcsIE1vdXNlV2hlZWxIYW5kbGVyLCBmYWxzZSk7IC8vRmlyZWZveFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHdyYXBwZXIuZGV0YWNoRXZlbnQoJ29ubW91c2V3aGVlbCcsIE1vdXNlV2hlZWxIYW5kbGVyKTsgLy9JRSA2LzcvOFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEFkZHMgdGhlIGF1dG8gc2Nyb2xsaW5nIGFjdGlvbiBmb3IgdGhlIG1vdXNlIHdoZWVsIGFuZCB0cmFja3BhZC5cclxuICAgICogQWZ0ZXIgdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQsIHRoZSBtb3VzZXdoZWVsIGFuZCB0cmFja3BhZCBtb3ZlbWVudHMgd2lsbCBzY3JvbGwgdGhyb3VnaCBzZWN0aW9uc1xyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGFkZE1vdXNlV2hlZWxIYW5kbGVyKCl7XHJcbiAgICAgICAgYWRkSGFuZGxlcigkKFdSQVBQRVJfU0VMKSwgTW91c2VXaGVlbEhhbmRsZXIsICdtb3VzZXdoZWVsJywgJ29ubW91c2V3aGVlbCcsICd3aGVlbCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFkZFJlc2l6ZUhhbmRsZXIoKXtcclxuICAgICAgICBhZGRIYW5kbGVyKHdpbmRvdywgcmVzaXplSGFuZGxlciwgJ3Jlc2l6ZScsICdvbnJlc2l6ZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFkZFNjcm9sbEhhbmRsZXIoKXtcclxuICAgICAgICBhZGRIYW5kbGVyKHdpbmRvdywgc2Nyb2xsSGFuZGxlciwgJ3Njcm9sbCcsICdvbnNjcm9sbCcsICdvbnNjcm9sbCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFkZEhhbmRsZXIoZWxlbWVudCwgbWV0aG9kLCBub3JtYWwsIG9sZElFLCBmaXJlZm94KXtcclxuICAgICAgICBpZihlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIpe1xyXG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIobm9ybWFsLCBtZXRob2QsIGZhbHNlKTsgLy9JRTksIENocm9tZSwgU2FmYXJpLCBPcGVyXHJcblxyXG4gICAgICAgICAgICBpZih0eXBlb2YgZmlyZWZveCAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGZpcmVmb3gsIG1ldGhvZCwgZmFsc2UpOyAvL0ZpcmVmb3hcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBlbGVtZW50LmF0dGFjaEV2ZW50KG9sZElFLCBtZXRob2QpOyAgLy9JRSA2LzcvOFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEFkZHMgdGhlIHBvc3NpYmlsaXR5IHRvIGF1dG8gc2Nyb2xsIHRocm91Z2ggc2VjdGlvbnMgb24gdG91Y2ggZGV2aWNlcy5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBhZGRUb3VjaEhhbmRsZXIoKXtcclxuICAgICAgICBpZihpc1RvdWNoRGV2aWNlIHx8IGlzVG91Y2gpe1xyXG4gICAgICAgICAgICB2YXIgd3JhcHBlciA9ICQoV1JBUFBFUl9TRUwpO1xyXG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikge1xyXG4gICAgICAgICAgICAgICAgLy9NaWNyb3NvZnQgcG9pbnRlcnNcclxuICAgICAgICAgICAgICAgIHZhciBNU1BvaW50ZXIgPSBnZXRNU1BvaW50ZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB3cmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0b3VjaFN0YXJ0SGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICB3cmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoTVNQb2ludGVyLmRvd24sIHRvdWNoU3RhcnRIYW5kbGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICB3cmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRvdWNoTW92ZUhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgd3JhcHBlci5yZW1vdmVFdmVudExpc3RlbmVyKE1TUG9pbnRlci5tb3ZlLCB0b3VjaE1vdmVIYW5kbGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICBhZGRMaXN0ZW5lck11bHRpKHdyYXBwZXIsICd0b3VjaHN0YXJ0ICcgKyBNU1BvaW50ZXIuZG93biwgdG91Y2hTdGFydEhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgYWRkTGlzdGVuZXJNdWx0aSh3cmFwcGVyLCAndG91Y2htb3ZlICcgKyBNU1BvaW50ZXIubW92ZSwgdG91Y2hNb3ZlSGFuZGxlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFJlbW92ZXMgdGhlIGF1dG8gc2Nyb2xsaW5nIGZvciB0b3VjaCBkZXZpY2VzLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHJlbW92ZVRvdWNoSGFuZGxlcigpe1xyXG4gICAgICAgIGlmKGlzVG91Y2hEZXZpY2UgfHwgaXNUb3VjaCl7XHJcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gJChXUkFQUEVSX1NFTCk7XHJcblxyXG4gICAgICAgICAgICBpZiAod3JhcHBlci5hZGRFdmVudExpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgICAgICAvL01pY3Jvc29mdCBwb2ludGVyc1xyXG4gICAgICAgICAgICAgICAgdmFyIE1TUG9pbnRlciA9IGdldE1TUG9pbnRlcigpO1xyXG5cclxuICAgICAgICAgICAgICAgIHdyYXBwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRvdWNoU3RhcnRIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIHdyYXBwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihNU1BvaW50ZXIuZG93biwgdG91Y2hTdGFydEhhbmRsZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgIHdyYXBwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdG91Y2hNb3ZlSGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICB3cmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoTVNQb2ludGVyLm1vdmUsIHRvdWNoTW92ZUhhbmRsZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgKiBSZXR1cm5zIGFuZCBvYmplY3Qgd2l0aCBNaWNyb3NvZnQgcG9pbnRlcnMgKGZvciBJRTwxMSBhbmQgZm9yIElFID49IDExKVxyXG4gICAgKiBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvZG4zMDQ4ODYodj12cy44NSkuYXNweFxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldE1TUG9pbnRlcigpe1xyXG4gICAgICAgIHZhciBwb2ludGVyO1xyXG5cclxuICAgICAgICAvL0lFID49IDExICYgcmVzdCBvZiBicm93c2Vyc1xyXG4gICAgICAgIGlmKHdpbmRvdy5Qb2ludGVyRXZlbnQpe1xyXG4gICAgICAgICAgICBwb2ludGVyID0geyBkb3duOiAncG9pbnRlcmRvd24nLCBtb3ZlOiAncG9pbnRlcm1vdmUnfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vSUUgPCAxMVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHBvaW50ZXIgPSB7IGRvd246ICdNU1BvaW50ZXJEb3duJywgbW92ZTogJ01TUG9pbnRlck1vdmUnfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBwb2ludGVyO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAqIEdldHMgdGhlIHBhZ2VYIGFuZCBwYWdlWSBwcm9wZXJ0aWVzIGRlcGVuZGluZyBvbiB0aGUgYnJvd3Nlci5cclxuICAgICogaHR0cHM6Ly9naXRodWIuY29tL2FsdmFyb3RyaWdvL2Z1bGxQYWdlLmpzL2lzc3Vlcy8xOTQjaXNzdWVjb21tZW50LTM0MDY5ODU0XHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0RXZlbnRzUGFnZShlKXtcclxuICAgICAgICB2YXIgZXZlbnRzID0gW107XHJcblxyXG4gICAgICAgIGV2ZW50cy55ID0gKHR5cGVvZiBlLnBhZ2VZICE9PSAndW5kZWZpbmVkJyAmJiAoZS5wYWdlWSB8fCBlLnBhZ2VYKSA/IGUucGFnZVkgOiBlLnRvdWNoZXNbMF0ucGFnZVkpO1xyXG4gICAgICAgIGV2ZW50cy54ID0gKHR5cGVvZiBlLnBhZ2VYICE9PSAndW5kZWZpbmVkJyAmJiAoZS5wYWdlWSB8fCBlLnBhZ2VYKSA/IGUucGFnZVggOiBlLnRvdWNoZXNbMF0ucGFnZVgpO1xyXG5cclxuICAgICAgICAvL2luIHRvdWNoIGRldmljZXMgd2l0aCBzY3JvbGxCYXI6dHJ1ZSwgZS5wYWdlWSBpcyBkZXRlY3RlZCwgYnV0IHdlIGhhdmUgdG8gZGVhbCB3aXRoIHRvdWNoIGV2ZW50cy4gIzEwMDhcclxuICAgICAgICBpZihpc1RvdWNoICYmIGlzUmVhbGx5VG91Y2goZSkpe1xyXG4gICAgICAgICAgICBldmVudHMueSA9IGUudG91Y2hlc1swXS5wYWdlWTtcclxuICAgICAgICAgICAgZXZlbnRzLnggPSBlLnRvdWNoZXNbMF0ucGFnZVg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZXZlbnRzO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNpbGVudExhbmRzY2FwZVNjcm9sbChhY3RpdmVTbGlkZSwgbm9DYWxsYmFja3Mpe1xyXG4gICAgICAgIHNldFNjcm9sbGluZ1NwZWVkICgwLCAnaW50ZXJuYWwnKTtcclxuXHJcbiAgICAgICAgaWYodHlwZW9mIG5vQ2FsbGJhY2tzICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgIC8vcHJldmVudGluZyBmaXJpbmcgY2FsbGJhY2tzIGFmdGVyU2xpZGVMb2FkIGV0Yy5cclxuICAgICAgICAgICAgaXNSZXNpemluZyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2VxdWl2YWxlbnQgdG86ICAgYWN0aXZlU2xpZGUuY2xvc2VzdChTTElERVNfV1JBUFBFUl9TRUwpXHJcbiAgICAgICAgdmFyIHNsaWRlcyA9IGNsb3Nlc3QoYWN0aXZlU2xpZGUsIGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gaGFzQ2xhc3MoZWwsIFNMSURFU19XUkFQUEVSKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGFuZHNjYXBlU2Nyb2xsKHNsaWRlcywgYWN0aXZlU2xpZGUpO1xyXG5cclxuICAgICAgICBpZih0eXBlb2Ygbm9DYWxsYmFja3MgIT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgaXNSZXNpemluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2V0U2Nyb2xsaW5nU3BlZWQob3JpZ2luYWxzLnNjcm9sbGluZ1NwZWVkLCAnaW50ZXJuYWwnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzaWxlbnRTY3JvbGwodG9wKXtcclxuICAgICAgICBpZihvcHRpb25zLnNjcm9sbEJhcil7XHJcbiAgICAgICAgICAgIHZhciBzY3JvbGxTZXR0aW5ncyA9IGdldFNjcm9sbFNldHRpbmdzKHRvcCk7XHJcbiAgICAgICAgICAgIHNldFNjcm9sbGluZyhzY3JvbGxTZXR0aW5ncy5lbGVtZW50LCBzY3JvbGxTZXR0aW5ncy5vcHRpb25zLCAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5jc3MzKSB7XHJcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGUzZCA9ICd0cmFuc2xhdGUzZCgwcHgsIC0nICsgdG9wICsgJ3B4LCAwcHgpJztcclxuICAgICAgICAgICAgdHJhbnNmb3JtQ29udGFpbmVyKHRyYW5zbGF0ZTNkLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzZXRDc3MoY29udGFpbmVyLCAndG9wJywgLXRvcCArICdweCcpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0VHJhbnNmb3JtcyhlbGVtZW50LCB0cmFuc2xhdGUzZCl7XHJcbiAgICAgICAgY3NzKGVsZW1lbnQsIHtcclxuICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogdHJhbnNsYXRlM2QsXHJcbiAgICAgICAgICAgICctbW96LXRyYW5zZm9ybSc6IHRyYW5zbGF0ZTNkLFxyXG4gICAgICAgICAgICAnLW1zLXRyYW5zZm9ybSc6IHRyYW5zbGF0ZTNkLFxyXG4gICAgICAgICAgICAndHJhbnNmb3JtJzogdHJhbnNsYXRlM2RcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKlxyXG4gICAgKiBTZXRzIHRoZSBzdGF0ZSBmb3IgYSB2YXJpYWJsZSB3aXRoIG11bHRpcGxlIHN0YXRlcyAob3JpZ2luYWwsIGFuZCB0ZW1wb3JhbClcclxuICAgICogU29tZSB2YXJpYWJsZXMgc3VjaCBhcyBgYXV0b1Njcm9sbGluZ2Agb3IgYHJlY29yZEhpc3RvcnlgIG1pZ2h0IGNoYW5nZSBhdXRvbWF0aWNhbGx5IGl0cyBzdGF0ZSB3aGVuIHVzaW5nIGByZXNwb25zaXZlYCBvciBgYXV0b1Njcm9sbGluZzpmYWxzZWAuXHJcbiAgICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBrZWVwIHRyYWNrIG9mIGJvdGggc3RhdGVzLCB0aGUgb3JpZ2luYWwgYW5kIHRoZSB0ZW1wb3JhbCBvbmUuXHJcbiAgICAqIElmIHR5cGUgaXMgbm90ICdpbnRlcm5hbCcsIHRoZW4gd2UgYXNzdW1lIHRoZSB1c2VyIGlzIGdsb2JhbGx5IGNoYW5naW5nIHRoZSB2YXJpYWJsZS5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBzZXRWYXJpYWJsZVN0YXRlKHZhcmlhYmxlLCB2YWx1ZSwgdHlwZSl7XHJcbiAgICAgICAgb3B0aW9uc1t2YXJpYWJsZV0gPSB2YWx1ZTtcclxuICAgICAgICBpZih0eXBlICE9PSAnaW50ZXJuYWwnKXtcclxuICAgICAgICAgICAgb3JpZ2luYWxzW3ZhcmlhYmxlXSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRGlzcGxheXMgd2FybmluZ3NcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBkaXNwbGF5V2FybmluZ3MoKXtcclxuICAgICAgICAvL2FuY2hvcnMgY2FuIG5vdCBoYXZlIHRoZSBzYW1lIHZhbHVlIGFzIGFueSBlbGVtZW50IElEIG9yIE5BTUVcclxuICAgICAgICBmb3IodmFyIGkgPTA7IGk8b3B0aW9ucy5hbmNob3JzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgdmFyIG5hbWUgPSBvcHRpb25zLmFuY2hvcnNbaV07XHJcbiAgICAgICAgICAgIHZhciBleGlzdElkID0gZ2V0QnlJZCgnIycgKyBuYW1lKTtcclxuICAgICAgICAgICAgaWYoIGV4aXN0SWQgfHwgJCQoJ1tuYW1lPVwiJytuYW1lKydcIl0nKS5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgc2hvd0Vycm9yKCdlcnJvcicsICdkYXRhLWFuY2hvciB0YWdzIGNhbiBub3QgaGF2ZSB0aGUgc2FtZSB2YWx1ZSBhcyBhbnkgYGlkYCBlbGVtZW50IG9uIHRoZSBzaXRlIChvciBgbmFtZWAgZWxlbWVudCBmb3IgSUUpLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBTaG93cyBhIG1lc3NhZ2UgaW4gdGhlIGNvbnNvbGUgb2YgdGhlIGdpdmVuIHR5cGUuXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gc2hvd0Vycm9yKHR5cGUsIHRleHQpe1xyXG4gICAgICAgIGNvbnNvbGUgJiYgY29uc29sZVt0eXBlXSAmJiBjb25zb2xlW3R5cGVdKCdmdWxsUGFnZTogJyArIHRleHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vQVBJXHJcbiAgICBmdWxscGFnZSA9IHtcclxuICAgICAgICBpbml0aWFsaXplOiBpbml0aWFsaXplLFxyXG4gICAgICAgIG1vdmVTZWN0aW9uVXA6IG1vdmVTZWN0aW9uVXAsXHJcbiAgICAgICAgbW92ZVNlY3Rpb25Eb3duOiBtb3ZlU2VjdGlvbkRvd24sXHJcbiAgICAgICAgbW92ZVRvOiBtb3ZlVG8sXHJcbiAgICAgICAgc2lsZW50TW92ZVRvOiBzaWxlbnRNb3ZlVG8sXHJcbiAgICAgICAgbW92ZVNsaWRlUmlnaHQ6IG1vdmVTbGlkZVJpZ2h0LFxyXG4gICAgICAgIG1vdmVTbGlkZUxlZnQ6IG1vdmVTbGlkZUxlZnQsXHJcbiAgICAgICAgc2V0QXV0b1Njcm9sbGluZzogc2V0QXV0b1Njcm9sbGluZyxcclxuICAgICAgICBzZXRGaXRUb1NlY3Rpb246IHNldEZpdFRvU2VjdGlvbixcclxuICAgICAgICBzZXRLZXlib2FyZFNjcm9sbGluZzogc2V0S2V5Ym9hcmRTY3JvbGxpbmcsXHJcbiAgICAgICAgc2V0UmVjb3JkSGlzdG9yeTogc2V0UmVjb3JkSGlzdG9yeSxcclxuICAgICAgICBzZXRTY3JvbGxpbmdTcGVlZDogc2V0U2Nyb2xsaW5nU3BlZWRcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIGZ1bGxwYWdlO1xyXG59KSk7XHJcbiIsInZhciBtZWRpYXF1ZXJ5ID0gd2luZG93Lm1hdGNoTWVkaWEoXCIobWluLXdpZHRoOiA3MjhweClcIik7XHJcblxyXG5pZiAobWVkaWFxdWVyeS5tYXRjaGVzKSB7XHJcbiAgICBmdWxscGFnZS5pbml0aWFsaXplKCcjZnVsbHBhZ2UnLCB7XHJcbiAgICAgICAgJ3Njcm9sbGluZ1NwZWVkJzogMTAwMCxcclxuICAgICAgICBjc3MzOnRydWUsXHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5vbndoZWVsID0gZnVuY3Rpb24oKSB7b25XaGVlbEFjdGlvbnMoKX07XHJcbiAgICBmdW5jdGlvbiBvbldoZWVsQWN0aW9ucygpIHtcclxuICAgICAgICAvL2luaWNpb1xyXG4gICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImluaWNpb1wiKS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKXtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYXJcIikuY2xhc3NMaXN0LmFkZCgnZGlydHknKVxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhclwiKS5jbGFzc0xpc3QuYWRkKCdkaXJ0eV8xJylcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluTG9nb1wiKS5jbGFzc0xpc3QucmVtb3ZlKCdzbWFsbCcpXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FyXCIpLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKVxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhclwiKS5jbGFzc0xpc3QucmVtb3ZlKCdjbGVhbicpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYXJcIikuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpbkxvZ29cIikuY2xhc3NMaXN0LmFkZCgnc21hbGwnKVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL2xhdmFkb1xyXG4gICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlY2lib1wiKS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKXtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYXJcIikuY2xhc3NMaXN0LmFkZCgnZGlydHknKVxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhclwiKS5jbGFzc0xpc3QuYWRkKCdkaXJ0eV8xJylcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYXJcIikuY2xhc3NMaXN0LnJlbW92ZSgnY2xlYW4nKVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL2xhdmFkb1xyXG4gICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxhdmFkb1wiKS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKXtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYXJcIikuY2xhc3NMaXN0LmFkZCgnZGlydHknKVxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhclwiKS5jbGFzc0xpc3QuYWRkKCdkaXJ0eV8xJylcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYXJcIikuY2xhc3NMaXN0LnJlbW92ZSgnY2xlYW4nKVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL3NoYW1wb29cclxuICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGFtcG9vXCIpLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpe1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhclwiKS5jbGFzc0xpc3QuYWRkKCdkaXJ0eV8xJylcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYXJcIikuY2xhc3NMaXN0LnJlbW92ZSgnZGlydHknKVxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhclwiKS5jbGFzc0xpc3QucmVtb3ZlKCdjbGVhbicpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vZGVzY29udGFtaW5hY2lvblxyXG4gICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NvbnRhbWluYWNpb25cIikuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSl7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FyXCIpLmNsYXNzTGlzdC5yZW1vdmUoJ2RpcnR5XzEnKVxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhclwiKS5jbGFzc0xpc3QuYWRkKCdjbGVhbicpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vYnJpbGxvXHJcbiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnJpbGxvXCIpLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpe1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhclwiKS5jbGFzc0xpc3QuYWRkKCdzaGluaW5nJylcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhclwiKS5jbGFzc0xpc3QucmVtb3ZlKCdzaGluaW5nJylcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9pbnRlcmlvclxyXG4gICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImludGVyaW9yXCIpLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpe1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhck5vcm1hbFwiKS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhckludGVyaW9yXCIpLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYXJJbnRlcmlvclwiKS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL21vdG9yXHJcbiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW90b3JcIikuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSl7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FyXCIpLmNsYXNzTGlzdC5hZGQoJ3pvb20nKVxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhck5vcm1hbFwiKS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhck1vdG9yXCIpLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FyXCIpLmNsYXNzTGlzdC5yZW1vdmUoJ3pvb20nKVxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhck5vcm1hbFwiKS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhck1vdG9yXCIpLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IGVsc2Uge1xyXG4gICAgLy8gbWVkaWFxdWVyeSBubyBlcyA2MDBcclxufSJdfQ==
